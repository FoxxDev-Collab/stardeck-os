(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},70065,e=>{"use strict";e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>l,"CardHeader",()=>s,"CardTitle",()=>i]);var t=e.i(43476),a=e.i(47163);function r(e){let{className:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...s})}function s(e){let{className:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...s})}function i(e){let{className:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",r),...s})}function l(e){let{className:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",r),...s})}function n(e){let{className:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",r),...s})}},23750,e=>{"use strict";e.s(["Input",()=>r]);var t=e.i(43476),a=e.i(47163);function r(e){let{className:r,type:s,...i}=e;return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...i})}},10708,48425,e=>{"use strict";e.s(["Label",()=>n],10708);var t=e.i(43476),a=e.i(71645);e.s(["Primitive",()=>s],48425),e.i(74080);var r=e.i(91918),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,r.createSlot)("Primitive.".concat(s)),l=a.forwardRef((e,a)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?i:s,{...l,ref:a})});return l.displayName="Primitive.".concat(s),{...e,[s]:l}},{}),i=a.forwardRef((e,a)=>(0,t.jsx)(s.label,{...e,ref:a,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=e.i(47163);function n(e){let{className:a,...r}=e;return(0,t.jsx)(i,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...r})}},55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},27341,e=>{"use strict";e.s(["Tabs",()=>A,"TabsContent",()=>B,"TabsList",()=>P,"TabsTrigger",()=>D],27341);var t=e.i(43476),a=e.i(71645),r=e.i(81140),s=e.i(30030),i=e.i(42727),l=e.i(96626);e.i(74080);var n=e.i(20783),o=Symbol("radix.slottable");function c(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let s=function(e){let r=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){var i,l,o;let e,c,d=(c=(e=null==(l=Object.getOwnPropertyDescriptor((i=r).props,"ref"))?void 0:l.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(c=(e=null==(o=Object.getOwnPropertyDescriptor(i,"ref"))?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref,u=function(e,t){let a={...t};for(let r in t){let s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?a[r]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let r=i(...t);return s(...t),r}:s&&(a[r]=s):"style"===r?a[r]={...s,...i}:"className"===r&&(a[r]=[s,i].filter(Boolean).join(" "))}return{...e,...a}}(s,r.props);return r.type!==a.Fragment&&(u.ref=t?(0,n.composeRefs)(t,d):d),a.cloneElement(r,u)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),s=a.forwardRef((e,s)=>{let{children:i,...l}=e,n=a.Children.toArray(i),o=n.find(c);if(o){let e=o.props.children,i=n.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(r,{...l,ref:s,children:a.isValidElement(e)?a.cloneElement(e,void 0,i):null})}return(0,t.jsx)(r,{...l,ref:s,children:i})});return s.displayName="".concat(e,".Slot"),s}("Primitive.".concat(r)),i=a.forwardRef((e,a)=>{let{asChild:i,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?s:r,{...l,ref:a})});return i.displayName="Primitive.".concat(r),{...e,[r]:i}},{}),u=e.i(86318),h=e.i(69340),p=e.i(10772),m="Tabs",[x,f]=(0,s.createContextScope)(m,[i.createRovingFocusGroupScope]),g=(0,i.createRovingFocusGroupScope)(),[b,j]=x(m),y=a.forwardRef((e,a)=>{let{__scopeTabs:r,value:s,onValueChange:i,defaultValue:l,orientation:n="horizontal",dir:o,activationMode:c="automatic",...x}=e,f=(0,u.useDirection)(o),[g,j]=(0,h.useControllableState)({prop:s,onChange:i,defaultProp:null!=l?l:"",caller:m});return(0,t.jsx)(b,{scope:r,baseId:(0,p.useId)(),value:g,onValueChange:j,orientation:n,dir:f,activationMode:c,children:(0,t.jsx)(d.div,{dir:f,"data-orientation":n,...x,ref:a})})});y.displayName=m;var v="TabsList",N=a.forwardRef((e,a)=>{let{__scopeTabs:r,loop:s=!0,...l}=e,n=j(v,r),o=g(r);return(0,t.jsx)(i.Root,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:s,children:(0,t.jsx)(d.div,{role:"tablist","aria-orientation":n.orientation,...l,ref:a})})});N.displayName=v;var C="TabsTrigger",w=a.forwardRef((e,a)=>{let{__scopeTabs:s,value:l,disabled:n=!1,...o}=e,c=j(C,s),u=g(s),h=T(c.baseId,l),p=R(c.baseId,l),m=l===c.value;return(0,t.jsx)(i.Item,{asChild:!0,...u,focusable:!n,active:m,children:(0,t.jsx)(d.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:h,...o,ref:a,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(l)}),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(l)}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;m||n||!e||c.onValueChange(l)})})})});w.displayName=C;var k="TabsContent",S=a.forwardRef((e,r)=>{let{__scopeTabs:s,value:i,forceMount:n,children:o,...c}=e,u=j(k,s),h=T(u.baseId,i),p=R(u.baseId,i),m=i===u.value,x=a.useRef(m);return a.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(l.Presence,{present:n||m,children:a=>{let{present:s}=a;return(0,t.jsx)(d.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!s,id:p,tabIndex:0,...c,ref:r,style:{...e.style,animationDuration:x.current?"0s":void 0},children:s&&o})}})});function T(e,t){return"".concat(e,"-trigger-").concat(t)}function R(e,t){return"".concat(e,"-content-").concat(t)}S.displayName=k;var E=e.i(47163);function A(e){let{className:a,...r}=e;return(0,t.jsx)(y,{"data-slot":"tabs",className:(0,E.cn)("flex flex-col gap-2",a),...r})}function P(e){let{className:a,...r}=e;return(0,t.jsx)(N,{"data-slot":"tabs-list",className:(0,E.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...r})}function D(e){let{className:a,...r}=e;return(0,t.jsx)(w,{"data-slot":"tabs-trigger",className:(0,E.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...r})}function B(e){let{className:a,...r}=e;return(0,t.jsx)(S,{"data-slot":"tabs-content",className:(0,E.cn)("flex-1 outline-none",a),...r})}},7233,e=>{"use strict";e.s(["Plus",()=>t],7233);let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88511,e=>{"use strict";e.s(["Edit",()=>t],88511);let t=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},40160,e=>{"use strict";e.s(["Download",()=>t],40160);let t=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},95468,e=>{"use strict";e.s(["CheckCircle2",()=>t],95468);let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},50537,e=>{"use strict";e.s(["default",()=>N]);var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(91432),i=e.i(70065),l=e.i(67881),n=e.i(23750),o=e.i(10708),c=e.i(27341),d=e.i(48654),u=e.i(88844),h=e.i(40160),p=e.i(95468),m=e.i(78894),x=e.i(16715),f=e.i(55436),g=e.i(7233),b=e.i(27612),j=e.i(88511),y=e.i(18393),v=e.i(63209);function N(){let{isAuthenticated:e,isLoading:N,token:C}=(0,s.useAuth)(),w=(0,r.useRouter)(),[k,S]=(0,a.useState)(""),[T,R]=(0,a.useState)([]),[E,A]=(0,a.useState)([]),[P,D]=(0,a.useState)(new Set),[B,F]=(0,a.useState)(!1),[I,z]=(0,a.useState)(""),[L,M]=(0,a.useState)([]),[H,U]=(0,a.useState)(!1),[_,O]=(0,a.useState)(new Set),[V,G]=(0,a.useState)([]),[K,q]=(0,a.useState)(!1),[W,J]=(0,a.useState)(null),[Y,Z]=(0,a.useState)({id:"",name:"",baseurl:"",enabled:!0,gpgcheck:!0}),[Q,X]=(0,a.useState)(null),[$,ee]=(0,a.useState)("updates");(0,a.useEffect)(()=>{N||e||w.push("/login")},[e,N,w]),(0,a.useEffect)(()=>{let e=()=>{S(new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[]),(0,a.useEffect)(()=>{e&&C&&("updates"===$?(et(),ea()):"repositories"===$&&en())},[e,C,$]);let et=(0,a.useCallback)(async()=>{if(C)try{let e=await fetch("/api/updates/available",{headers:{Authorization:"Bearer ".concat(C)}});if(!e.ok)throw Error("Failed to fetch updates");let t=await e.json();R(t||[])}catch(e){X("Failed to fetch updates"),console.error(e)}},[C]),ea=(0,a.useCallback)(async()=>{if(C)try{let e=await fetch("/api/updates/history",{headers:{Authorization:"Bearer ".concat(C)}});if(!e.ok)throw Error("Failed to fetch history");let t=await e.json();A(t||[])}catch(e){console.error(e)}},[C]),er=async()=>{if(C){F(!0),X(null);try{let e=P.size>0?Array.from(P):[],t=await fetch("/api/updates/apply",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(C)},body:JSON.stringify({packages:e})});if(!t.ok)throw Error("Failed to apply updates");let a=await t.json();alert(a.message||"Updates applied successfully"),D(new Set),et(),ea()}catch(e){X("Failed to apply updates"),console.error(e)}finally{F(!1)}}},es=async()=>{if(C&&I.trim()){U(!0),X(null);try{let e=await fetch("/api/packages/search?q=".concat(encodeURIComponent(I)),{headers:{Authorization:"Bearer ".concat(C)}});if(!e.ok)throw Error("Failed to search packages");let t=await e.json();M(t||[])}catch(e){X("Failed to search packages"),console.error(e)}finally{U(!1)}}},ei=async()=>{if(C&&0!==_.size){U(!0),X(null);try{let e=await fetch("/api/packages/install",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(C)},body:JSON.stringify({packages:Array.from(_)})});if(!e.ok)throw Error("Failed to install packages");let t=await e.json();alert(t.message||"Packages installed successfully"),O(new Set),M([]),z("")}catch(e){X("Failed to install packages"),console.error(e)}finally{U(!1)}}},el=async()=>{if(C){U(!0),X(null);try{if(!(await fetch("/api/metadata/refresh",{method:"POST",headers:{Authorization:"Bearer ".concat(C)}})).ok)throw Error("Failed to refresh metadata");alert("Repository metadata refreshed successfully"),et()}catch(e){X("Failed to refresh metadata"),console.error(e)}finally{U(!1)}}},en=(0,a.useCallback)(async()=>{if(C)try{let e=await fetch("/api/repositories",{headers:{Authorization:"Bearer ".concat(C)}});if(!e.ok)throw Error("Failed to fetch repositories");let t=await e.json();G(t||[])}catch(e){X("Failed to fetch repositories"),console.error(e)}},[C]),eo=async()=>{if(C){X(null);try{if(!(await fetch(W?"/api/repositories/".concat(W):"/api/repositories",{method:W?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(C)},body:JSON.stringify(Y)})).ok)throw Error("Failed to save repository");alert("Repository ".concat(W?"updated":"created"," successfully")),q(!1),J(null),Z({id:"",name:"",baseurl:"",enabled:!0,gpgcheck:!0}),en()}catch(e){X("Failed to save repository"),console.error(e)}}},ec=async e=>{if(C&&confirm("Delete repository ".concat(e,"?")))try{if(!(await fetch("/api/repositories/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(C)}})).ok)throw Error("Failed to delete repository");alert("Repository deleted successfully"),en()}catch(e){X("Failed to delete repository"),console.error(e)}};if(N)return(0,t.jsx)(d.DashboardLayout,{title:"RPM Manager",time:k,children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)(x.RefreshCw,{className:"w-8 h-8 animate-spin text-blue-500"})})});if(!e)return null;let ed=T.filter(e=>e.security_update).length,eu=T.length;return(0,t.jsx)(d.DashboardLayout,{title:"RPM MANAGER",time:k,children:(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[Q&&(0,t.jsxs)("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg text-destructive text-sm flex items-center gap-2",children:[(0,t.jsx)(v.AlertCircle,{className:"w-4 h-4"}),Q]}),(0,t.jsxs)(c.Tabs,{value:$,onValueChange:ee,className:"w-full",children:[(0,t.jsxs)(c.TabsList,{className:"grid w-full grid-cols-3",children:[(0,t.jsxs)(c.TabsTrigger,{value:"updates",children:[(0,t.jsx)(h.Download,{className:"w-4 h-4 mr-2"}),"Updates"]}),(0,t.jsxs)(c.TabsTrigger,{value:"packages",children:[(0,t.jsx)(u.Package,{className:"w-4 h-4 mr-2"}),"Packages"]}),(0,t.jsxs)(c.TabsTrigger,{value:"repositories",children:[(0,t.jsx)(y.Server,{className:"w-4 h-4 mr-2"}),"Repositories"]})]}),(0,t.jsxs)(c.TabsContent,{value:"updates",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(i.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Available Updates"}),(0,t.jsx)(u.Package,{className:"w-4 h-4 text-accent"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold",children:eu}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[ed," security"]})]})]}),(0,t.jsxs)(i.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Security Updates"}),(0,t.jsx)(m.AlertTriangle,{className:"w-4 h-4 text-accent"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold",children:ed}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Critical patches"})]})]}),(0,t.jsxs)(i.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Selected"}),(0,t.jsx)(p.CheckCircle2,{className:"w-4 h-4 text-accent"})]}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold",children:P.size}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ready to install"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(l.Button,{onClick:er,disabled:B||0===eu,className:"flex items-center gap-2",children:[(0,t.jsx)(h.Download,{className:"w-4 h-4"}),P.size>0?"Apply Selected (".concat(P.size,")"):"Apply All Updates"]}),(0,t.jsxs)(l.Button,{onClick:el,variant:"outline",disabled:B,className:"flex items-center gap-2",children:[(0,t.jsx)(x.RefreshCw,{className:"w-4 h-4"}),"Refresh Metadata"]})]}),(0,t.jsxs)(i.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Available Updates"})}),(0,t.jsx)(i.CardContent,{children:0===eu?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(p.CheckCircle2,{className:"w-12 h-12 mx-auto mb-2 text-green-400"}),(0,t.jsx)("p",{children:"System is up to date"})]}):(0,t.jsx)("div",{className:"space-y-2",children:T.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border/40 rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>(e=>{let t=new Set(P);t.has(e)?t.delete(e):t.add(e),D(t)})(e.name),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("input",{type:"checkbox",checked:P.has(e.name),onChange:()=>{},className:"w-4 h-4"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),e.security_update&&(0,t.jsx)("span",{className:"text-xs bg-orange-500/20 text-orange-400 px-2 py-0.5 rounded",children:"SECURITY"})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.current_version," â†’ ",e.new_version]})]})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.repository})]},e.name))})})]}),(0,t.jsxs)(i.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Update History"})}),(0,t.jsx)(i.CardContent,{children:0===E.length?(0,t.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No update history"}):(0,t.jsx)("div",{className:"space-y-2",children:E.slice(0,10).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border/40 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.action}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:new Date(e.date).toLocaleString()})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.package_count," packages"]})]},e.id))})})]})]}),(0,t.jsx)(c.TabsContent,{value:"packages",className:"space-y-6",children:(0,t.jsxs)(i.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Search Packages"})}),(0,t.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Input,{placeholder:"Search for packages...",value:I,onChange:e=>z(e.target.value),onKeyPress:e=>"Enter"===e.key&&es(),className:"flex-1"}),(0,t.jsxs)(l.Button,{onClick:es,disabled:H||!I.trim(),children:[(0,t.jsx)(f.Search,{className:"w-4 h-4 mr-2"}),"Search"]})]}),_.size>0&&(0,t.jsxs)(l.Button,{onClick:ei,disabled:H,className:"w-full",children:[(0,t.jsx)(h.Download,{className:"w-4 h-4 mr-2"}),"Install Selected (",_.size,")"]}),L.length>0&&(0,t.jsx)("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:L.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border/40 rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>(e=>{let t=new Set(_);t.has(e)?t.delete(e):t.add(e),O(t)})(e.name),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("input",{type:"checkbox",checked:_.has(e.name),onChange:()=>{},className:"w-4 h-4"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"font-medium",children:[e.name,e.arch&&(0,t.jsxs)("span",{className:"text-muted-foreground ml-2",children:["(",e.arch,")"]})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.summary})]})]}),e.repository&&(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.repository})]},"".concat(e.name,"-").concat(e.arch)))}),0===L.length&&I&&!H&&(0,t.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No packages found"})]})]})}),(0,t.jsxs)(c.TabsContent,{value:"repositories",className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(l.Button,{onClick:()=>{q(!0),J(null),Z({id:"",name:"",baseurl:"",enabled:!0,gpgcheck:!0})},children:[(0,t.jsx)(g.Plus,{className:"w-4 h-4 mr-2"}),"Add Repository"]})}),K&&(0,t.jsxs)(i.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:W?"Edit Repository":"Add Repository"})}),(0,t.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{children:"Repository ID"}),(0,t.jsx)(n.Input,{value:Y.id,onChange:e=>Z({...Y,id:e.target.value}),placeholder:"my-repo",disabled:!!W})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{children:"Name"}),(0,t.jsx)(n.Input,{value:Y.name,onChange:e=>Z({...Y,name:e.target.value}),placeholder:"My Repository"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{children:"Base URL"}),(0,t.jsx)(n.Input,{value:Y.baseurl||"",onChange:e=>Z({...Y,baseurl:e.target.value}),placeholder:"https://example.com/repo"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{children:"Mirror List (optional)"}),(0,t.jsx)(n.Input,{value:Y.mirrorlist||"",onChange:e=>Z({...Y,mirrorlist:e.target.value}),placeholder:"https://example.com/mirrorlist"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Label,{children:"GPG Key (optional)"}),(0,t.jsx)(n.Input,{value:Y.gpgkey||"",onChange:e=>Z({...Y,gpgkey:e.target.value}),placeholder:"https://example.com/RPM-GPG-KEY"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:Y.enabled,onChange:e=>Z({...Y,enabled:e.target.checked})}),"Enabled"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:Y.gpgcheck,onChange:e=>Z({...Y,gpgcheck:e.target.checked})}),"GPG Check"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.Button,{onClick:eo,children:"Save Repository"}),(0,t.jsx)(l.Button,{variant:"outline",onClick:()=>{q(!1),J(null)},children:"Cancel"})]})]})]}),(0,t.jsxs)(i.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Configured Repositories"})}),(0,t.jsx)(i.CardContent,{children:0===V.length?(0,t.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No repositories configured"}):(0,t.jsx)("div",{className:"space-y-2",children:V.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border/40 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),e.enabled?(0,t.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded",children:"ENABLED"}):(0,t.jsx)("span",{className:"text-xs bg-gray-500/20 text-gray-400 px-2 py-0.5 rounded",children:"DISABLED"})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.id}),e.baseurl&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.baseurl})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.Button,{size:"sm",variant:"outline",onClick:()=>{Z(e),J(e.id),q(!0)},children:(0,t.jsx)(j.Edit,{className:"w-4 h-4"})}),(0,t.jsx)(l.Button,{size:"sm",variant:"outline",onClick:()=>ec(e.id),children:(0,t.jsx)(b.Trash2,{className:"w-4 h-4"})})]})]},e.id))})})]})]})]})]})})}}]);