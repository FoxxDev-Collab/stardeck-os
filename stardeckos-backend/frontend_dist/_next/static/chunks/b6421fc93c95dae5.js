(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";e.s(["Plus",()=>s],7233);let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3116,e=>{"use strict";e.s(["Clock",()=>s],3116);let s=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},78917,e=>{"use strict";e.s(["ExternalLink",()=>s],78917);let s=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},43531,e=>{"use strict";e.s(["Check",()=>s.default]);var s=e.i(78745)},27341,e=>{"use strict";e.s(["Tabs",()=>I,"TabsContent",()=>P,"TabsList",()=>D,"TabsTrigger",()=>A],27341);var s=e.i(43476),a=e.i(71645),t=e.i(81140),r=e.i(30030),n=e.i(42727),l=e.i(96626);e.i(74080);var c=e.i(20783),i=Symbol("radix.slottable");function o(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let s=a.forwardRef((e,s)=>{let{children:t,...r}=e;if(a.isValidElement(t)){var n,l,i;let e,o,d=(o=(e=null==(l=Object.getOwnPropertyDescriptor((n=t).props,"ref"))?void 0:l.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(o=(e=null==(i=Object.getOwnPropertyDescriptor(n,"ref"))?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref,m=function(e,s){let a={...s};for(let t in s){let r=e[t],n=s[t];/^on[A-Z]/.test(t)?r&&n?a[t]=function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];let t=n(...s);return r(...s),t}:r&&(a[t]=r):"style"===t?a[t]={...r,...n}:"className"===t&&(a[t]=[r,n].filter(Boolean).join(" "))}return{...e,...a}}(r,t.props);return t.type!==a.Fragment&&(m.ref=s?(0,c.composeRefs)(s,d):d),a.cloneElement(t,m)}return a.Children.count(t)>1?a.Children.only(null):null});return s.displayName="".concat(e,".SlotClone"),s}(e),r=a.forwardRef((e,r)=>{let{children:n,...l}=e,c=a.Children.toArray(n),i=c.find(o);if(i){let e=i.props.children,n=c.map(s=>s!==i?s:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...l,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,s.jsx)(t,{...l,ref:r,children:n})});return r.displayName="".concat(e,".Slot"),r}("Primitive.".concat(t)),n=a.forwardRef((e,a)=>{let{asChild:n,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(n?r:t,{...l,ref:a})});return n.displayName="Primitive.".concat(t),{...e,[t]:n}},{}),m=e.i(86318),u=e.i(69340),x=e.i(10772),h="Tabs",[p,f]=(0,r.createContextScope)(h,[n.createRovingFocusGroupScope]),g=(0,n.createRovingFocusGroupScope)(),[j,v]=p(h),b=a.forwardRef((e,a)=>{let{__scopeTabs:t,value:r,onValueChange:n,defaultValue:l,orientation:c="horizontal",dir:i,activationMode:o="automatic",...p}=e,f=(0,m.useDirection)(i),[g,v]=(0,u.useControllableState)({prop:r,onChange:n,defaultProp:null!=l?l:"",caller:h});return(0,s.jsx)(j,{scope:t,baseId:(0,x.useId)(),value:g,onValueChange:v,orientation:c,dir:f,activationMode:o,children:(0,s.jsx)(d.div,{dir:f,"data-orientation":c,...p,ref:a})})});b.displayName=h;var N="TabsList",y=a.forwardRef((e,a)=>{let{__scopeTabs:t,loop:r=!0,...l}=e,c=v(N,t),i=g(t);return(0,s.jsx)(n.Root,{asChild:!0,...i,orientation:c.orientation,dir:c.dir,loop:r,children:(0,s.jsx)(d.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:a})})});y.displayName=N;var w="TabsTrigger",k=a.forwardRef((e,a)=>{let{__scopeTabs:r,value:l,disabled:c=!1,...i}=e,o=v(w,r),m=g(r),u=R(o.baseId,l),x=E(o.baseId,l),h=l===o.value;return(0,s.jsx)(n.Item,{asChild:!0,...m,focusable:!c,active:h,children:(0,s.jsx)(d.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:u,...i,ref:a,onMouseDown:(0,t.composeEventHandlers)(e.onMouseDown,e=>{c||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(l)}),onKeyDown:(0,t.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(l)}),onFocus:(0,t.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==o.activationMode;h||c||!e||o.onValueChange(l)})})})});k.displayName=w;var C="TabsContent",S=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,forceMount:c,children:i,...o}=e,m=v(C,r),u=R(m.baseId,n),x=E(m.baseId,n),h=n===m.value,p=a.useRef(h);return a.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(l.Presence,{present:c||h,children:a=>{let{present:r}=a;return(0,s.jsx)(d.div,{"data-state":h?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:x,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:r&&i})}})});function R(e,s){return"".concat(e,"-trigger-").concat(s)}function E(e,s){return"".concat(e,"-content-").concat(s)}S.displayName=C;var T=e.i(47163);function I(e){let{className:a,...t}=e;return(0,s.jsx)(b,{"data-slot":"tabs",className:(0,T.cn)("flex flex-col gap-2",a),...t})}function D(e){let{className:a,...t}=e;return(0,s.jsx)(y,{"data-slot":"tabs-list",className:(0,T.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...t})}function A(e){let{className:a,...t}=e;return(0,s.jsx)(k,{"data-slot":"tabs-trigger",className:(0,T.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...t})}function P(e){let{className:a,...t}=e;return(0,s.jsx)(S,{"data-slot":"tabs-content",className:(0,T.cn)("flex-1 outline-none",a),...t})}},16715,e=>{"use strict";e.s(["RefreshCw",()=>s],16715);let s=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},27612,e=>{"use strict";e.s(["Trash2",()=>s],27612);let s=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},42727,e=>{"use strict";e.s(["Item",()=>D,"Root",()=>I,"createRovingFocusGroupScope",()=>N],42727);var s=e.i(71645),a=e.i(81140),t=e.i(75830),r=e.i(20783),n=e.i(30030),l=e.i(10772);e.i(74080);var c=e.i(43476),i=Symbol("radix.slottable");function o(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let t=function(e){let a=function(e){let a=s.forwardRef((e,a)=>{let{children:t,...n}=e;if(s.isValidElement(t)){var l,c,i;let e,o,d=(o=(e=null==(c=Object.getOwnPropertyDescriptor((l=t).props,"ref"))?void 0:c.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(o=(e=null==(i=Object.getOwnPropertyDescriptor(l,"ref"))?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref,m=function(e,s){let a={...s};for(let t in s){let r=e[t],n=s[t];/^on[A-Z]/.test(t)?r&&n?a[t]=function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];let t=n(...s);return r(...s),t}:r&&(a[t]=r):"style"===t?a[t]={...r,...n}:"className"===t&&(a[t]=[r,n].filter(Boolean).join(" "))}return{...e,...a}}(n,t.props);return t.type!==s.Fragment&&(m.ref=a?(0,r.composeRefs)(a,d):d),s.cloneElement(t,m)}return s.Children.count(t)>1?s.Children.only(null):null});return a.displayName="".concat(e,".SlotClone"),a}(e),t=s.forwardRef((e,t)=>{let{children:r,...n}=e,l=s.Children.toArray(r),i=l.find(o);if(i){let e=i.props.children,r=l.map(a=>a!==i?a:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,c.jsx)(a,{...n,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return(0,c.jsx)(a,{...n,ref:t,children:r})});return t.displayName="".concat(e,".Slot"),t}("Primitive.".concat(a)),n=s.forwardRef((e,s)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,c.jsx)(r?t:a,{...n,ref:s})});return n.displayName="Primitive.".concat(a),{...e,[a]:n}},{}),m=e.i(30207),u=e.i(69340),x=e.i(86318),h="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[g,j,v]=(0,t.createCollection)(f),[b,N]=(0,n.createContextScope)(f,[v]),[y,w]=b(f),k=s.forwardRef((e,s)=>(0,c.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,c.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,c.jsx)(C,{...e,ref:s})})}));k.displayName=f;var C=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:l,loop:i=!1,dir:o,currentTabStopId:g,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:b,onEntryFocus:N,preventScrollOnEntryFocus:w=!1,...k}=e,C=s.useRef(null),S=(0,r.useComposedRefs)(t,C),R=(0,x.useDirection)(o),[E,I]=(0,u.useControllableState)({prop:g,defaultProp:null!=v?v:null,onChange:b,caller:f}),[D,A]=s.useState(!1),P=(0,m.useCallbackRef)(N),z=j(n),M=s.useRef(!1),[B,F]=s.useState(0);return s.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(h,P),()=>e.removeEventListener(h,P)},[P]),(0,c.jsx)(y,{scope:n,orientation:l,dir:R,loop:i,currentTabStopId:E,onItemFocus:s.useCallback(e=>I(e),[I]),onItemShiftTab:s.useCallback(()=>A(!0),[]),onFocusableItemAdd:s.useCallback(()=>F(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>F(e=>e-1),[]),children:(0,c.jsx)(d.div,{tabIndex:D||0===B?-1:0,"data-orientation":l,...k,ref:S,style:{outline:"none",...e.style},onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,()=>{M.current=!0}),onFocus:(0,a.composeEventHandlers)(e.onFocus,e=>{let s=!M.current;if(e.target===e.currentTarget&&s&&!D){let s=new CustomEvent(h,p);if(e.currentTarget.dispatchEvent(s),!s.defaultPrevented){let e=z().filter(e=>e.focusable);T([e.find(e=>e.active),e.find(e=>e.id===E),...e].filter(Boolean).map(e=>e.ref.current),w)}}M.current=!1}),onBlur:(0,a.composeEventHandlers)(e.onBlur,()=>A(!1))})})}),S="RovingFocusGroupItem",R=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:o,children:m,...u}=e,x=(0,l.useId)(),h=o||x,p=w(S,r),f=p.currentTabStopId===h,v=j(r),{onFocusableItemAdd:b,onFocusableItemRemove:N,currentTabStopId:y}=p;return s.useEffect(()=>{if(n)return b(),()=>N()},[n,b,N]),(0,c.jsx)(g.ItemSlot,{scope:r,id:h,focusable:n,active:i,children:(0,c.jsx)(d.span,{tabIndex:f?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{n?p.onItemFocus(h):e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;let s=function(e,s,a){var t;let r=(t=e.key,"rtl"!==a?t:"ArrowLeft"===t?"ArrowRight":"ArrowRight"===t?"ArrowLeft":t);if(!("vertical"===s&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===s&&["ArrowUp","ArrowDown"].includes(r)))return E[r]}(e,p.orientation,p.dir);if(void 0!==s){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=v().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===s)a.reverse();else if("prev"===s||"next"===s){"prev"===s&&a.reverse();let t=a.indexOf(e.currentTarget);a=p.loop?function(e,s){return e.map((a,t)=>e[(s+t)%e.length])}(a,t+1):a.slice(t+1)}setTimeout(()=>T(a))}}),children:"function"==typeof m?m({isCurrentTabStop:f,hasTabStop:null!=y}):m})})});R.displayName=S;var E={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.activeElement;for(let t of e)if(t===a||(t.focus({preventScroll:s}),document.activeElement!==a))return}var I=k,D=R},88511,e=>{"use strict";e.s(["Edit",()=>s],88511);let s=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},31278,e=>{"use strict";e.s(["Loader2",()=>s],31278);let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},40160,e=>{"use strict";e.s(["Download",()=>s],40160);let s=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},95468,e=>{"use strict";e.s(["CheckCircle2",()=>s],95468);let s=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},63209,e=>{"use strict";e.s(["AlertCircle",()=>s],63209);let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},73884,e=>{"use strict";e.s(["XCircle",()=>s],73884);let s=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},55436,e=>{"use strict";e.s(["Search",()=>s],55436);let s=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},52571,e=>{"use strict";e.s(["Info",()=>s],52571);let s=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},50537,e=>{"use strict";e.s(["default",()=>F],50537);var s=e.i(43476),a=e.i(71645),t=e.i(18566),r=e.i(91432),n=e.i(70065),l=e.i(67881),c=e.i(23750),i=e.i(10708),o=e.i(27341),d=e.i(48654),m=e.i(88844),u=e.i(40160),x=e.i(95468),h=e.i(16715),p=e.i(55436),f=e.i(7233),g=e.i(27612),j=e.i(88511),v=e.i(18393),b=e.i(63209),N=e.i(37727),y=e.i(3116),w=e.i(98919),k=e.i(72520),C=e.i(43531),S=e.i(31278),R=e.i(73884),E=e.i(75254);let T=(0,E.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var I=e.i(52571),D=e.i(78917),A=e.i(78583),P=e.i(52786);let z=(0,E.default)("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);var M=e.i(48256),B=e.i(72664);function F(){let{isAuthenticated:e,isLoading:E,token:F,user:L}=(0,r.useAuth)(),_=(0,t.useRouter)(),[H,V]=(0,a.useState)(""),U=(null==L?void 0:L.role)==="admin"||(null==L?void 0:L.role)==="operator"||(null==L?void 0:L.is_pam_admin),[G,O]=(0,a.useState)([]),[K,W]=(0,a.useState)([]),[q,X]=(0,a.useState)(new Set),[Z,J]=(0,a.useState)(""),[Y,$]=(0,a.useState)([]),[Q,ee]=(0,a.useState)(!1),[es,ea]=(0,a.useState)(new Set),[et,er]=(0,a.useState)([]),[en,el]=(0,a.useState)(!1),[ec,ei]=(0,a.useState)(null),[eo,ed]=(0,a.useState)({id:"",name:"",baseurl:"",enabled:!0,gpgcheck:!0}),[em,eu]=(0,a.useState)(null),[ex,eh]=(0,a.useState)("updates"),[ep,ef]=(0,a.useState)(!1),[eg,ej]=(0,a.useState)(null),[ev,eb]=(0,a.useState)(""),[eN,ey]=(0,a.useState)(0),[ew,ek]=(0,a.useState)([]),[eC,eS]=(0,a.useState)(!1),[eR,eE]=(0,a.useState)(!1),[eT,eI]=(0,a.useState)(""),eD=(0,a.useRef)(null),eA=(0,a.useRef)(null),[eP,ez]=(0,a.useState)(!1),[eM,eB]=(0,a.useState)(null),[eF,eL]=(0,a.useState)(!1);(0,a.useEffect)(()=>{E||e?E||!e||U||_.push("/dashboard"):_.push("/login")},[e,E,U,_]),(0,a.useEffect)(()=>{let e=()=>{V(new Date().toLocaleTimeString("en-US",{hour12:!1}))};e();let s=setInterval(e,1e3);return()=>clearInterval(s)},[]),(0,a.useEffect)(()=>{e&&F&&("updates"===ex?(eV(),eU()):"repositories"===ex&&eW())},[e,F,ex]),(0,a.useEffect)(()=>{eD.current&&(eD.current.scrollTop=eD.current.scrollHeight)},[ew]);let e_=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!F||!e)return;ef(!0),ej(e),eb("starting"),ey(0),ek([]),eS(!1),eE(!1),eI("");let a="3000"===window.location.port,t=a?"ws:":"https:"===window.location.protocol?"wss:":"ws:",r=a?"".concat(window.location.hostname,":8080"):window.location.host,n=new WebSocket("".concat(t,"//").concat(r,"/api/packages/ws?token=").concat(encodeURIComponent(F)));eA.current=n,n.onopen=()=>{n.send(JSON.stringify({operation:e,packages:s}))},n.onmessage=e=>{try{let s=JSON.parse(e.data);s.phase&&eb(s.phase),void 0!==s.progress&&ey(s.progress),"output"===s.type||"status"===s.type?ek(e=>[...e,s.message]):"complete"===s.type?(eS(!0),eE(s.success||!1),eI(s.message),ey(100)):"error"===s.type&&(ek(e=>[...e,"ERROR: ".concat(s.message)]),eS(!0),eE(!1),eI(s.message))}catch(e){console.error("Failed to parse WebSocket message:",e)}},n.onerror=e=>{console.error("WebSocket error:",e),ek(e=>[...e,"WebSocket connection error"]),eS(!0),eE(!1),eI("Connection error")},n.onclose=()=>{eA.current=null}},eH=()=>{eA.current&&eA.current.close(),ef(!1),ej(null),ek([]),eC&&eR&&(eV(),eU(),X(new Set),ea(new Set))},eV=(0,a.useCallback)(async()=>{if(F)try{let e=await fetch("/api/updates/available",{headers:{Authorization:"Bearer ".concat(F)}});if(!e.ok)throw Error("Failed to fetch updates");let s=await e.json();O(s||[])}catch(e){eu("Failed to fetch updates"),console.error(e)}},[F]),eU=(0,a.useCallback)(async()=>{if(F)try{let e=await fetch("/api/updates/history",{headers:{Authorization:"Bearer ".concat(F)}});if(!e.ok)throw Error("Failed to fetch history");let s=await e.json();W(s||[])}catch(e){console.error(e)}},[F]),eG=async()=>{if(F&&Z.trim()){ee(!0),eu(null);try{let e=await fetch("/api/packages/search?q=".concat(encodeURIComponent(Z)),{headers:{Authorization:"Bearer ".concat(F)}});if(!e.ok)throw Error("Failed to search packages");let s=await e.json();$(s||[])}catch(e){eu("Failed to search packages"),console.error(e)}finally{ee(!1)}}},eO=async e=>{if(F){eL(!0),ez(!0),eB(null);try{let s=await fetch("/api/packages/".concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(F)}});if(!s.ok)throw Error("Failed to fetch package details");let a=await s.json();eB(a)}catch(s){console.error(s),eB({name:e,arch:"",summary:"Failed to load package details"})}finally{eL(!1)}}},eK=e=>{if(!e||0===e)return"N/A";let s=["B","KB","MB","GB"],a=0,t=e;for(;t>=1024&&a<s.length-1;)t/=1024,a++;return"".concat(t.toFixed(1)," ").concat(s[a])},eW=(0,a.useCallback)(async()=>{if(F)try{let e=await fetch("/api/repositories",{headers:{Authorization:"Bearer ".concat(F)}});if(!e.ok)throw Error("Failed to fetch repositories");let s=await e.json();er(s||[])}catch(e){eu("Failed to fetch repositories"),console.error(e)}},[F]),eq=async()=>{if(F){eu(null);try{if(!(await fetch(ec?"/api/repositories/".concat(ec):"/api/repositories",{method:ec?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(F)},body:JSON.stringify(eo)})).ok)throw Error("Failed to save repository");el(!1),ei(null),ed({id:"",name:"",baseurl:"",enabled:!0,gpgcheck:!0}),eW()}catch(e){eu("Failed to save repository"),console.error(e)}}},eX=async e=>{if(F&&confirm("Delete repository ".concat(e,"?")))try{if(!(await fetch("/api/repositories/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(F)}})).ok)throw Error("Failed to delete repository");eW()}catch(e){eu("Failed to delete repository"),console.error(e)}};if(E||!e||!U)return(0,s.jsx)(d.DashboardLayout,{title:"RPM Manager",time:H,children:(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)(h.RefreshCw,{className:"w-8 h-8 animate-spin text-accent"})})});let eZ=G.filter(e=>e.security_update).length,eJ=G.length;return(0,s.jsxs)(d.DashboardLayout,{title:"RPM MANAGER",time:H,children:[(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[em&&(0,s.jsxs)("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg text-destructive text-sm flex items-center gap-2",children:[(0,s.jsx)(b.AlertCircle,{className:"w-4 h-4"}),em,(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",className:"ml-auto h-6 w-6 p-0",onClick:()=>eu(null),children:(0,s.jsx)(N.X,{className:"w-4 h-4"})})]}),(0,s.jsxs)(o.Tabs,{value:ex,onValueChange:eh,className:"w-full",children:[(0,s.jsxs)(o.TabsList,{className:"grid w-full grid-cols-3",children:[(0,s.jsxs)(o.TabsTrigger,{value:"updates",className:"gap-2",children:[(0,s.jsx)(u.Download,{className:"w-4 h-4"}),"Updates",eJ>0&&(0,s.jsx)("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-accent/20 text-accent rounded-full",children:eJ})]}),(0,s.jsxs)(o.TabsTrigger,{value:"packages",className:"gap-2",children:[(0,s.jsx)(m.Package,{className:"w-4 h-4"}),"Packages"]}),(0,s.jsxs)(o.TabsTrigger,{value:"repositories",className:"gap-2",children:[(0,s.jsx)(v.Server,{className:"w-4 h-4"}),"Repositories"]})]}),(0,s.jsxs)(o.TabsContent,{value:"updates",className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)(n.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:(0,s.jsxs)(n.CardContent,{className:"pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(m.Package,{className:"w-4 h-4 text-accent"}),(0,s.jsx)("span",{className:"text-2xl font-bold",children:eJ})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Available Updates"})]})}),(0,s.jsx)(n.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:(0,s.jsxs)(n.CardContent,{className:"pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(w.Shield,{className:"w-4 h-4 text-orange-500"}),(0,s.jsx)("span",{className:"text-2xl font-bold text-orange-500",children:eZ})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Security Patches"})]})}),(0,s.jsx)(n.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:(0,s.jsxs)(n.CardContent,{className:"pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(C.Check,{className:"w-4 h-4 text-primary"}),(0,s.jsx)("span",{className:"text-2xl font-bold",children:q.size})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Selected"})]})}),(0,s.jsx)(n.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:(0,s.jsxs)(n.CardContent,{className:"pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(T,{className:"w-4 h-4 text-chart-4"}),(0,s.jsx)("span",{className:"text-2xl font-bold",children:K.length})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Transactions"})]})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsxs)(l.Button,{onClick:()=>{e_("update",q.size>0?Array.from(q):[])},disabled:0===eJ,className:"gap-2",children:[(0,s.jsx)(u.Download,{className:"w-4 h-4"}),q.size>0?"Update Selected (".concat(q.size,")"):"Update All"]}),(0,s.jsxs)(l.Button,{onClick:()=>{e_("refresh")},variant:"outline",className:"gap-2",children:[(0,s.jsx)(h.RefreshCw,{className:"w-4 h-4"}),"Refresh Metadata"]}),G.length>0&&(0,s.jsxs)(l.Button,{onClick:()=>{q.size===G.length?X(new Set):X(new Set(G.map(e=>e.name)))},variant:"ghost",className:"gap-2",children:[(0,s.jsx)(C.Check,{className:"w-4 h-4"}),q.size===G.length?"Deselect All":"Select All"]})]}),(0,s.jsxs)(n.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,s.jsx)(n.CardHeader,{className:"pb-3",children:(0,s.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(m.Package,{className:"w-5 h-5 text-accent"}),"Available Updates"]})}),(0,s.jsx)(n.CardContent,{children:0===eJ?(0,s.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,s.jsx)(x.CheckCircle2,{className:"w-16 h-16 mx-auto mb-4 text-green-500/50"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:"System is up to date"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"No updates available"})]}):(0,s.jsx)("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:G.map(e=>(0,s.jsx)("div",{className:"p-4 border rounded-lg transition-all ".concat(q.has(e.name)?"border-accent bg-accent/10":"border-border/40 hover:border-accent/50"),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("input",{type:"checkbox",checked:q.has(e.name),onChange:()=>(e=>{let s=new Set(q);s.has(e)?s.delete(e):s.add(e),X(s)})(e.name),className:"w-4 h-4 accent-accent mt-1 cursor-pointer"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("span",{className:"font-medium hover:text-accent cursor-pointer",onClick:()=>eO(e.name),children:e.name}),e.security_update&&(0,s.jsxs)("span",{className:"text-xs bg-orange-500/20 text-orange-400 px-2 py-0.5 rounded flex items-center gap-1",children:[(0,s.jsx)(w.Shield,{className:"w-3 h-3"}),"SECURITY"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)("span",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:e.current_version}),(0,s.jsx)(k.ArrowRight,{className:"w-3 h-3 text-accent"}),(0,s.jsx)("span",{className:"font-mono text-xs bg-accent/20 text-accent px-2 py-1 rounded",children:e.new_version})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(v.Server,{className:"w-3 h-3"}),e.repository]}),e.size&&(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(P.HardDrive,{className:"w-3 h-3"}),e.size]})]})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(l.Button,{size:"sm",variant:"ghost",onClick:s=>{s.stopPropagation(),eO(e.name)},className:"h-8 w-8 p-0",title:"View details",children:(0,s.jsx)(I.Info,{className:"w-4 h-4"})}),(0,s.jsx)(l.Button,{size:"sm",variant:"ghost",onClick:s=>{s.stopPropagation(),e_("update",[e.name])},className:"h-8 w-8 p-0 text-accent hover:text-accent",title:"Update this package",children:(0,s.jsx)(u.Download,{className:"w-4 h-4"})})]})]})},e.name))})})]}),(0,s.jsxs)(n.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,s.jsx)(n.CardHeader,{className:"pb-3",children:(0,s.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(T,{className:"w-5 h-5 text-accent"}),"Update History"]})}),(0,s.jsx)(n.CardContent,{children:0===K.length?(0,s.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No update history"}):(0,s.jsx)("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:K.slice(0,20).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border/40 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:(0,s.jsx)(y.Clock,{className:"w-4 h-4 text-muted-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.action}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.date).toLocaleString()})]})]}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("span",{className:"font-mono",children:e.package_count}),(0,s.jsx)("span",{className:"text-muted-foreground ml-1",children:"packages"})]})]},e.id))})})]})]}),(0,s.jsx)(o.TabsContent,{value:"packages",className:"space-y-6",children:(0,s.jsxs)(n.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,s.jsx)(n.CardHeader,{className:"pb-3",children:(0,s.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Search,{className:"w-5 h-5 text-accent"}),"Search Packages"]})}),(0,s.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(p.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,s.jsx)(c.Input,{placeholder:"Search for packages (e.g., nginx, vim, docker)...",value:Z,onChange:e=>J(e.target.value),onKeyDown:e=>"Enter"===e.key&&eG(),className:"pl-10"})]}),(0,s.jsxs)(l.Button,{onClick:eG,disabled:Q||!Z.trim(),className:"gap-2",children:[Q?(0,s.jsx)(S.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(p.Search,{className:"w-4 h-4"}),"Search"]})]}),es.size>0&&(0,s.jsxs)(l.Button,{onClick:()=>{0!==es.size&&e_("install",Array.from(es))},className:"w-full gap-2",children:[(0,s.jsx)(u.Download,{className:"w-4 h-4"}),"Install Selected (",es.size,")"]}),Y.length>0&&(0,s.jsx)("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:Y.map(e=>(0,s.jsx)("div",{className:"p-4 border rounded-lg transition-all ".concat(es.has(e.name)?"border-accent bg-accent/10":"border-border/40 hover:border-accent/50"),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("input",{type:"checkbox",checked:es.has(e.name),onChange:()=>(e=>{let s=new Set(es);s.has(e)?s.delete(e):s.add(e),ea(s)})(e.name),className:"w-4 h-4 accent-accent mt-1 cursor-pointer"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("span",{className:"font-medium hover:text-accent cursor-pointer",onClick:()=>eO(e.name),children:e.name}),e.arch&&(0,s.jsx)("span",{className:"text-xs bg-muted px-1.5 py-0.5 rounded",children:e.arch}),e.version&&(0,s.jsx)("span",{className:"text-xs font-mono text-muted-foreground",children:e.version})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.summary}),e.repository&&(0,s.jsx)("div",{className:"flex items-center gap-4 mt-2",children:(0,s.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,s.jsx)(v.Server,{className:"w-3 h-3"}),e.repository]})})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(l.Button,{size:"sm",variant:"ghost",onClick:s=>{s.stopPropagation(),eO(e.name)},className:"h-8 w-8 p-0",title:"View details",children:(0,s.jsx)(I.Info,{className:"w-4 h-4"})}),(0,s.jsx)(l.Button,{size:"sm",variant:"ghost",onClick:s=>{s.stopPropagation(),e_("install",[e.name])},className:"h-8 w-8 p-0 text-green-500 hover:text-green-400",title:"Install package",children:(0,s.jsx)(u.Download,{className:"w-4 h-4"})})]})]})},"".concat(e.name,"-").concat(e.arch)))}),0===Y.length&&Z&&!Q&&(0,s.jsxs)("div",{className:"text-center text-muted-foreground py-12",children:[(0,s.jsx)(m.Package,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,s.jsxs)("p",{children:['No packages found matching "',Z,'"']})]}),!Z&&(0,s.jsxs)("div",{className:"text-center text-muted-foreground py-12",children:[(0,s.jsx)(p.Search,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{children:"Enter a package name to search"})]})]})]})}),(0,s.jsxs)(o.TabsContent,{value:"repositories",className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsxs)(l.Button,{onClick:()=>{el(!0),ei(null),ed({id:"",name:"",baseurl:"",enabled:!0,gpgcheck:!0})},className:"gap-2",children:[(0,s.jsx)(f.Plus,{className:"w-4 h-4"}),"Add Repository"]})}),en&&(0,s.jsxs)(n.Card,{className:"border-accent/50 bg-card/70 backdrop-blur-sm",children:[(0,s.jsx)(n.CardHeader,{className:"pb-3",children:(0,s.jsx)(n.CardTitle,{children:ec?"Edit Repository":"Add Repository"})}),(0,s.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"Repository ID"}),(0,s.jsx)(c.Input,{value:eo.id,onChange:e=>ed({...eo,id:e.target.value}),placeholder:"my-repo",disabled:!!ec})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"Name"}),(0,s.jsx)(c.Input,{value:eo.name,onChange:e=>ed({...eo,name:e.target.value}),placeholder:"My Repository"})]}),(0,s.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,s.jsx)(i.Label,{children:"Base URL"}),(0,s.jsx)(c.Input,{value:eo.baseurl||"",onChange:e=>ed({...eo,baseurl:e.target.value}),placeholder:"https://example.com/repo/$releasever/$basearch"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"Mirror List (optional)"}),(0,s.jsx)(c.Input,{value:eo.mirrorlist||"",onChange:e=>ed({...eo,mirrorlist:e.target.value}),placeholder:"https://example.com/mirrorlist"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.Label,{children:"GPG Key (optional)"}),(0,s.jsx)(c.Input,{value:eo.gpgkey||"",onChange:e=>ed({...eo,gpgkey:e.target.value}),placeholder:"https://example.com/RPM-GPG-KEY"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:eo.enabled,onChange:e=>ed({...eo,enabled:e.target.checked}),className:"w-4 h-4 accent-accent"}),(0,s.jsx)("span",{children:"Enabled"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:eo.gpgcheck,onChange:e=>ed({...eo,gpgcheck:e.target.checked}),className:"w-4 h-4 accent-accent"}),(0,s.jsx)("span",{children:"GPG Check"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.Button,{onClick:eq,className:"gap-2",children:[(0,s.jsx)(C.Check,{className:"w-4 h-4"}),"Save Repository"]}),(0,s.jsx)(l.Button,{variant:"outline",onClick:()=>{el(!1),ei(null)},children:"Cancel"})]})]})]}),(0,s.jsxs)(n.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,s.jsx)(n.CardHeader,{className:"pb-3",children:(0,s.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Server,{className:"w-5 h-5 text-accent"}),"Configured Repositories"]})}),(0,s.jsx)(n.CardContent,{children:0===et.length?(0,s.jsxs)("div",{className:"text-center text-muted-foreground py-12",children:[(0,s.jsx)(v.Server,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{children:"No repositories configured"})]}):(0,s.jsx)("div",{className:"space-y-2",children:et.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border/40 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("span",{className:"font-medium",children:e.name||e.id}),e.enabled?(0,s.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded",children:"ENABLED"}):(0,s.jsx)("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-0.5 rounded",children:"DISABLED"}),e.gpgcheck&&(0,s.jsxs)("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-0.5 rounded flex items-center gap-1",children:[(0,s.jsx)(w.Shield,{className:"w-3 h-3"}),"GPG"]})]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:e.id}),(e.baseurl||e.mirrorlist||e.metalink)&&(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-1 truncate max-w-md",children:e.baseurl||e.mirrorlist||e.metalink})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.Button,{size:"sm",variant:"outline",onClick:()=>{ed(e),ei(e.id),el(!0)},children:(0,s.jsx)(j.Edit,{className:"w-4 h-4"})}),(0,s.jsx)(l.Button,{size:"sm",variant:"outline",className:"text-destructive hover:text-destructive",onClick:()=>eX(e.id),children:(0,s.jsx)(g.Trash2,{className:"w-4 h-4"})})]})]},e.id))})})]})]})]})]}),ep&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-card border border-border rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(e=>{switch(e){case"starting":case"checking":default:return(0,s.jsx)(S.Loader2,{className:"w-5 h-5 animate-spin"});case"downloading":return(0,s.jsx)(u.Download,{className:"w-5 h-5 animate-pulse"});case"installing":return(0,s.jsx)(m.Package,{className:"w-5 h-5 animate-pulse"});case"verifying":return(0,s.jsx)(w.Shield,{className:"w-5 h-5 animate-pulse"});case"complete":return eR?(0,s.jsx)(x.CheckCircle2,{className:"w-5 h-5 text-green-500"}):(0,s.jsx)(R.XCircle,{className:"w-5 h-5 text-destructive"});case"cleaning":case"caching":return(0,s.jsx)(h.RefreshCw,{className:"w-5 h-5 animate-spin"});case"error":return(0,s.jsx)(R.XCircle,{className:"w-5 h-5 text-destructive"})}})(ev),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-semibold",children:["update"===eg&&"Updating Packages","install"===eg&&"Installing Packages","remove"===eg&&"Removing Packages","refresh"===eg&&"Refreshing Metadata"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(e=>{switch(e){case"starting":return"Starting...";case"checking":return"Checking dependencies...";case"downloading":return"Downloading packages...";case"installing":return"Installing packages...";case"verifying":return"Verifying...";case"complete":return"Complete";case"cleaning":return"Cleaning metadata...";case"caching":return"Building cache...";case"error":return"Error";default:return e}})(ev)})]})]}),eC&&(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:eH,children:(0,s.jsx)(N.X,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"px-4 py-3 border-b border-border",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Progress"}),(0,s.jsxs)("span",{className:"text-sm font-mono",children:[eN,"%"]})]}),(0,s.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full transition-all duration-300 ".concat(eC?eR?"bg-green-500":"bg-destructive":"bg-accent"),style:{width:"".concat(eN,"%")}})})]}),(0,s.jsxs)("div",{ref:eD,className:"flex-1 overflow-y-auto p-4 font-mono text-xs bg-black/30 min-h-[200px] max-h-[400px]",children:[ew.map((e,a)=>(0,s.jsx)("div",{className:"py-0.5 ".concat(e.includes("ERROR")||e.includes("error")?"text-destructive":e.includes("Complete!")||e.includes("successfully")?"text-green-500":e.includes("Downloading")||e.includes("Installing")?"text-accent":"text-muted-foreground"),children:e},a)),!eC&&(0,s.jsx)("div",{className:"py-0.5 text-muted-foreground animate-pulse",children:"â–Œ"})]}),eC&&(0,s.jsxs)("div",{className:"p-4 border-t border-border",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3 ".concat(eR?"text-green-500":"text-destructive"),children:[eR?(0,s.jsx)(x.CheckCircle2,{className:"w-5 h-5"}):(0,s.jsx)(R.XCircle,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"font-medium",children:eT})]}),(0,s.jsx)(l.Button,{onClick:eH,className:"w-full",children:"Close"})]})]})}),eP&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-card border border-border rounded-lg w-full max-w-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-accent/20 flex items-center justify-center",children:(0,s.jsx)(m.Package,{className:"w-5 h-5 text-accent"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold",children:eF?"Loading...":(null==eM?void 0:eM.name)||"Package Details"}),(null==eM?void 0:eM.arch)&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:eM.arch})]})]}),(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>ez(!1),children:(0,s.jsx)(N.X,{className:"w-4 h-4"})})]}),(0,s.jsx)("div",{className:"p-4 space-y-4 max-h-[60vh] overflow-y-auto",children:eF?(0,s.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,s.jsx)(S.Loader2,{className:"w-8 h-8 animate-spin text-accent"})}):eM?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Summary"}),(0,s.jsx)("p",{className:"text-sm",children:eM.summary||"No summary available"})]}),eM.description&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),(0,s.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:eM.description})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[eM.version&&(0,s.jsxs)("div",{className:"p-3 bg-muted/30 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)(B.Box,{className:"w-4 h-4 text-accent"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Version"})]}),(0,s.jsx)("p",{className:"text-sm font-mono",children:eM.version})]}),eM.repository&&(0,s.jsxs)("div",{className:"p-3 bg-muted/30 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)(v.Server,{className:"w-4 h-4 text-chart-4"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Repository"})]}),(0,s.jsx)("p",{className:"text-sm",children:eM.repository})]}),void 0!==eM.size&&eM.size>0&&(0,s.jsxs)("div",{className:"p-3 bg-muted/30 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)(P.HardDrive,{className:"w-4 h-4 text-chart-2"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Download Size"})]}),(0,s.jsx)("p",{className:"text-sm font-mono",children:eK(eM.size)})]}),void 0!==eM.install_size&&eM.install_size>0&&(0,s.jsxs)("div",{className:"p-3 bg-muted/30 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)(A.FileText,{className:"w-4 h-4 text-chart-3"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Installed Size"})]}),(0,s.jsx)("p",{className:"text-sm font-mono",children:eK(eM.install_size)})]}),eM.license&&(0,s.jsxs)("div",{className:"p-3 bg-muted/30 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)(z,{className:"w-4 h-4 text-chart-5"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"License"})]}),(0,s.jsx)("p",{className:"text-sm",children:eM.license})]}),eM.url&&(0,s.jsxs)("div",{className:"p-3 bg-muted/30 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)(M.Globe,{className:"w-4 h-4 text-primary"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Website"})]}),(0,s.jsxs)("a",{href:eM.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:["Visit ",(0,s.jsx)(D.ExternalLink,{className:"w-3 h-3"})]})]})]})]}):(0,s.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No package selected"})}),(0,s.jsxs)("div",{className:"p-4 border-t border-border flex gap-2",children:[eM&&!eF&&(0,s.jsxs)(l.Button,{onClick:()=>{ez(!1),e_("install",[eM.name])},className:"flex-1 gap-2",children:[(0,s.jsx)(u.Download,{className:"w-4 h-4"}),"Install Package"]}),(0,s.jsx)(l.Button,{variant:"outline",onClick:()=>ez(!1),className:eM&&!eF?"":"w-full",children:"Close"})]})]})})]})}}]);