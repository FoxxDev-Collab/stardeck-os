(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>l,"CardHeader",()=>a,"CardTitle",()=>c]);var t=e.i(43476),s=e.i(47163);function r(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...a})}function a(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...a})}function c(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",r),...a})}function l(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",r),...a})}function i(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",r),...a})}},23750,e=>{"use strict";e.s(["Input",()=>r]);var t=e.i(43476),s=e.i(47163);function r(e){let{className:r,type:a,...c}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...c})}},63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},73884,e=>{"use strict";e.s(["XCircle",()=>t],73884);let t=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1346,e=>{"use strict";e.s(["default",()=>p]);var t=e.i(43476),s=e.i(71645),r=e.i(18566),a=e.i(91432),c=e.i(70065),l=e.i(67881),i=e.i(23750),d=e.i(48654),n=e.i(21218),o=e.i(63804),x=e.i(55436),m=e.i(73884),u=e.i(63209),h=e.i(66992),f=e.i(58041);function p(){let{isAuthenticated:e,isLoading:p,token:b}=(0,a.useAuth)(),j=(0,r.useRouter)(),[g,N]=(0,s.useState)(""),[y,v]=(0,s.useState)([]),[C,w]=(0,s.useState)(""),[k,S]=(0,s.useState)("cpu"),[T,A]=(0,s.useState)(null),E=(0,s.useCallback)(async()=>{if(b)try{let e=await fetch("/api/processes",{headers:{Authorization:"Bearer ".concat(b)}});if(!e.ok)throw Error("Failed to fetch processes");let t=await e.json();v(t.processes||[]),A(null)}catch(e){A(e instanceof Error?e.message:"Failed to load processes")}},[b]);if((0,s.useEffect)(()=>{p||e||j.push("/login")},[e,p,j]),(0,s.useEffect)(()=>{let e=()=>{N(new Date().toLocaleTimeString("en-US",{hour12:!1}))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[]),(0,s.useEffect)(()=>{if(e&&b){E();let e=setInterval(E,5e3);return()=>clearInterval(e)}},[e,b,E]),p||!e)return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)(n.Activity,{className:"w-12 h-12 text-accent animate-pulse"})});let L=y.filter(e=>e.command.toLowerCase().includes(C.toLowerCase())||e.user.toLowerCase().includes(C.toLowerCase())||e.pid.toString().includes(C)).sort((e,t)=>"cpu"===k?t.cpu-e.cpu:"memory"===k?t.memory-e.memory:e.pid-t.pid),F=y.reduce((e,t)=>e+t.cpu,0),I=y.reduce((e,t)=>e+t.memory,0),P=async e=>{if(confirm("Are you sure you want to kill process ".concat(e,"?")))try{let t=await fetch("/api/processes/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(b)}});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e.error||"Failed to kill process")}await E()}catch(e){alert(e instanceof Error?e.message:"Failed to kill process")}};return(0,t.jsx)(d.DashboardLayout,{title:"PROCESS MANAGER",time:g,children:(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[T&&(0,t.jsxs)("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg text-destructive text-sm flex items-center gap-2",children:[(0,t.jsx)(u.AlertCircle,{className:"w-4 h-4"}),T]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(c.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(c.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Processes"}),(0,t.jsx)(o.ListChecks,{className:"w-4 h-4 text-accent"})]}),(0,t.jsxs)(c.CardContent,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold",children:y.length}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[y.filter(e=>"running"===e.status).length," running"]})]})]}),(0,t.jsxs)(c.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(c.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total CPU"}),(0,t.jsx)(h.Cpu,{className:"w-4 h-4 text-chart-3"})]}),(0,t.jsx)(c.CardContent,{children:(0,t.jsxs)("div",{className:"text-3xl font-bold",children:[F.toFixed(1),"%"]})})]}),(0,t.jsxs)(c.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(c.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Memory"}),(0,t.jsx)(f.Database,{className:"w-4 h-4 text-chart-4"})]}),(0,t.jsx)(c.CardContent,{children:(0,t.jsxs)("div",{className:"text-3xl font-bold",children:[I.toFixed(1),"%"]})})]})]}),(0,t.jsxs)(c.Card,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,t.jsxs)(c.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(o.ListChecks,{className:"w-5 h-5 text-accent"}),"Running Processes"]}),(0,t.jsx)("div",{className:"flex gap-2 w-full md:w-auto",children:(0,t.jsxs)("div",{className:"relative flex-1 md:w-64",children:[(0,t.jsx)(x.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(i.Input,{placeholder:"Search processes...",value:C,onChange:e=>w(e.target.value),className:"pl-10 bg-input/80 border-border/60"})]})})]})}),(0,t.jsx)(c.CardContent,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border/50",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground",children:(0,t.jsx)("button",{onClick:()=>S("pid"),className:"hover:text-accent",children:"PID"})}),(0,t.jsx)("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground",children:"USER"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground",children:(0,t.jsx)("button",{onClick:()=>S("cpu"),className:"hover:text-accent",children:"CPU %"})}),(0,t.jsx)("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground",children:(0,t.jsx)("button",{onClick:()=>S("memory"),className:"hover:text-accent",children:"MEM %"})}),(0,t.jsx)("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground",children:"COMMAND"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 text-xs font-medium text-muted-foreground",children:"STATUS"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 text-xs font-medium text-muted-foreground",children:"ACTION"})]})}),(0,t.jsx)("tbody",{children:L.map(e=>(0,t.jsxs)("tr",{className:"border-b border-border/30 hover:bg-accent/5 transition-colors",children:[(0,t.jsx)("td",{className:"py-3 px-4 font-mono text-sm",children:e.pid}),(0,t.jsx)("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:e.user}),(0,t.jsx)("td",{className:"py-3 px-4 font-mono text-sm",children:(0,t.jsx)("span",{className:e.cpu>10?"text-chart-2":"",children:e.cpu.toFixed(1)})}),(0,t.jsx)("td",{className:"py-3 px-4 font-mono text-sm",children:(0,t.jsx)("span",{className:e.memory>10?"text-chart-2":"",children:e.memory.toFixed(1)})}),(0,t.jsx)("td",{className:"py-3 px-4 font-mono text-sm truncate max-w-md",children:e.command}),(0,t.jsx)("td",{className:"py-3 px-4 text-sm",children:(0,t.jsx)("span",{className:"inline-flex items-center gap-1 text-xs ".concat("running"===e.status?"text-primary":"text-muted-foreground"),children:e.status})}),(0,t.jsx)("td",{className:"py-3 px-4 text-right",children:(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>P(e.pid),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:(0,t.jsx)(m.XCircle,{className:"w-4 h-4"})})})]},e.pid))})]})})})]})]})})}}]);