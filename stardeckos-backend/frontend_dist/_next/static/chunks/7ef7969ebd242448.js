(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,57021,e=>{"use strict";e.s(["default",()=>tr],57021);var t=e.i(43476),a=e.i(71645),n=e.i(18566),r=e.i(91432),s=e.i(48654),i=e.i(67881),o=e.i(23750),l=e.i(71435),c=e.i(30374),d=e.i(30009),h=e.i(81140),u=e.i(30030);e.i(74080);var p=e.i(20783),x=Symbol("radix.slottable");function m(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===x}var f=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let r=function(e){let n=function(e){let t=a.forwardRef((e,t)=>{let{children:n,...r}=e;if(a.isValidElement(n)){var s,i,o;let e,l,c=(l=(e=null==(i=Object.getOwnPropertyDescriptor((s=n).props,"ref"))?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(l=(e=null==(o=Object.getOwnPropertyDescriptor(s,"ref"))?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref,d=function(e,t){let a={...t};for(let n in t){let r=e[n],s=t[n];/^on[A-Z]/.test(n)?r&&s?a[n]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let n=s(...t);return r(...t),n}:r&&(a[n]=r):"style"===n?a[n]={...r,...s}:"className"===n&&(a[n]=[r,s].filter(Boolean).join(" "))}return{...e,...a}}(r,n.props);return n.type!==a.Fragment&&(d.ref=t?(0,p.composeRefs)(t,c):c),a.cloneElement(n,d)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),r=a.forwardRef((e,r)=>{let{children:s,...i}=e,o=a.Children.toArray(s),l=o.find(m);if(l){let e=l.props.children,s=o.map(t=>t!==l?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(n,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,t.jsx)(n,{...i,ref:r,children:s})});return r.displayName="".concat(e,".Slot"),r}("Primitive.".concat(n)),s=a.forwardRef((e,a)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?r:n,{...i,ref:a})});return s.displayName="Primitive.".concat(n),{...e,[n]:s}},{}),g=e.i(32006),j=e.i(30207),v=e.i(69340),y="ContextMenu",[w,b]=(0,u.createContextScope)(y,[g.createMenuScope]),C=(0,g.createMenuScope)(),[N,k]=w(y),E=e=>{let{__scopeContextMenu:n,children:r,onOpenChange:s,dir:i,modal:o=!0}=e,[l,c]=a.useState(!1),d=C(n),h=(0,j.useCallbackRef)(s),u=a.useCallback(e=>{c(e),h(e)},[h]);return(0,t.jsx)(N,{scope:n,open:l,onOpenChange:u,modal:o,children:(0,t.jsx)(g.Root,{...d,dir:i,open:l,onOpenChange:u,modal:o,children:r})})};E.displayName=y;var R="ContextMenuTrigger",S=a.forwardRef((e,n)=>{let{__scopeContextMenu:r,disabled:s=!1,...i}=e,o=k(R,r),l=C(r),c=a.useRef({x:0,y:0}),d=a.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...c.current})}),u=a.useRef(0),p=a.useCallback(()=>window.clearTimeout(u.current),[]),x=e=>{c.current={x:e.clientX,y:e.clientY},o.onOpenChange(!0)};return a.useEffect(()=>p,[p]),a.useEffect(()=>void(s&&p()),[s,p]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Anchor,{...l,virtualRef:d}),(0,t.jsx)(f.span,{"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,...i,ref:n,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:s?e.onContextMenu:(0,h.composeEventHandlers)(e.onContextMenu,e=>{p(),x(e),e.preventDefault()}),onPointerDown:s?e.onPointerDown:(0,h.composeEventHandlers)(e.onPointerDown,z(e=>{p(),u.current=window.setTimeout(()=>x(e),700)})),onPointerMove:s?e.onPointerMove:(0,h.composeEventHandlers)(e.onPointerMove,z(p)),onPointerCancel:s?e.onPointerCancel:(0,h.composeEventHandlers)(e.onPointerCancel,z(p)),onPointerUp:s?e.onPointerUp:(0,h.composeEventHandlers)(e.onPointerUp,z(p))})]})});S.displayName=R;var D=e=>{let{__scopeContextMenu:a,...n}=e,r=C(a);return(0,t.jsx)(g.Portal,{...r,...n})};D.displayName="ContextMenuPortal";var M="ContextMenuContent",T=a.forwardRef((e,n)=>{let{__scopeContextMenu:r,...s}=e,i=k(M,r),o=C(r),l=a.useRef(!1);return(0,t.jsx)(g.Content,{...o,...s,ref:n,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:t=>{var a;null==(a=e.onCloseAutoFocus)||a.call(e,t),!t.defaultPrevented&&l.current&&t.preventDefault(),l.current=!1},onInteractOutside:t=>{var a;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||i.modal||(l.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T.displayName=M,a.forwardRef((e,a)=>{let{__scopeContextMenu:n,...r}=e,s=C(n);return(0,t.jsx)(g.Group,{...s,...r,ref:a})}).displayName="ContextMenuGroup",a.forwardRef((e,a)=>{let{__scopeContextMenu:n,...r}=e,s=C(n);return(0,t.jsx)(g.Label,{...s,...r,ref:a})}).displayName="ContextMenuLabel";var F=a.forwardRef((e,a)=>{let{__scopeContextMenu:n,...r}=e,s=C(n);return(0,t.jsx)(g.Item,{...s,...r,ref:a})});F.displayName="ContextMenuItem",a.forwardRef((e,a)=>{let{__scopeContextMenu:n,...r}=e,s=C(n);return(0,t.jsx)(g.CheckboxItem,{...s,...r,ref:a})}).displayName="ContextMenuCheckboxItem",a.forwardRef((e,a)=>{let{__scopeContextMenu:n,...r}=e,s=C(n);return(0,t.jsx)(g.RadioGroup,{...s,...r,ref:a})}).displayName="ContextMenuRadioGroup",a.forwardRef((e,a)=>{let{__scopeContextMenu:n,...r}=e,s=C(n);return(0,t.jsx)(g.RadioItem,{...s,...r,ref:a})}).displayName="ContextMenuRadioItem",a.forwardRef((e,a)=>{let{__scopeContextMenu:n,...r}=e,s=C(n);return(0,t.jsx)(g.ItemIndicator,{...s,...r,ref:a})}).displayName="ContextMenuItemIndicator";var P=a.forwardRef((e,a)=>{let{__scopeContextMenu:n,...r}=e,s=C(n);return(0,t.jsx)(g.Separator,{...s,...r,ref:a})});P.displayName="ContextMenuSeparator",a.forwardRef((e,a)=>{let{__scopeContextMenu:n,...r}=e,s=C(n);return(0,t.jsx)(g.Arrow,{...s,...r,ref:a})}).displayName="ContextMenuArrow";function z(e){return t=>"mouse"!==t.pointerType?e(t):void 0}a.forwardRef((e,a)=>{let{__scopeContextMenu:n,...r}=e,s=C(n);return(0,t.jsx)(g.SubTrigger,{...s,...r,ref:a})}).displayName="ContextMenuSubTrigger",a.forwardRef((e,a)=>{let{__scopeContextMenu:n,...r}=e,s=C(n);return(0,t.jsx)(g.SubContent,{...s,...r,ref:a,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="ContextMenuSubContent",e.i(78784),e.i(33565),e.i(33498);var A=e.i(47163);function B(e){let{...a}=e;return(0,t.jsx)(E,{"data-slot":"context-menu",...a})}function _(e){let{...a}=e;return(0,t.jsx)(S,{"data-slot":"context-menu-trigger",...a})}function O(e){let{className:a,...n}=e;return(0,t.jsx)(D,{children:(0,t.jsx)(T,{"data-slot":"context-menu-content",className:(0,A.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...n})})}function L(e){let{className:a,inset:n,variant:r="default",...s}=e;return(0,t.jsx)(F,{"data-slot":"context-menu-item","data-inset":n,"data-variant":r,className:(0,A.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...s})}function I(e){let{className:a,...n}=e;return(0,t.jsx)(P,{"data-slot":"context-menu-separator",className:(0,A.cn)("bg-border -mx-1 my-1 h-px",a),...n})}var H=e.i(26330),U=e.i(10772),V=e.i(53660),W=e.i(74606),q=e.i(96626),J=Symbol("radix.slottable");function K(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===J}var G=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let r=function(e){let n=function(e){let t=a.forwardRef((e,t)=>{let{children:n,...r}=e;if(a.isValidElement(n)){var s,i,o;let e,l,c=(l=(e=null==(i=Object.getOwnPropertyDescriptor((s=n).props,"ref"))?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(l=(e=null==(o=Object.getOwnPropertyDescriptor(s,"ref"))?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref,d=function(e,t){let a={...t};for(let n in t){let r=e[n],s=t[n];/^on[A-Z]/.test(n)?r&&s?a[n]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let n=s(...t);return r(...t),n}:r&&(a[n]=r):"style"===n?a[n]={...r,...s}:"className"===n&&(a[n]=[r,s].filter(Boolean).join(" "))}return{...e,...a}}(r,n.props);return n.type!==a.Fragment&&(d.ref=t?(0,p.composeRefs)(t,c):c),a.cloneElement(n,d)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),r=a.forwardRef((e,r)=>{let{children:s,...i}=e,o=a.Children.toArray(s),l=o.find(K);if(l){let e=l.props.children,s=o.map(t=>t!==l?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(n,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,t.jsx)(n,{...i,ref:r,children:s})});return r.displayName="".concat(e,".Slot"),r}("Primitive.".concat(n)),s=a.forwardRef((e,a)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?r:n,{...i,ref:a})});return s.displayName="Primitive.".concat(n),{...e,[n]:s}},{}),X=e.i(59411),[Z,Y]=(0,u.createContextScope)("Tooltip",[V.createPopperScope]),Q=(0,V.createPopperScope)(),$="TooltipProvider",ee="tooltip.open",[et,ea]=Z($),en=e=>{let{__scopeTooltip:n,delayDuration:r=700,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:o}=e,l=a.useRef(!0),c=a.useRef(!1),d=a.useRef(0);return a.useEffect(()=>{let e=d.current;return()=>window.clearTimeout(e)},[]),(0,t.jsx)(et,{scope:n,isOpenDelayedRef:l,delayDuration:r,onOpen:a.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:a.useCallback(e=>{c.current=e},[]),disableHoverableContent:i,children:o})};en.displayName=$;var er="Tooltip",[es,ei]=Z(er),eo=e=>{let{__scopeTooltip:n,children:r,open:s,defaultOpen:i,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=e,d=ea(er,e.__scopeTooltip),h=Q(n),[u,p]=a.useState(null),x=(0,U.useId)(),m=a.useRef(0),f=null!=l?l:d.disableHoverableContent,g=null!=c?c:d.delayDuration,j=a.useRef(!1),[y,w]=(0,v.useControllableState)({prop:s,defaultProp:null!=i&&i,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(ee))):d.onClose(),null==o||o(e)},caller:er}),b=a.useMemo(()=>y?j.current?"delayed-open":"instant-open":"closed",[y]),C=a.useCallback(()=>{window.clearTimeout(m.current),m.current=0,j.current=!1,w(!0)},[w]),N=a.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),k=a.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{j.current=!0,w(!0),m.current=0},g)},[g,w]);return a.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),(0,t.jsx)(V.Root,{...h,children:(0,t.jsx)(es,{scope:n,contentId:x,open:y,stateAttribute:b,trigger:u,onTriggerChange:p,onTriggerEnter:a.useCallback(()=>{d.isOpenDelayedRef.current?k():C()},[d.isOpenDelayedRef,k,C]),onTriggerLeave:a.useCallback(()=>{f?N():(window.clearTimeout(m.current),m.current=0)},[N,f]),onOpen:C,onClose:N,disableHoverableContent:f,children:r})})};eo.displayName=er;var el="TooltipTrigger",ec=a.forwardRef((e,n)=>{let{__scopeTooltip:r,...s}=e,i=ei(el,r),o=ea(el,r),l=Q(r),c=a.useRef(null),d=(0,p.useComposedRefs)(n,c,i.onTriggerChange),u=a.useRef(!1),x=a.useRef(!1),m=a.useCallback(()=>u.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),(0,t.jsx)(V.Anchor,{asChild:!0,...l,children:(0,t.jsx)(G.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:d,onPointerMove:(0,h.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(x.current||o.isPointerInTransitRef.current||(i.onTriggerEnter(),x.current=!0))}),onPointerLeave:(0,h.composeEventHandlers)(e.onPointerLeave,()=>{i.onTriggerLeave(),x.current=!1}),onPointerDown:(0,h.composeEventHandlers)(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:(0,h.composeEventHandlers)(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:(0,h.composeEventHandlers)(e.onBlur,i.onClose),onClick:(0,h.composeEventHandlers)(e.onClick,i.onClose)})})});ec.displayName=el;var ed="TooltipPortal",[eh,eu]=Z(ed,{forceMount:void 0}),ep=e=>{let{__scopeTooltip:a,forceMount:n,children:r,container:s}=e,i=ei(ed,a);return(0,t.jsx)(eh,{scope:a,forceMount:n,children:(0,t.jsx)(q.Presence,{present:n||i.open,children:(0,t.jsx)(W.Portal,{asChild:!0,container:s,children:r})})})};ep.displayName=ed;var ex="TooltipContent",em=a.forwardRef((e,a)=>{let n=eu(ex,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=ei(ex,e.__scopeTooltip);return(0,t.jsx)(q.Presence,{present:r||o.open,children:o.disableHoverableContent?(0,t.jsx)(ey,{side:s,...i,ref:a}):(0,t.jsx)(ef,{side:s,...i,ref:a})})}),ef=a.forwardRef((e,n)=>{let r=ei(ex,e.__scopeTooltip),s=ea(ex,e.__scopeTooltip),i=a.useRef(null),o=(0,p.useComposedRefs)(n,i),[l,c]=a.useState(null),{trigger:d,onClose:h}=r,u=i.current,{onPointerInTransitChange:x}=s,m=a.useCallback(()=>{c(null),x(!1)},[x]),f=a.useCallback((e,t)=>{let a=e.currentTarget,n={x:e.clientX,y:e.clientY},r=function(e,t){let a=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(a,n,r,s)){case s:return"left";case r:return"right";case a:return"top";case n:return"bottom";default:throw Error("unreachable")}}(n,a.getBoundingClientRect());c(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let a=0;a<e.length;a++){let n=e[a];for(;t.length>=2;){let e=t[t.length-1],a=t[t.length-2];if((e.x-a.x)*(n.y-a.y)>=(e.y-a.y)*(n.x-a.x))t.pop();else break}t.push(n)}t.pop();let a=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;a.length>=2;){let e=a[a.length-1],t=a[a.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))a.pop();else break}a.push(n)}return(a.pop(),1===t.length&&1===a.length&&t[0].x===a[0].x&&t[0].y===a[0].y)?t:t.concat(a)}(t)}([...function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=[];switch(t){case"top":n.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":n.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":n.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":n.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a})}return n}(n,r),...function(e){let{top:t,right:a,bottom:n,left:r}=e;return[{x:r,y:t},{x:a,y:t},{x:a,y:n},{x:r,y:n}]}(t.getBoundingClientRect())])),x(!0)},[x]);return a.useEffect(()=>()=>m(),[m]),a.useEffect(()=>{if(d&&u){let e=e=>f(e,u),t=e=>f(e,d);return d.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}},[d,u,f,m]),a.useEffect(()=>{if(l){let e=e=>{let t=e.target,a={x:e.clientX,y:e.clientY},n=(null==d?void 0:d.contains(t))||(null==u?void 0:u.contains(t)),r=!function(e,t){let{x:a,y:n}=e,r=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let i=t[e],o=t[s],l=i.x,c=i.y,d=o.x,h=o.y;c>n!=h>n&&a<(d-l)*(n-c)/(h-c)+l&&(r=!r)}return r}(a,l);n?m():r&&(m(),h())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,u,l,h,m]),(0,t.jsx)(ey,{...e,ref:o})}),[eg,ej]=Z(er,{isInside:!1}),ev=function(e){let a=e=>{let{children:a}=e;return(0,t.jsx)(t.Fragment,{children:a})};return a.displayName="".concat(e,".Slottable"),a.__radixId=J,a}("TooltipContent"),ey=a.forwardRef((e,n)=>{let{__scopeTooltip:r,children:s,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=e,d=ei(ex,r),h=Q(r),{onClose:u}=d;return a.useEffect(()=>(document.addEventListener(ee,u),()=>document.removeEventListener(ee,u)),[u]),a.useEffect(()=>{if(d.trigger){let e=e=>{let t=e.target;(null==t?void 0:t.contains(d.trigger))&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,u]),(0,t.jsx)(H.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:(0,t.jsxs)(V.Content,{"data-state":d.stateAttribute,...h,...c,ref:n,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,t.jsx)(ev,{children:s}),(0,t.jsx)(eg,{scope:r,isInside:!0,children:(0,t.jsx)(X.Root,{id:d.contentId,role:"tooltip",children:i||s})})]})})});em.displayName=ex;var ew="TooltipArrow",eb=a.forwardRef((e,a)=>{let{__scopeTooltip:n,...r}=e,s=Q(n);return ej(ew,n).isInside?null:(0,t.jsx)(V.Arrow,{...s,...r,ref:a})});function eC(e){let{delayDuration:a=0,...n}=e;return(0,t.jsx)(en,{"data-slot":"tooltip-provider",delayDuration:a,...n})}function eN(e){let{...a}=e;return(0,t.jsx)(eC,{children:(0,t.jsx)(eo,{"data-slot":"tooltip",...a})})}function ek(e){let{...a}=e;return(0,t.jsx)(ec,{"data-slot":"tooltip-trigger",...a})}function eE(e){let{className:a,sideOffset:n=0,children:r,...s}=e;return(0,t.jsx)(ep,{children:(0,t.jsxs)(em,{"data-slot":"tooltip-content",sideOffset:n,className:(0,A.cn)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",a),...s,children:[r,(0,t.jsx)(eb,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}eb.displayName=ew;var eR=e.i(10708),eS=e.i(87336),eD=e.i(21218),eM=e.i(75254);let eT=(0,eM.default)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var eF=e.i(75505);let eP=(0,eM.default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);var ez=e.i(78583);let eA=(0,eM.default)("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]),eB=(0,eM.default)("file-image",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]),e_=(0,eM.default)("file-archive",[["path",{d:"M13.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v11.5",key:"4pqfef"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 12v-1",key:"1ej8lb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M8 7V6",key:"1nbb54"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]]),eO=(0,eM.default)("file-cog",[["path",{d:"M13.85 22H18a2 2 0 0 0 2-2V8a2 2 0 0 0-.586-1.414l-4-4A2 2 0 0 0 14 2H6a2 2 0 0 0-2 2v6.6",key:"1l4p50"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m3.305 19.53.923-.382",key:"ao1pio"}],["path",{d:"m4.228 16.852-.924-.383",key:"1fv9zy"}],["path",{d:"m5.852 15.228-.383-.923",key:"1a9hc2"}],["path",{d:"m5.852 20.772-.383.924",key:"1sh9ke"}],["path",{d:"m8.148 15.228.383-.923",key:"4yu6lf"}],["path",{d:"m8.53 21.696-.382-.924",key:"18b0s9"}],["path",{d:"m9.773 16.852.922-.383",key:"ti6xop"}],["path",{d:"m9.773 19.148.922.383",key:"rws47d"}],["circle",{cx:"7",cy:"18",r:"3",key:"lvkj7j"}]]);var eL=e.i(81399),eI=e.i(63059),eH=e.i(64659),eU=e.i(94351),eV=e.i(69074);let eW=(0,eM.default)("folder-plus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),eq=(0,eM.default)("file-plus",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);var eJ=e.i(40160),eK=e.i(27612);let eG=(0,eM.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var eX=e.i(16715),eZ=e.i(75558),eY=e.i(70756);let eQ=(0,eM.default)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var e$=e.i(31278);let e0=(0,eM.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var e2=e.i(37727),e1=e.i(86536),e4=e.i(74886);let e8=(0,eM.default)("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),e3=(0,eM.default)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);var e5=e.i(52786),e6=e.i(39616);function e7(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(1))+" "+["B","KB","MB","GB","TB"][t]}function e9(e){var a;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sm",r="lg"===n?"w-8 h-8":"md"===n?"w-6 h-6":"w-4 h-4";if(e.is_dir)return(0,t.jsx)(eT,{className:"".concat(r," text-chart-3")});if(e.is_symlink)return(0,t.jsx)(eQ,{className:"".concat(r," text-chart-4")});let s=(null==(a=e.extension)?void 0:a.toLowerCase())||"",i=e.mime_type||"";return i.startsWith("image/")?(0,t.jsx)(eB,{className:"".concat(r," text-chart-5")}):i.startsWith("text/")||["md","txt","log","conf","cfg","ini"].includes(s)?(0,t.jsx)(ez.FileText,{className:"".concat(r," text-muted-foreground")}):["js","ts","tsx","jsx","py","go","rs","c","cpp","h","java","sh","bash","zsh","sql","html","css","vue"].includes(s)?(0,t.jsx)(eA,{className:"".concat(r," text-accent")}):["json","yaml","yml","xml","toml"].includes(s)?(0,t.jsx)(eL.FileJson,{className:"".concat(r," text-chart-2")}):["zip","tar","gz","bz2","xz","7z","rar","rpm","deb"].includes(s)?(0,t.jsx)(e_,{className:"".concat(r," text-chart-1")}):["exe","bin","so","dll"].includes(s)?(0,t.jsx)(eO,{className:"".concat(r," text-destructive")}):(0,t.jsx)(eP,{className:"".concat(r," text-muted-foreground")})}function te(e){let{currentPath:n,onNavigate:r,token:s}=e,[i,o]=(0,a.useState)([{name:"/",path:"/",isExpanded:!0,children:[]}]),[l,c]=(0,a.useState)(new Set(["/"])),d=(0,a.useCallback)(async e=>{if(!s)return[];try{let t=await fetch("/api/files?path=".concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(s)}});if(!t.ok)return[];return(await t.json()).files.filter(e=>e.is_dir).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>({name:e.name,path:e.path,children:void 0,isExpanded:!1}))}catch(e){return[]}},[s]),h=(0,a.useCallback)(async e=>{let t=new Set(l);if(t.has(e))t.delete(e);else{t.add(e);let a=async t=>Promise.all(t.map(async t=>{if(t.path===e&&void 0===t.children){let a=await d(e);return{...t,children:a,isExpanded:!0}}return t.children?{...t,children:await a(t.children)}:t}));o(await a(i))}c(t)},[l,d,i]);(0,a.useEffect)(()=>{let e=async()=>{o([{name:"/",path:"/",isExpanded:!0,children:await d("/")}])};s&&e()},[s,d]);let u=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=l.has(e.path),i=n===e.path,o=e.children&&e.children.length>0;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 py-1 px-2 cursor-pointer rounded text-sm transition-colors ".concat(i?"bg-accent/20 text-accent":"hover:bg-accent/10 text-foreground"),style:{paddingLeft:"".concat(12*a+8,"px")},onClick:()=>r(e.path),children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),h(e.path)},className:"w-4 h-4 flex items-center justify-center hover:bg-accent/20 rounded",children:o||void 0===e.children?s?(0,t.jsx)(eH.ChevronDown,{className:"w-3 h-3"}):(0,t.jsx)(eI.ChevronRight,{className:"w-3 h-3"}):(0,t.jsx)("span",{className:"w-3"})}),s?(0,t.jsx)(eF.FolderOpen,{className:"w-4 h-4 text-chart-3 shrink-0"}):(0,t.jsx)(eT,{className:"w-4 h-4 text-chart-3 shrink-0"}),(0,t.jsx)("span",{className:"truncate",children:"/"===e.name?"Root":e.name})]}),s&&e.children&&(0,t.jsx)("div",{children:e.children.map(e=>u(e,a+1))})]},e.path)};return(0,t.jsx)("div",{className:"text-sm",children:i.map(e=>u(e))})}function tt(e){let{onNavigate:a}=e,n=[{name:"Root",path:"/",icon:e5.HardDrive},{name:"Home",path:"/home",icon:eU.Home},{name:"etc",path:"/etc",icon:e6.Settings},{name:"var",path:"/var",icon:eT},{name:"tmp",path:"/tmp",icon:eT}];return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-2 py-1",children:"Quick Access"}),n.map(e=>{let n=e.icon;return(0,t.jsxs)("button",{onClick:()=>a(e.path),className:"w-full flex items-center gap-2 px-2 py-1.5 text-sm rounded hover:bg-accent/10 transition-colors text-left",children:[(0,t.jsx)(n,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsx)("span",{children:e.name})]},e.path)})]})}function ta(){var e;let{isAuthenticated:h,isLoading:u,token:p,user:x}=(0,r.useAuth)(),m=(0,n.useRouter)(),f=(0,n.useSearchParams)(),g=(0,a.useRef)(null),j=(null==x?void 0:x.role)==="admin"||(null==x?void 0:x.role)==="operator"||(null==x?void 0:x.is_pam_admin),[v,y]=(0,a.useState)(""),[w,b]=(0,a.useState)("/"),[C,N]=(0,a.useState)(null),[k,E]=(0,a.useState)(!0),[R,S]=(0,a.useState)(null),[D,M]=(0,a.useState)(new Set),[T,F]=(0,a.useState)(null),[P,z]=(0,a.useState)(null),[A,H]=(0,a.useState)(!1),[U,V]=(0,a.useState)(!1),[W,q]=(0,a.useState)(!1),[J,K]=(0,a.useState)(!1),[G,X]=(0,a.useState)(!1),[Z,Y]=(0,a.useState)(!1),[Q,$]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(""),[ea,en]=(0,a.useState)(""),[er,es]=(0,a.useState)(""),[ei,eo]=(0,a.useState)(""),[el,ec]=(0,a.useState)(""),[ed,eh]=(0,a.useState)(""),[eu,ep]=(0,a.useState)(""),[ex,em]=(0,a.useState)(null),[ef,eg]=(0,a.useState)(!1),[ej,ev]=(0,a.useState)(0),[ey]=(0,a.useState)(240),ew=(0,a.useCallback)(async e=>{if(p){E(!0),S(null),M(new Set);try{let t=await fetch("/api/files?path=".concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(p)}});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to load directory")}let a=await t.json();a.files.sort((e,t)=>e.is_dir&&!t.is_dir?-1:!e.is_dir&&t.is_dir?1:e.name.localeCompare(t.name)),N(a),b(a.path)}catch(e){S(e instanceof Error?e.message:"Failed to load directory")}finally{E(!1)}}},[p]);(0,a.useEffect)(()=>{u||h?u||!h||j||m.push("/dashboard"):m.push("/login")},[h,u,j,m]),(0,a.useEffect)(()=>{let e=()=>{y(new Date().toLocaleTimeString("en-US",{hour12:!1}))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[]),(0,a.useEffect)(()=>{h&&p&&ew(f.get("path")||"/")},[h,p,f,ew]);let eb=e=>{m.push("/file-browser?path=".concat(encodeURIComponent(e)))},eM=()=>C?C.files.filter(e=>D.has(e.path)):[],eP=async e=>{if(p&&!e.is_dir)try{let t=await fetch("/api/files/preview?path=".concat(encodeURIComponent(e.path)),{headers:{Authorization:"Bearer ".concat(p)}});if(!t.ok){let e=await t.json();throw Error(e.error||"Cannot preview file")}let a=await t.json();ep(a.content),em(e),Y(!0)}catch(e){S(e instanceof Error?e.message:"Failed to preview file")}},ez=async e=>{if(p&&!e.is_dir)try{let t=await fetch("/api/files/preview?path=".concat(encodeURIComponent(e.path)),{headers:{Authorization:"Bearer ".concat(p)}});if(!t.ok){let e=await t.json();throw Error(e.error||"Cannot open file")}let a=await t.json();es(a.content),em(e),$(!0)}catch(e){S(e instanceof Error?e.message:"Failed to open file")}},eA=async()=>{if(p&&ex)try{let e=await fetch("/api/files/content",{method:"PUT",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},body:JSON.stringify({path:ex.path,content:er})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to save file")}$(!1),em(null),ew(w)}catch(e){S(e instanceof Error?e.message:"Failed to save file")}},eB=e=>{p&&!e.is_dir&&window.open("/api/files/download?path=".concat(encodeURIComponent(e.path)),"_blank")},e_=async e=>{let t=e.target.files;if(t&&0!==t.length&&p){eg(!0),ev(0);for(let e=0;e<t.length;e++){let a=new FormData;a.append("path",w),a.append("file",t[e]);try{let n=new XMLHttpRequest;n.upload.addEventListener("progress",a=>{if(a.lengthComputable){let n=a.loaded/a.total*100,r=(e+n/100)/t.length*100;ev(Math.round(r))}}),await new Promise((r,s)=>{n.onload=()=>{n.status>=200&&n.status<300?r():s(Error("Upload failed: ".concat(t[e].name)))},n.onerror=()=>s(Error("Upload failed")),n.open("POST","/api/files/upload"),n.setRequestHeader("Authorization","Bearer ".concat(p)),n.send(a)})}catch(e){S(e instanceof Error?e.message:"Upload failed");break}}eg(!1),ev(0),g.current&&(g.current.value=""),ew(w)}},eO=async()=>{if(p&&ee.trim())try{let e=await fetch("/api/files/mkdir",{method:"POST",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},body:JSON.stringify({path:w,name:ee.trim()})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create folder")}H(!1),et(""),ew(w)}catch(e){S(e instanceof Error?e.message:"Failed to create folder")}},eL=async()=>{if(p&&ee.trim())try{let e=await fetch("/api/files/create",{method:"POST",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},body:JSON.stringify({path:w,name:ee.trim(),content:ea})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create file")}V(!1),et(""),en(""),ew(w)}catch(e){S(e instanceof Error?e.message:"Failed to create file")}},eH=async()=>{let e=eM();if(!p||1!==e.length||!ee.trim())return;let t=e[0],a=t.path.substring(0,t.path.lastIndexOf("/")),n="".concat(a,"/").concat(ee.trim());try{let e=await fetch("/api/files/rename",{method:"POST",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},body:JSON.stringify({old_path:t.path,new_path:n})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to rename")}q(!1),et(""),M(new Set),ew(w)}catch(e){S(e instanceof Error?e.message:"Failed to rename")}},eU=async()=>{let e=eM();if(p&&0!==e.length)try{for(let t of e){let e=await fetch("/api/files?path=".concat(encodeURIComponent(t.path),"&recursive=true"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(p)}});if(!e.ok){let a=await e.json();throw Error(a.error||"Failed to delete ".concat(t.name))}}K(!1),M(new Set),ew(w)}catch(e){S(e instanceof Error?e.message:"Failed to delete")}},eQ=()=>{let e=eM();e.length>0&&z({files:e,operation:"copy"})},e6=()=>{let e=eM();e.length>0&&z({files:e,operation:"cut"})},ta=async()=>{if(p&&P)try{for(let e of P.files){let t="".concat(w,"/").concat(e.name);if("copy"===P.operation){if(!(await fetch("/api/files/copy",{method:"POST",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},body:JSON.stringify({source:e.path,destination:t})})).ok)throw Error("Failed to copy ".concat(e.name))}else if(!(await fetch("/api/files/rename",{method:"POST",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},body:JSON.stringify({old_path:e.path,new_path:t})})).ok)throw Error("Failed to move ".concat(e.name))}"cut"===P.operation&&z(null),ew(w)}catch(e){S(e instanceof Error?e.message:"Paste failed")}},tn=async()=>{let e=eM();if(!p||1!==e.length)return;let t=e[0];try{let e=await fetch("/api/files/permissions",{method:"PATCH",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},body:JSON.stringify({path:t.path,mode:ei||void 0,owner:el||void 0,group:ed||void 0})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to change permissions")}X(!1),eo(""),ec(""),eh(""),ew(w)}catch(e){S(e instanceof Error?e.message:"Failed to change permissions")}},tr=()=>{let e=eM();1===e.length&&(et(e[0].name),q(!0))},ts=()=>{let e=eM();1===e.length&&(eo(""),ec(e[0].owner),eh(e[0].group),X(!0))},ti=w.split("/").filter(Boolean),to=D.size,tl=1===to?eM()[0]:null;return!u&&h&&j?(0,t.jsx)(eC,{children:(0,t.jsxs)(s.DashboardLayout,{title:"FILE BROWSER",time:v,children:[(0,t.jsxs)("div",{className:"h-[calc(100vh-3.5rem)] flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1.5 border-b border-border/50 bg-card/50",children:[(0,t.jsxs)(eN,{children:[(0,t.jsx)(ek,{asChild:!0,children:(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>(null==C?void 0:C.parent)&&eb(C.parent),disabled:!(null==C?void 0:C.parent),className:"h-8 w-8 p-0",children:(0,t.jsx)(eZ.ArrowUp,{className:"w-4 h-4"})})}),(0,t.jsx)(eE,{children:"Go Up"})]}),(0,t.jsxs)(eN,{children:[(0,t.jsx)(ek,{asChild:!0,children:(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>ew(w),className:"h-8 w-8 p-0",children:(0,t.jsx)(eX.RefreshCw,{className:"w-4 h-4"})})}),(0,t.jsx)(eE,{children:"Refresh"})]}),(0,t.jsx)("div",{className:"w-px h-6 bg-border/50 mx-1"}),(null==C?void 0:C.can_write)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(eN,{children:[(0,t.jsx)(ek,{asChild:!0,children:(0,t.jsxs)(i.Button,{variant:"ghost",size:"sm",onClick:()=>H(!0),className:"h-8 px-2 gap-1",children:[(0,t.jsx)(eW,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-xs hidden sm:inline",children:"New Folder"})]})}),(0,t.jsx)(eE,{children:"New Folder"})]}),(0,t.jsxs)(eN,{children:[(0,t.jsx)(ek,{asChild:!0,children:(0,t.jsxs)(i.Button,{variant:"ghost",size:"sm",onClick:()=>V(!0),className:"h-8 px-2 gap-1",children:[(0,t.jsx)(eq,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-xs hidden sm:inline",children:"New File"})]})}),(0,t.jsx)(eE,{children:"New File"})]}),(0,t.jsxs)(eN,{children:[(0,t.jsx)(ek,{asChild:!0,children:(0,t.jsxs)(i.Button,{variant:"ghost",size:"sm",onClick:()=>{var e;return null==(e=g.current)?void 0:e.click()},className:"h-8 px-2 gap-1",children:[(0,t.jsx)(eV.Upload,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-xs hidden sm:inline",children:"Upload"})]})}),(0,t.jsx)(eE,{children:"Upload Files"})]}),(0,t.jsx)("input",{type:"file",ref:g,onChange:e_,multiple:!0,className:"hidden"}),(0,t.jsx)("div",{className:"w-px h-6 bg-border/50 mx-1"})]}),(0,t.jsxs)(eN,{children:[(0,t.jsx)(ek,{asChild:!0,children:(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:eQ,disabled:0===to,className:"h-8 w-8 p-0",children:(0,t.jsx)(e4.Copy,{className:"w-4 h-4"})})}),(0,t.jsx)(eE,{children:"Copy"})]}),(0,t.jsxs)(eN,{children:[(0,t.jsx)(ek,{asChild:!0,children:(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:e6,disabled:0===to,className:"h-8 w-8 p-0",children:(0,t.jsx)(e8,{className:"w-4 h-4"})})}),(0,t.jsx)(eE,{children:"Cut"})]}),(0,t.jsxs)(eN,{children:[(0,t.jsx)(ek,{asChild:!0,children:(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:ta,disabled:!P||!(null==C?void 0:C.can_write),className:"h-8 w-8 p-0",children:(0,t.jsx)(e3,{className:"w-4 h-4"})})}),(0,t.jsxs)(eE,{children:["Paste ",P?"(".concat(P.files.length," items)"):""]})]}),(0,t.jsx)("div",{className:"w-px h-6 bg-border/50 mx-1"}),(0,t.jsxs)(eN,{children:[(0,t.jsx)(ek,{asChild:!0,children:(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:tr,disabled:1!==to,className:"h-8 w-8 p-0",children:(0,t.jsx)(eG,{className:"w-4 h-4"})})}),(0,t.jsx)(eE,{children:"Rename"})]}),(0,t.jsxs)(eN,{children:[(0,t.jsx)(ek,{asChild:!0,children:(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>K(!0),disabled:0===to,className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:(0,t.jsx)(eK.Trash2,{className:"w-4 h-4"})})}),(0,t.jsx)(eE,{children:"Delete"})]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm overflow-x-auto",children:[(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>eb("/"),className:"h-6 px-1.5 text-xs",children:(0,t.jsx)(e5.HardDrive,{className:"w-3 h-3"})}),ti.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center shrink-0",children:[(0,t.jsx)(eI.ChevronRight,{className:"w-3 h-3 text-muted-foreground"}),(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>eb("/"+ti.slice(0,a+1).join("/")),className:"h-6 px-1.5 text-xs",children:e})]},a))]})]}),ef&&(0,t.jsx)("div",{className:"px-4 py-2 bg-accent/10 border-b border-border/50",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Uploading..."}),(0,t.jsx)(eS.Progress,{value:ej,className:"flex-1 h-2"}),(0,t.jsxs)("span",{className:"text-sm text-accent font-mono",children:[ej,"%"]})]})}),R&&(0,t.jsxs)("div",{className:"px-4 py-2 bg-destructive/10 border-b border-destructive/30 text-destructive text-sm flex items-center justify-between",children:[(0,t.jsx)("span",{children:R}),(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>S(null),className:"h-6 px-2",children:(0,t.jsx)(e2.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsx)("div",{className:"border-r border-border/50 bg-card/30 flex flex-col shrink-0",style:{width:ey},children:(0,t.jsx)(l.ScrollArea,{className:"h-full",children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)(tt,{onNavigate:eb}),(0,t.jsx)("div",{className:"my-3 border-t border-border/30"}),(0,t.jsx)("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider px-2 py-1",children:"Folders"}),(0,t.jsx)(te,{currentPath:w,onNavigate:eb,token:p})]})})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(l.ScrollArea,{className:"flex-1",children:k?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(e$.Loader2,{className:"w-8 h-8 text-accent animate-spin"})}):(null==C?void 0:C.files.length)===0?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[(0,t.jsx)(eT,{className:"w-16 h-16 mb-4 opacity-30"}),(0,t.jsx)("p",{className:"text-lg",children:"Empty folder"}),(0,t.jsx)("p",{className:"text-sm",children:"Create a new file or folder to get started"})]}):(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-0.5",children:null==C?void 0:C.files.map((e,a)=>(0,t.jsxs)(B,{children:[(0,t.jsx)(_,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 rounded cursor-pointer transition-colors select-none ".concat(D.has(e.path)?"bg-accent/20 border border-accent/40":"hover:bg-accent/10 border border-transparent"),onClick:t=>((e,t,a)=>{if(a.ctrlKey||a.metaKey){let a=new Set(D);a.has(e.path)?a.delete(e.path):a.add(e.path),M(a),F(t)}else if(a.shiftKey&&null!==T&&C){let e=Math.min(T,t),a=Math.max(T,t),n=new Set(D);for(let t=e;t<=a;t++)n.add(C.files[t].path);M(n)}else M(new Set([e.path])),F(t)})(e,a,t),onDoubleClick:()=>{e.is_dir?eb(e.path):ez(e)},children:[(0,t.jsx)("div",{className:"shrink-0",children:e9(e,"md")}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium truncate",children:e.name}),e.is_symlink&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["â†’ ",e.link_target]})]})}),(0,t.jsx)("div",{className:"shrink-0 text-xs text-muted-foreground font-mono w-20 text-right",children:e.is_dir?"-":e7(e.size)}),(0,t.jsx)("div",{className:"shrink-0 text-xs text-muted-foreground font-mono w-24 hidden md:block",children:e.permissions}),(0,t.jsx)("div",{className:"shrink-0 text-xs text-muted-foreground w-20 hidden lg:block",children:e.owner}),(0,t.jsx)("div",{className:"shrink-0 text-xs text-muted-foreground w-36 hidden xl:block",children:new Date(e.mod_time).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})}),(0,t.jsxs)(O,{className:"w-48",children:[e.is_dir?(0,t.jsxs)(L,{onClick:()=>eb(e.path),children:[(0,t.jsx)(eF.FolderOpen,{className:"w-4 h-4 mr-2"}),"Open"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(L,{onClick:()=>ez(e),children:[(0,t.jsx)(eG,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,t.jsxs)(L,{onClick:()=>eP(e),children:[(0,t.jsx)(e1.Eye,{className:"w-4 h-4 mr-2"}),"Preview"]}),(0,t.jsxs)(L,{onClick:()=>eB(e),children:[(0,t.jsx)(eJ.Download,{className:"w-4 h-4 mr-2"}),"Download"]})]}),(0,t.jsx)(I,{}),(0,t.jsxs)(L,{onClick:eQ,children:[(0,t.jsx)(e4.Copy,{className:"w-4 h-4 mr-2"}),"Copy"]}),(0,t.jsxs)(L,{onClick:e6,children:[(0,t.jsx)(e8,{className:"w-4 h-4 mr-2"}),"Cut"]}),(0,t.jsx)(I,{}),(0,t.jsxs)(L,{onClick:tr,children:[(0,t.jsx)(eG,{className:"w-4 h-4 mr-2"}),"Rename"]}),(0,t.jsxs)(L,{onClick:ts,children:[(0,t.jsx)(eY.Lock,{className:"w-4 h-4 mr-2"}),"Permissions"]}),(0,t.jsx)(I,{}),(0,t.jsxs)(L,{onClick:()=>K(!0),className:"text-destructive focus:text-destructive",children:[(0,t.jsx)(eK.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]},e.path))})})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 px-3 py-1.5 border-t border-border/50 bg-card/30 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:[null!=(e=null==C?void 0:C.total)?e:0," items"]}),to>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-3 w-px bg-border/50"}),(0,t.jsxs)("span",{className:"text-accent",children:[to," selected"]})]}),tl&&!tl.is_dir&&(0,t.jsx)("span",{children:e7(tl.size)}),P&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-3 w-px bg-border/50"}),(0,t.jsxs)("span",{children:[P.files.length," in clipboard (",P.operation,")"]})]})]})]})]})]}),(0,t.jsx)(c.Dialog,{open:A,onOpenChange:H,children:(0,t.jsxs)(c.DialogContent,{children:[(0,t.jsxs)(c.DialogHeader,{children:[(0,t.jsxs)(c.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(eW,{className:"w-5 h-5 text-chart-3"}),"Create New Folder"]}),(0,t.jsxs)(c.DialogDescription,{children:["Enter a name for the new folder in ",w]})]}),(0,t.jsxs)("div",{className:"py-4",children:[(0,t.jsx)(eR.Label,{htmlFor:"folder-name",children:"Folder name"}),(0,t.jsx)(o.Input,{id:"folder-name",value:ee,onChange:e=>et(e.target.value),placeholder:"New Folder",className:"mt-2",autoFocus:!0,onKeyDown:e=>"Enter"===e.key&&eO()})]}),(0,t.jsxs)(c.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),(0,t.jsx)(i.Button,{onClick:eO,disabled:!ee.trim(),children:"Create"})]})]})}),(0,t.jsx)(c.Dialog,{open:U,onOpenChange:V,children:(0,t.jsxs)(c.DialogContent,{className:"max-w-2xl",children:[(0,t.jsxs)(c.DialogHeader,{children:[(0,t.jsxs)(c.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(eq,{className:"w-5 h-5 text-accent"}),"Create New File"]}),(0,t.jsxs)(c.DialogDescription,{children:["Create a new file in ",w]})]}),(0,t.jsxs)("div",{className:"py-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(eR.Label,{htmlFor:"file-name",children:"File name"}),(0,t.jsx)(o.Input,{id:"file-name",value:ee,onChange:e=>et(e.target.value),placeholder:"newfile.txt",className:"mt-2",autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(eR.Label,{htmlFor:"file-content",children:"Content (optional)"}),(0,t.jsx)("textarea",{id:"file-content",value:ea,onChange:e=>en(e.target.value),placeholder:"File content...",className:"mt-2 w-full h-40 rounded-md border border-input bg-background px-3 py-2 text-sm font-mono resize-none focus:outline-none focus:ring-2 focus:ring-accent"})]})]}),(0,t.jsxs)(c.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),(0,t.jsx)(i.Button,{onClick:eL,disabled:!ee.trim(),children:"Create"})]})]})}),(0,t.jsx)(c.Dialog,{open:W,onOpenChange:q,children:(0,t.jsxs)(c.DialogContent,{children:[(0,t.jsxs)(c.DialogHeader,{children:[(0,t.jsxs)(c.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(eG,{className:"w-5 h-5"}),"Rename"]}),(0,t.jsx)(c.DialogDescription,{children:"Enter a new name"})]}),(0,t.jsxs)("div",{className:"py-4",children:[(0,t.jsx)(eR.Label,{htmlFor:"new-name",children:"New name"}),(0,t.jsx)(o.Input,{id:"new-name",value:ee,onChange:e=>et(e.target.value),className:"mt-2",autoFocus:!0,onKeyDown:e=>"Enter"===e.key&&eH()})]}),(0,t.jsxs)(c.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>q(!1),children:"Cancel"}),(0,t.jsx)(i.Button,{onClick:eH,disabled:!ee.trim(),children:"Rename"})]})]})}),(0,t.jsx)(d.AlertDialog,{open:J,onOpenChange:K,children:(0,t.jsxs)(d.AlertDialogContent,{children:[(0,t.jsxs)(d.AlertDialogHeader,{children:[(0,t.jsxs)(d.AlertDialogTitle,{children:["Delete ",to," item",1!==to?"s":"","?"]}),(0,t.jsxs)(d.AlertDialogDescription,{children:[1===to&&tl?(0,t.jsxs)(t.Fragment,{children:['Are you sure you want to delete "',tl.name,'"?']}):(0,t.jsxs)(t.Fragment,{children:["Are you sure you want to delete ",to," items?"]})," ","This action cannot be undone."]})]}),(0,t.jsxs)(d.AlertDialogFooter,{children:[(0,t.jsx)(d.AlertDialogCancel,{children:"Cancel"}),(0,t.jsx)(d.AlertDialogAction,{onClick:eU,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),(0,t.jsx)(c.Dialog,{open:G,onOpenChange:X,children:(0,t.jsxs)(c.DialogContent,{children:[(0,t.jsxs)(c.DialogHeader,{children:[(0,t.jsxs)(c.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(eY.Lock,{className:"w-5 h-5"}),"Change Permissions"]}),(0,t.jsxs)(c.DialogDescription,{children:["Modify permissions for ",null==tl?void 0:tl.name]})]}),(0,t.jsxs)("div",{className:"py-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(eR.Label,{htmlFor:"perm-mode",children:"Mode (e.g., 755, 644)"}),(0,t.jsx)(o.Input,{id:"perm-mode",value:ei,onChange:e=>eo(e.target.value),placeholder:null==tl?void 0:tl.permissions,className:"mt-2 font-mono"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(eR.Label,{htmlFor:"perm-owner",children:"Owner"}),(0,t.jsx)(o.Input,{id:"perm-owner",value:el,onChange:e=>ec(e.target.value),className:"mt-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(eR.Label,{htmlFor:"perm-group",children:"Group"}),(0,t.jsx)(o.Input,{id:"perm-group",value:ed,onChange:e=>eh(e.target.value),className:"mt-2"})]})]}),(0,t.jsxs)(c.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>X(!1),children:"Cancel"}),(0,t.jsx)(i.Button,{onClick:tn,children:"Apply"})]})]})}),(0,t.jsx)(c.Dialog,{open:Z,onOpenChange:Y,children:(0,t.jsxs)(c.DialogContent,{className:"max-w-4xl max-h-[80vh]",children:[(0,t.jsx)(c.DialogHeader,{children:(0,t.jsxs)(c.DialogTitle,{className:"flex items-center gap-2",children:[ex&&e9(ex),null==ex?void 0:ex.name]})}),(0,t.jsx)(l.ScrollArea,{className:"h-[60vh]",children:(0,t.jsx)("pre",{className:"text-sm font-mono whitespace-pre-wrap break-all p-4 bg-muted/30 rounded-lg",children:eu})}),(0,t.jsxs)(c.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>Y(!1),children:"Close"}),ex&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Button,{variant:"outline",onClick:()=>{Y(!1),es(eu),$(!0)},children:[(0,t.jsx)(eG,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,t.jsxs)(i.Button,{onClick:()=>eB(ex),children:[(0,t.jsx)(eJ.Download,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})]})}),(0,t.jsx)(c.Dialog,{open:Q,onOpenChange:$,children:(0,t.jsxs)(c.DialogContent,{className:"max-w-5xl max-h-[90vh]",children:[(0,t.jsx)(c.DialogHeader,{children:(0,t.jsxs)(c.DialogTitle,{className:"flex items-center gap-2",children:[ex&&e9(ex),"Editing: ",null==ex?void 0:ex.name]})}),(0,t.jsx)("div",{className:"h-[65vh]",children:(0,t.jsx)("textarea",{value:er,onChange:e=>es(e.target.value),className:"w-full h-full rounded-md border border-input bg-background px-4 py-3 text-sm font-mono resize-none focus:outline-none focus:ring-2 focus:ring-accent",spellCheck:!1})}),(0,t.jsxs)(c.DialogFooter,{children:[(0,t.jsxs)(i.Button,{variant:"outline",onClick:()=>$(!1),children:[(0,t.jsx)(e2.X,{className:"w-4 h-4 mr-2"}),"Cancel"]}),(0,t.jsxs)(i.Button,{onClick:eA,children:[(0,t.jsx)(e0,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(eD.Activity,{className:"w-12 h-12 mx-auto mb-4 text-accent animate-pulse"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})})}function tn(){return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(e$.Loader2,{className:"w-12 h-12 mx-auto mb-4 text-accent animate-spin"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading File Browser..."})]})})}function tr(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(tn,{}),children:(0,t.jsx)(ta,{})})}}]);