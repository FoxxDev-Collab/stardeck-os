(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8180],{6191:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9870:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>eR});var t=a(95155),r=a(12115),n=a(20063),l=a(6707),c=a(26198),i=a(83209),o=a(97003),d=a(33789),m=a(22312),x=a(90923),h=a(41590),u=a(65229),p=a(25016);function j(e){let{...s}=e;return(0,t.jsx)(h.bL,{"data-slot":"sheet",...s})}function g(e){let{...s}=e;return(0,t.jsx)(h.ZL,{"data-slot":"sheet-portal",...s})}function f(e){let{className:s,...a}=e;return(0,t.jsx)(h.hJ,{"data-slot":"sheet-overlay",className:(0,p.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function N(e){let{className:s,children:a,side:r="right",...n}=e;return(0,t.jsxs)(g,{children:[(0,t.jsx)(f,{}),(0,t.jsxs)(h.UC,{"data-slot":"sheet-content",className:(0,p.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",s),...n,children:[a,(0,t.jsxs)(h.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,t.jsx)(u.A,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function v(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"sheet-header",className:(0,p.cn)("flex flex-col gap-1.5 p-4",s),...a})}function b(e){let{className:s,...a}=e;return(0,t.jsx)(h.hE,{"data-slot":"sheet-title",className:(0,p.cn)("text-foreground font-semibold",s),...a})}var w=a(16140),y=a(35299),k=a(6132),C=a(59e3),A=a(93141),S=a(50803),E=a(93499),F=a(85921),_=a(71360),z=a(50906),R=a(75426),P=a(14639),U=a(20523),I=a(27937),L=a(15870);function $(e){var s,a,n;let{containerId:c,onClose:d,onAction:m,onOpenTerminal:h,onOpenWebUI:u,isAdmin:p}=e,{token:g}=(0,l.A)(),[f,$]=(0,r.useState)(null),[J,T]=(0,r.useState)(null),[O,D]=(0,r.useState)(!0),[B,M]=(0,r.useState)(null),[W,Z]=(0,r.useState)("overview"),[V,G]=(0,r.useState)(!1),q=(0,r.useCallback)(async()=>{if(g&&c)try{let e=await fetch("/api/containers/".concat(c),{headers:{Authorization:"Bearer ".concat(g)}});if(!e.ok)throw Error("Failed to fetch container details");let s=await e.json();$(s),M(null)}catch(e){M(e instanceof Error?e.message:"Failed to load details")}finally{D(!1)}},[g,c]),H=(0,r.useCallback)(async()=>{if(g&&c&&(null==f?void 0:f.running))try{let e=await fetch("/api/containers/".concat(c,"/stats"),{headers:{Authorization:"Bearer ".concat(g)}});if(e.ok){let s=await e.json();T(s)}}catch(e){}},[g,c,null==f?void 0:f.running]);(0,r.useEffect)(()=>{c&&(D(!0),$(null),T(null),q())},[c,q]),(0,r.useEffect)(()=>{if(null==f?void 0:f.running){H();let e=setInterval(H,3e3);return()=>clearInterval(e)}},[null==f?void 0:f.running,H]);let X=async e=>{if(c){G(!0);try{await m(c,e),"remove"!==e?await q():d()}finally{G(!1)}}},K=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB","TB"][s]},Y=e=>e&&"0001-01-01T00:00:00Z"!==e?new Date(e).toLocaleString():"-";return(0,t.jsx)(j,{open:!!c,onOpenChange:()=>d(),children:(0,t.jsxs)(N,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[(0,t.jsx)(v,{className:"border-b border-border/50 pb-4",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)(b,{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/20 border border-cyan-500/40 flex items-center justify-center",children:(0,t.jsx)(w.A,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"block",children:(null==f?void 0:f.name)||"Loading..."}),f&&(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 rounded ".concat((e=>{switch(e){case"running":return"text-green-500 bg-green-500/20";case"paused":return"text-yellow-500 bg-yellow-500/20";case"exited":case"dead":return"text-red-500 bg-red-500/20";default:return"text-gray-500 bg-gray-500/20"}})(f.status)),children:f.status})]})]})})}),O?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(y.A,{className:"w-8 h-8 animate-spin text-accent"})}):B?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(k.A,{className:"w-12 h-12 text-destructive mb-4"}),(0,t.jsx)("p",{className:"text-destructive",children:B})]}):f?(0,t.jsxs)("div",{className:"py-4 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[f.running?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>X("stop"),disabled:V,className:"gap-2",children:[(0,t.jsx)(C.A,{className:"w-4 h-4"}),"Stop"]}),(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>X("restart"),disabled:V,className:"gap-2",children:[(0,t.jsx)(A.A,{className:"w-4 h-4"}),"Restart"]}),(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>h(c),className:"gap-2",children:[(0,t.jsx)(S.A,{className:"w-4 h-4"}),"Shell"]}),f.has_web_ui&&u&&(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>u(c),className:"gap-2",children:[(0,t.jsx)(E.A,{className:"w-4 h-4"}),"Web UI"]})]}):(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>X("start"),disabled:V,className:"gap-2",children:[(0,t.jsx)(F.A,{className:"w-4 h-4"}),"Start"]}),p&&(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>X("remove"),disabled:V,className:"gap-2 text-destructive hover:text-destructive",children:[(0,t.jsx)(_.A,{className:"w-4 h-4"}),"Remove"]})]}),f.running&&J&&(0,t.jsxs)(i.Zp,{className:"bg-card/50 border-border/50",children:[(0,t.jsx)(i.aR,{className:"py-3",children:(0,t.jsxs)(i.ZB,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(z.A,{className:"w-4 h-4 text-accent"}),"Live Statistics"]})}),(0,t.jsxs)(i.Wu,{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"CPU"}),(0,t.jsxs)("div",{className:"text-lg font-semibold",children:[J.cpu_percent.toFixed(1),"%"]}),(0,t.jsx)("div",{className:"h-1 bg-muted rounded-full overflow-hidden mt-1",children:(0,t.jsx)("div",{className:"h-full bg-cyan-500 transition-all",style:{width:"".concat(Math.min(J.cpu_percent,100),"%")}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Memory"}),(0,t.jsx)("div",{className:"text-lg font-semibold",children:K(J.memory_used)}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["/ ",K(J.memory_limit)," (",J.memory_percent.toFixed(1),"%)"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Network I/O"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-green-500",children:"↓"})," ",K(J.network_rx)]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-blue-500",children:"↑"})," ",K(J.network_tx)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"PIDs"}),(0,t.jsx)("div",{className:"text-lg font-semibold",children:J.pids})]})]})]}),(0,t.jsxs)(x.tU,{value:W,onValueChange:Z,children:[(0,t.jsxs)(x.j7,{className:"grid grid-cols-4 w-full",children:[(0,t.jsx)(x.Xi,{value:"overview",className:"text-xs",children:"Overview"}),(0,t.jsx)(x.Xi,{value:"network",className:"text-xs",children:"Network"}),(0,t.jsx)(x.Xi,{value:"volumes",className:"text-xs",children:"Volumes"}),(0,t.jsx)(x.Xi,{value:"env",className:"text-xs",children:"Environment"})]}),(0,t.jsxs)(x.av,{value:"overview",className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Container ID"}),(0,t.jsxs)("div",{className:"font-mono text-xs flex items-center gap-2",children:[f.container_id,(0,t.jsx)("button",{onClick:()=>{var e;return e=f.container_id,void navigator.clipboard.writeText(e)},className:"text-muted-foreground hover:text-accent",children:(0,t.jsx)(R.A,{className:"w-3 h-3"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Image"}),(0,t.jsx)("div",{className:"font-mono text-xs truncate",children:f.image})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Created"}),(0,t.jsx)("div",{className:"text-xs",children:Y(f.created)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Started"}),(0,t.jsx)("div",{className:"text-xs",children:Y(f.started_at)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Hostname"}),(0,t.jsx)("div",{className:"font-mono text-xs",children:f.hostname||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"PID"}),(0,t.jsx)("div",{className:"font-mono text-xs",children:f.running?f.pid:"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"User"}),(0,t.jsx)("div",{className:"font-mono text-xs",children:f.user||"root"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Restart Policy"}),(0,t.jsx)("div",{className:"text-xs",children:(null==(s=f.restart_policy)?void 0:s.name)||"no"})]})]}),((null==(a=f.entrypoint)?void 0:a.length)>0||(null==(n=f.cmd)?void 0:n.length)>0)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Command"}),(0,t.jsx)("div",{className:"bg-muted/50 rounded-lg p-3 font-mono text-xs overflow-x-auto",children:[...f.entrypoint||[],...f.cmd||[]].join(" ")})]}),f.labels&&Object.keys(f.labels).length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Labels"}),(0,t.jsx)("div",{className:"bg-muted/50 rounded-lg p-3 space-y-1 max-h-40 overflow-y-auto",children:Object.entries(f.labels).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"font-mono text-xs",children:[(0,t.jsx)("span",{className:"text-cyan-400",children:s}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"="}),(0,t.jsx)("span",{children:a})]},s)})})]})]}),(0,t.jsxs)(x.av,{value:"network",className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Network Mode"}),(0,t.jsx)("div",{className:"text-sm",children:f.network_mode||"bridge"})]}),f.networks&&Object.keys(f.networks).length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-2",children:"Connected Networks"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(f.networks).map(e=>{let[s,a]=e;return(0,t.jsx)(i.Zp,{className:"bg-muted/30",children:(0,t.jsxs)(i.Wu,{className:"p-3",children:[(0,t.jsxs)("div",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[(0,t.jsx)(P.A,{className:"w-4 h-4 text-accent"}),s]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"IP Address:"}),(0,t.jsx)("span",{className:"ml-2 font-mono",children:a.IPAddress||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Gateway:"}),(0,t.jsx)("span",{className:"ml-2 font-mono",children:a.Gateway||"-"})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"MAC Address:"}),(0,t.jsx)("span",{className:"ml-2 font-mono",children:a.MacAddress||"-"})]})]})]})},s)})})]})]}),(0,t.jsx)(x.av,{value:"volumes",className:"space-y-4 mt-4",children:f.mounts&&f.mounts.length>0?(0,t.jsx)("div",{className:"space-y-3",children:f.mounts.map((e,s)=>(0,t.jsx)(i.Zp,{className:"bg-muted/30",children:(0,t.jsxs)(i.Wu,{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(U.A,{className:"w-4 h-4 text-accent"}),(0,t.jsx)("span",{className:"font-semibold text-sm",children:e.Type}),(0,t.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat(e.RW?"bg-green-500/20 text-green-500":"bg-yellow-500/20 text-yellow-500"),children:e.RW?"RW":"RO"})]}),(0,t.jsxs)("div",{className:"space-y-1 text-xs font-mono",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground w-16",children:"Source:"}),(0,t.jsx)("span",{className:"truncate",children:e.Source})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(I.A,{className:"w-3 h-3 text-muted-foreground"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground w-16",children:"Target:"}),(0,t.jsx)("span",{className:"truncate",children:e.Destination})]})]})]})},s))}):(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(U.A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"No volumes mounted"})]})}),(0,t.jsx)(x.av,{value:"env",className:"space-y-4 mt-4",children:f.env&&f.env.length>0?(0,t.jsx)("div",{className:"bg-muted/50 rounded-lg p-3 space-y-1 max-h-80 overflow-y-auto",children:f.env.map((e,s)=>{let[a,...r]=e.split("="),n=r.join("="),l=a.toLowerCase().includes("password")||a.toLowerCase().includes("secret")||a.toLowerCase().includes("key")||a.toLowerCase().includes("token");return(0,t.jsxs)("div",{className:"font-mono text-xs",children:[(0,t.jsx)("span",{className:"text-cyan-400",children:a}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"="}),(0,t.jsx)("span",{children:l?"••••••••":n})]},s)})}):(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(L.A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"No environment variables"})]})})]})]}):null]})})}var J=a(54679),T=a(97624),O=a(37354),D=a(67812);function B(e){let{containerId:s,containerName:a,onClose:n}=e,{token:c}=(0,l.A)(),i=(0,r.useRef)(null),[d,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),[p,j]=(0,r.useState)(!1),[g,f]=(0,r.useState)([]),[N,v]=(0,r.useState)(""),b=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!s||!c)return;let e="https:"===window.location.protocol?"wss:":"ws:",a=new WebSocket("".concat(e,"//").concat(window.location.host,"/api/containers/").concat(s,"/exec"));return i.current=a,a.onopen=()=>{m(!0),h(null),a.send(JSON.stringify({type:"auth",token:c}))},a.onmessage=e=>{try{let s=JSON.parse(e.data);"output"===s.type?f(e=>[...e,s.data]):"error"===s.type&&h(s.message)}catch(s){f(s=>[...s,e.data])}},a.onerror=()=>{h("WebSocket connection error"),m(!1)},a.onclose=()=>{m(!1)},()=>{a.readyState===WebSocket.OPEN&&a.close()}},[s,c]),(0,r.useEffect)(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[g]),(0,t.jsx)(J.lG,{open:!!s,onOpenChange:n,children:(0,t.jsxs)(J.Cf,{className:"".concat(p?"max-w-full h-screen":"max-w-4xl h-[600px]"," p-0 gap-0 flex flex-col"),children:[(0,t.jsxs)(J.c7,{className:"px-4 py-3 border-b border-border/50 flex-row items-center justify-between space-y-0",children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-500/20 to-emerald-500/20 border border-green-500/30 flex items-center justify-center",children:(0,t.jsx)(S.A,{className:"w-4 h-4 text-green-400"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Container Shell"}),a&&(0,t.jsx)("span",{className:"text-sm text-muted-foreground font-normal",children:a}),d?(0,t.jsx)(D.E,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/30",children:"Connected"}):(0,t.jsx)(D.E,{variant:"outline",className:"bg-red-500/10 text-red-500 border-red-500/30",children:"Disconnected"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>{f([])},className:"h-8 w-8",children:(0,t.jsx)(A.A,{className:"w-4 h-4"})}),(0,t.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>j(!p),className:"h-8 w-8",children:p?(0,t.jsx)(T.A,{className:"w-4 h-4"}):(0,t.jsx)(O.A,{className:"w-4 h-4"})}),(0,t.jsx)(o.$,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8",children:(0,t.jsx)(u.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col bg-black/90 min-h-0",children:[(0,t.jsxs)("div",{ref:b,className:"flex-1 overflow-y-auto p-4 font-mono text-sm text-green-400 space-y-1",children:[x&&(0,t.jsx)("div",{className:"text-red-500 mb-4 p-2 bg-red-500/10 rounded border border-red-500/30",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:x}),(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>{h(null),f([]),i.current&&i.current.close()},className:"h-6 text-xs",children:"Reconnect"})]})}),0===g.length&&!x&&(0,t.jsx)("div",{className:"text-muted-foreground",children:d?"Connected. Type a command...":"Connecting..."}),g.map((e,s)=>(0,t.jsx)("div",{className:"whitespace-pre-wrap break-all",children:e},s))]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),N.trim()&&i.current&&i.current.readyState===WebSocket.OPEN&&(i.current.send(JSON.stringify({type:"input",data:N+"\n"})),f(e=>[...e,"$ ".concat(N)]),v(""))},className:"border-t border-border/30 p-3 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-green-400 font-mono",children:"$"}),(0,t.jsx)("input",{type:"text",value:N,onChange:e=>v(e.target.value),placeholder:"Enter command...",disabled:!d,className:"flex-1 bg-transparent border-none outline-none text-green-400 font-mono placeholder:text-green-400/30 disabled:opacity-50",autoFocus:!0}),(0,t.jsx)(o.$,{type:"submit",size:"sm",disabled:!d||!N.trim(),className:"bg-green-500/20 hover:bg-green-500/30 text-green-400 border border-green-500/30",children:"Send"})]})]}),(0,t.jsx)("div",{className:"px-4 py-2 border-t border-border/50 bg-muted/30 text-xs text-muted-foreground",children:(0,t.jsx)("span",{children:"Tip: This terminal connects to the container's shell. Type 'exit' to disconnect."})})]})})}var M=a(7235),W=a(90235),Z=a(47507),V=a(89715),G=a(86651),q=a(53511),H=a(5917),X=a(39867);function K(e){let{containerId:s,containerName:a,onClose:n}=e,{token:c}=(0,l.A)(),[i,m]=(0,r.useState)([]),[x,h]=(0,r.useState)([]),[p,j]=(0,r.useState)(""),[g,f]=(0,r.useState)(!0),[N,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[y,k]=(0,r.useState)("100"),[C,S]=(0,r.useState)(!0),[E,_]=(0,r.useState)(!1),z=(0,r.useRef)(null),P=(0,r.useRef)(null),U=(0,r.useCallback)(async()=>{if(c&&s)try{let e=new URLSearchParams({tail:y,timestamps:C.toString()}),a=await fetch("/api/containers/".concat(s,"/logs?").concat(e),{headers:{Authorization:"Bearer ".concat(c)}});if(!a.ok)throw Error("Failed to fetch logs");let t=await a.json();m(t.logs||[])}catch(e){console.error("Failed to fetch logs:",e)}},[c,s,y,C]),I=(0,r.useCallback)(()=>{if(!s||!c)return;let e="https:"===window.location.protocol?"wss:":"ws:",a=new WebSocket("".concat(e,"//").concat(window.location.host,"/api/containers/").concat(s,"/logs/stream"));P.current=a,a.onopen=()=>{a.send(JSON.stringify({type:"auth",token:c})),v(!0)},a.onmessage=e=>{try{let s=JSON.parse(e.data);"log"===s.type&&m(e=>[...e,s.line])}catch(s){m(s=>[...s,e.data])}},a.onerror=()=>{v(!1)},a.onclose=()=>{v(!1)}},[s,c]),L=(0,r.useCallback)(()=>{P.current&&(P.current.close(),P.current=null),v(!1)},[]);(0,r.useEffect)(()=>(s&&U(),()=>{L()}),[s,U,L]),(0,r.useEffect)(()=>{p.trim()?h(i.filter(e=>e.toLowerCase().includes(p.toLowerCase()))):h(i)},[i,p]),(0,r.useEffect)(()=>{g&&z.current&&(z.current.scrollTop=z.current.scrollHeight)},[x,g]);let $=()=>{L(),U()};return(0,t.jsx)(J.lG,{open:!!s,onOpenChange:n,children:(0,t.jsxs)(J.Cf,{className:"".concat(b?"max-w-full h-screen":"max-w-5xl h-[700px]"," p-0 gap-0 flex flex-col"),children:[(0,t.jsxs)(J.c7,{className:"px-4 py-3 border-b border-border/50 flex-row items-center justify-between space-y-0",children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500/20 to-indigo-500/20 border border-blue-500/30 flex items-center justify-center",children:(0,t.jsx)(V.A,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Container Logs"}),a&&(0,t.jsx)("span",{className:"text-sm text-muted-foreground font-normal",children:a}),(0,t.jsxs)(D.E,{variant:"outline",className:"font-mono",children:[x.length," lines"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>w(!b),className:"h-8 w-8",children:b?(0,t.jsx)(T.A,{className:"w-4 h-4"}):(0,t.jsx)(O.A,{className:"w-4 h-4"})}),(0,t.jsx)(o.$,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8",children:(0,t.jsx)(u.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-border/50 bg-muted/30 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-[200px] relative",children:[(0,t.jsx)(G.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(d.p,{placeholder:"Search logs...",value:p,onChange:e=>j(e.target.value),className:"pl-9"})]}),(0,t.jsxs)(Z.l6,{value:y,onValueChange:k,children:[(0,t.jsx)(Z.bq,{className:"w-[140px]",children:(0,t.jsx)(Z.yv,{})}),(0,t.jsxs)(Z.gC,{children:[(0,t.jsx)(Z.eb,{value:"50",children:"Last 50 lines"}),(0,t.jsx)(Z.eb,{value:"100",children:"Last 100 lines"}),(0,t.jsx)(Z.eb,{value:"500",children:"Last 500 lines"}),(0,t.jsx)(Z.eb,{value:"1000",children:"Last 1000 lines"}),(0,t.jsx)(Z.eb,{value:"all",children:"All lines"})]})]}),(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>{N?L():I()},className:N?"bg-green-500/20 border-green-500/30 text-green-500":"",children:[N?(0,t.jsx)(q.A,{className:"w-4 h-4 mr-2"}):(0,t.jsx)(F.A,{className:"w-4 h-4 mr-2"}),N?"Following":"Follow"]}),(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:$,children:[(0,t.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(x.join("\n")),_(!0),setTimeout(()=>_(!1),2e3)},children:[E?(0,t.jsx)(H.A,{className:"w-4 h-4 mr-2"}):(0,t.jsx)(R.A,{className:"w-4 h-4 mr-2"}),E?"Copied!":"Copy"]}),(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([i.join("\n")],{type:"text/plain"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="".concat(a||s,"-logs.txt"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)},children:[(0,t.jsx)(X.A,{className:"w-4 h-4 mr-2"}),"Download"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(M.d,{id:"auto-scroll",checked:g,onCheckedChange:f}),(0,t.jsx)(W.J,{htmlFor:"auto-scroll",className:"text-sm cursor-pointer",children:"Auto-scroll"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(M.d,{id:"timestamps",checked:C,onCheckedChange:e=>{S(e),$()}}),(0,t.jsx)(W.J,{htmlFor:"timestamps",className:"text-sm cursor-pointer",children:"Show timestamps"})]})]})]}),(0,t.jsx)("div",{ref:z,className:"flex-1 overflow-y-auto p-4 bg-black/90 font-mono text-xs text-gray-300 space-y-1 min-h-0",children:0===x.length?(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:p?"No logs match your search":"No logs available"}):x.map((e,s)=>{let a=/error|failed|fatal/i.test(e),r=/warn|warning/i.test(e),n=/info/i.test(e),l=/debug/i.test(e),c="text-gray-300";a?c="text-red-400":r?c="text-yellow-400":n?c="text-blue-400":l&&(c="text-purple-400");let i=p?e.split(RegExp("(".concat(p,")"),"gi")):[e];return(0,t.jsxs)("div",{className:"".concat(c," whitespace-pre-wrap break-all hover:bg-white/5 px-2 py-0.5 rounded transition-colors"),children:[(0,t.jsx)("span",{className:"text-muted-foreground select-none mr-2",children:s+1}),p?i.map((e,s)=>e.toLowerCase()===p.toLowerCase()?(0,t.jsx)("span",{className:"bg-yellow-500/30 text-yellow-300",children:e},s):(0,t.jsx)("span",{children:e},s)):e]},s)})}),(0,t.jsx)("div",{className:"px-4 py-2 border-t border-border/50 bg-muted/30 text-xs text-muted-foreground",children:(0,t.jsx)("span",{children:"Tip: Use the Follow button to stream logs in real-time."})})]})})}var Y=a(96633),Q=a(89559),ee=a(26617),es=a(45345),ea=a(71847);let et=(0,ea.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var er=a(79397);function en(e){let{onRefresh:s}=e,{token:a,user:n}=(0,l.A)(),[c,m]=(0,r.useState)([]),[x,h]=(0,r.useState)([]),[u,p]=(0,r.useState)(!0),[j,g]=(0,r.useState)(null),[f,N]=(0,r.useState)(""),[v,b]=(0,r.useState)(!1),[w,C]=(0,r.useState)(""),[A,S]=(0,r.useState)("latest"),[E,F]=(0,r.useState)(!1),[z,R]=(0,r.useState)(""),P=(null==n?void 0:n.role)==="admin",I=async()=>{if(a){p(!0),g(null);try{let e=await fetch("/api/images",{headers:{Authorization:"Bearer ".concat(a)}});if(!e.ok)throw Error("Failed to fetch images");let s=await e.json();m(s||[])}catch(e){g(e instanceof Error?e.message:"Failed to load images")}finally{p(!1)}}};(0,r.useEffect)(()=>{I()},[a]),(0,r.useEffect)(()=>{f.trim()?h(c.filter(e=>e.repo_tags.some(e=>e.toLowerCase().includes(f.toLowerCase())))):h(c)},[c,f]);let L=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB","TB"][s]},$=async()=>{if(w.trim()){F(!0),R("Pulling image...");try{let e="".concat(w,":").concat(A);if(!(await fetch("/api/images/pull",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({image:e})})).ok)throw Error("Failed to pull image");R("Image pulled successfully!"),setTimeout(()=>{b(!1),C(""),S("latest"),R(""),I(),null==s||s()},1e3)}catch(e){R("Error: ".concat(e instanceof Error?e.message:"Failed to pull image"))}finally{F(!1)}}},T=async e=>{if(confirm("Are you sure you want to delete this image?"))try{if(!(await fetch("/api/images/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}})).ok)throw Error("Failed to delete image");I(),null==s||s()}catch(e){alert(e instanceof Error?e.message:"Failed to delete image")}};return u?(0,t.jsx)(i.Zp,{className:"bg-card/50 border-border/50",children:(0,t.jsx)(i.Wu,{className:"flex items-center justify-center py-12",children:(0,t.jsx)(y.A,{className:"w-8 h-8 animate-spin text-accent"})})}):j?(0,t.jsx)(i.Zp,{className:"bg-card/50 border-border/50",children:(0,t.jsxs)(i.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(k.A,{className:"w-12 h-12 text-destructive mb-4"}),(0,t.jsx)("p",{className:"text-destructive mb-4",children:j}),(0,t.jsxs)(o.$,{onClick:I,variant:"outline",children:[(0,t.jsx)(Q.A,{className:"w-4 h-4 mr-2"}),"Retry"]})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Zp,{className:"bg-card/50 border-border/50",children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(ee.A,{className:"w-5 h-5 text-accent"}),"Container Images"]}),(0,t.jsx)(i.BT,{children:"Manage container images available on this system"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(o.$,{onClick:I,variant:"outline",size:"sm",children:[(0,t.jsx)(Q.A,{className:"w-4 h-4 mr-2"}),"Refresh"]}),P&&(0,t.jsxs)(o.$,{onClick:()=>b(!0),size:"sm",children:[(0,t.jsx)(X.A,{className:"w-4 h-4 mr-2"}),"Pull Image"]})]})]})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(G.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(d.p,{placeholder:"Search images by name...",value:f,onChange:e=>N(e.target.value),className:"pl-9"})]}),0===x.length?(0,t.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,t.jsx)(ee.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:f?"No images match your search":"No images found"})]}):(0,t.jsx)("div",{className:"rounded-lg border border-border/50 overflow-hidden",children:(0,t.jsxs)(Y.XI,{children:[(0,t.jsx)(Y.A0,{children:(0,t.jsxs)(Y.Hj,{className:"bg-muted/50",children:[(0,t.jsx)(Y.nd,{children:"Repository:Tag"}),(0,t.jsx)(Y.nd,{children:"Image ID"}),(0,t.jsx)(Y.nd,{children:"Size"}),(0,t.jsx)(Y.nd,{children:"Created"}),(0,t.jsx)(Y.nd,{children:"Containers"}),P&&(0,t.jsx)(Y.nd,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(Y.BF,{children:x.map(e=>{var s;return(0,t.jsxs)(Y.Hj,{className:"hover:bg-muted/30",children:[(0,t.jsx)(Y.nA,{children:(0,t.jsx)("div",{className:"flex flex-col gap-1",children:e.repo_tags&&e.repo_tags.length>0?e.repo_tags.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(es.A,{className:"w-3 h-3 text-accent"}),(0,t.jsx)("span",{className:"font-mono text-sm",children:e})]},e)):(0,t.jsx)("span",{className:"text-muted-foreground text-sm italic",children:"<none>"})})}),(0,t.jsx)(Y.nA,{children:(0,t.jsx)("span",{className:"font-mono text-xs text-muted-foreground",children:e.id.substring(0,12)})}),(0,t.jsx)(Y.nA,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"w-3 h-3 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:L(e.size)})]})}),(0,t.jsx)(Y.nA,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(et,{className:"w-3 h-3 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:(s=e.created)?new Date(s).toLocaleString():"-"})]})}),(0,t.jsx)(Y.nA,{children:(0,t.jsx)(D.E,{variant:"outline",className:"font-mono",children:e.containers})}),P&&(0,t.jsx)(Y.nA,{className:"text-right",children:(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>T(e.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:(0,t.jsx)(_.A,{className:"w-4 h-4"})})})]},e.id)})})]})}),(0,t.jsx)("div",{className:"flex items-center justify-between pt-4 border-t border-border/50 text-sm text-muted-foreground",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(er.A,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[c.length," images"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[L(c.reduce((e,s)=>e+s.size,0))," total"]})]})]})})]})]}),(0,t.jsx)(J.lG,{open:v,onOpenChange:b,children:(0,t.jsxs)(J.Cf,{children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(X.A,{className:"w-5 h-5 text-accent"}),"Pull Container Image"]}),(0,t.jsx)(J.rr,{children:"Download a container image from a registry"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"image-name",children:"Image Name"}),(0,t.jsx)(d.p,{id:"image-name",placeholder:"e.g., nginx, docker.io/library/redis, ghcr.io/user/app",value:w,onChange:e=>C(e.target.value),disabled:E}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter the full image path or just the image name for Docker Hub"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"image-tag",children:"Tag"}),(0,t.jsx)(d.p,{id:"image-tag",placeholder:"latest",value:A,onChange:e=>S(e.target.value),disabled:E})]}),z&&(0,t.jsx)("div",{className:"text-sm p-3 rounded-lg ".concat(z.includes("Error")?"bg-destructive/10 text-destructive":"bg-accent/10 text-accent"),children:z})]}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>{b(!1),C(""),S("latest"),R("")},disabled:E,children:"Cancel"}),(0,t.jsxs)(o.$,{onClick:$,disabled:!w.trim()||E,children:[E&&(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Pull Image"]})]})]})})]})}var el=a(55850),ec=a(54664),ei=a(61362),eo=a(78874),ed=a(6191),em=a(57828),ex=a(11010),eh=a(18720);function eu(e){let{token:s,isAdmin:a,composeAvailable:n}=e,[l,c]=(0,r.useState)([]),[m,x]=(0,r.useState)(!0),[h,u]=(0,r.useState)(""),[p,j]=(0,r.useState)(null),[g,f]=(0,r.useState)([]),[N,v]=(0,r.useState)(!1),[b,A]=(0,r.useState)(!1),[S,E]=(0,r.useState)(!1),[z,R]=(0,r.useState)(!1),[P,U]=(0,r.useState)(!1),[I,L]=(0,r.useState)(""),[$,T]=(0,r.useState)(""),[O,B]=(0,r.useState)('version: "3.8"\nservices:\n  app:\n    image: nginx:alpine\n    ports:\n      - "8080:80"\n    restart: unless-stopped\n'),[M,Z]=(0,r.useState)(""),[V,q]=(0,r.useState)(!1),[H,X]=(0,r.useState)([]),[K,Y]=(0,r.useState)(0),Q=(0,r.useRef)(null),ee=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/stacks",{headers:{Authorization:"Bearer ".concat(s)}});if(e.ok){let s=await e.json();c(s||[])}}catch(e){console.error("Failed to fetch stacks:",e)}finally{x(!1)}},[s]);(0,r.useEffect)(()=>{ee()},[ee]),(0,r.useEffect)(()=>{Q.current&&(Q.current.scrollTop=Q.current.scrollHeight)},[H]);let es=async e=>{try{let a=await fetch("/api/stacks/".concat(e),{headers:{Authorization:"Bearer ".concat(s)}});if(a.ok){let e=await a.json();return j(e),e}}catch(e){console.error("Failed to fetch stack details:",e)}return null},ea=async e=>{try{let a=await fetch("/api/stacks/".concat(e,"/containers"),{headers:{Authorization:"Bearer ".concat(s)}});if(a.ok){let e=await a.json();f(e||[])}}catch(e){console.error("Failed to fetch stack containers:",e)}},et=async()=>{try{let e=await fetch("/api/stacks",{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify({name:I,description:$,compose_content:O,env_content:M})});if(e.ok)eh.oR.success("Stack created",{description:'Stack "'.concat(I,'" created successfully')}),v(!1),eg(),ee();else{let s=await e.json();eh.oR.error("Failed to create stack",{description:s.error||"Unknown error"})}}catch(e){eh.oR.error("Failed to create stack",{description:e instanceof Error?e.message:"Unknown error"})}},en=async()=>{if(p)try{let e=await fetch("/api/stacks/".concat(p.id),{method:"PUT",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify({name:I||p.name,description:$,compose_content:O,env_content:M})});if(e.ok)eh.oR.success("Stack updated",{description:'Stack "'.concat(p.name,'" updated successfully')}),A(!1),ee();else{let s=await e.json();eh.oR.error("Failed to update stack",{description:s.error||"Unknown error"})}}catch(e){eh.oR.error("Failed to update stack",{description:e instanceof Error?e.message:"Unknown error"})}},eu=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(p)try{let a=await fetch("/api/stacks/".concat(p.id,"?volumes=").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}});if(a.ok)eh.oR.success("Stack deleted",{description:'Stack "'.concat(p.name,'" deleted successfully')}),E(!1),j(null),ee();else{let e=await a.json();eh.oR.error("Failed to delete stack",{description:e.error||"Unknown error"})}}catch(e){eh.oR.error("Failed to delete stack",{description:e instanceof Error?e.message:"Unknown error"})}},ep=async()=>{if(!p)return;q(!0),X([]),Y(0);let e="https:"===window.location.protocol?"wss:":"ws:",a=new WebSocket("".concat(e,"//").concat(window.location.host,"/api/stacks/").concat(p.id,"/deploy?token=").concat(s));a.onmessage=e=>{let s=JSON.parse(e.data);s.output&&(X(e=>[...e,s.output]),Y(e=>Math.min(e+2,90))),s.message&&X(e=>[...e,"[INFO] ".concat(s.message)]),s.complete&&(q(!1),Y(100),s.success?(eh.oR.success("Stack deployed",{description:'Stack "'.concat(p.name,'" is now running')}),ee()):eh.oR.error("Deployment failed",{description:s.error||"Unknown error"}))},a.onerror=()=>{q(!1),eh.oR.error("Connection error",{description:"Failed to connect to deployment service"})}},ej=async e=>{if(p)try{let a=await fetch("/api/stacks/".concat(p.id,"/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(s)}});if(a.ok)eh.oR.success("Stack ".concat(e,"ed"),{description:'Stack "'.concat(p.name,'" ').concat(e,"ed successfully")}),ee();else{let s=await a.json();eh.oR.error("Failed to ".concat(e," stack"),{description:s.error||"Unknown error"})}}catch(s){eh.oR.error("Failed to ".concat(e," stack"),{description:s instanceof Error?s.message:"Unknown error"})}},eg=()=>{L(""),T(""),B('version: "3.8"\nservices:\n  app:\n    image: nginx:alpine\n    ports:\n      - "8080:80"\n    restart: unless-stopped\n'),Z("")},ef=async e=>{let s=await es(e.id);s&&(L(s.name),T(s.description),B(s.compose_content),Z(s.env_content),A(!0))},eN=async e=>{await es(e.id),X([]),Y(0),R(!0)},ev=async e=>{await es(e.id),await ea(e.id),U(!0)},eb=e=>{switch(e){case"active":return"text-accent";case"partial":return"text-primary";case"stopped":default:return"text-muted-foreground";case"error":return"text-destructive";case"deploying":return"text-blue-400"}},ew=l.filter(e=>e.name.toLowerCase().includes(h.toLowerCase())||e.description.toLowerCase().includes(h.toLowerCase()));return n?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(G.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(d.p,{placeholder:"Search stacks...",value:h,onChange:e=>u(e.target.value),className:"pl-10 bg-card/70 border-border/50"})]}),a&&(0,t.jsxs)(o.$,{onClick:()=>v(!0),className:"gap-2",children:[(0,t.jsx)(ed.A,{className:"w-4 h-4"})," Create Stack"]})]}),m?(0,t.jsx)(i.Zp,{className:"bg-card/70 border-border/50",children:(0,t.jsxs)(i.Wu,{className:"py-12 text-center",children:[(0,t.jsx)(y.A,{className:"w-8 h-8 mx-auto mb-4 animate-spin text-accent"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading stacks..."})]})}):0===ew.length?(0,t.jsx)(i.Zp,{className:"bg-card/70 border-border/50",children:(0,t.jsxs)(i.Wu,{className:"py-12 text-center",children:[(0,t.jsx)(er.A,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Stacks Found"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:h?"No stacks match your search":"Create your first stack to get started"}),a&&!h&&(0,t.jsxs)(o.$,{onClick:()=>v(!0),className:"gap-2",children:[(0,t.jsx)(ed.A,{className:"w-4 h-4"})," Create Stack"]})]})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ew.map(e=>(0,t.jsxs)(i.Zp,{className:"bg-card/70 border-border/50 hover:border-accent/50 transition-colors",children:[(0,t.jsxs)(i.aR,{className:"pb-2",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(er.A,{className:"w-5 h-5 text-accent"}),(0,t.jsx)(i.ZB,{className:"text-base",children:e.name})]}),(e=>{switch(e){case"active":return(0,t.jsx)(ei.A,{className:"w-4 h-4 text-accent"});case"partial":return(0,t.jsx)(k.A,{className:"w-4 h-4 text-primary"});case"stopped":return(0,t.jsx)(eo.A,{className:"w-4 h-4 text-muted-foreground"});case"error":return(0,t.jsx)(eo.A,{className:"w-4 h-4 text-destructive"});case"deploying":return(0,t.jsx)(y.A,{className:"w-4 h-4 text-blue-400 animate-spin"});default:return(0,t.jsx)(k.A,{className:"w-4 h-4"})}})(e.status)]}),e.description&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description})]}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Containers"}),(0,t.jsxs)("span",{className:eb(e.status),children:[e.running_count,"/",e.container_count," running"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Status"}),(0,t.jsx)(D.E,{variant:"outline",className:"".concat(eb(e.status)," border-current"),children:e.status.toUpperCase()})]}),(0,t.jsx)(ec.w,{}),(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsxs)(o.$,{size:"sm",variant:"ghost",onClick:()=>ev(e),className:"gap-1 flex-1",children:[(0,t.jsx)(em.A,{className:"w-3 h-3"})," View"]}),a&&(0,t.jsxs)(t.Fragment,{children:["stopped"===e.status||"error"===e.status?(0,t.jsxs)(o.$,{size:"sm",variant:"ghost",onClick:()=>eN(e),className:"gap-1 flex-1 text-accent hover:text-accent",children:[(0,t.jsx)(F.A,{className:"w-3 h-3"})," Deploy"]}):(0,t.jsxs)(o.$,{size:"sm",variant:"ghost",onClick:()=>{j(e),ej("stop")},className:"gap-1 flex-1 text-destructive hover:text-destructive",children:[(0,t.jsx)(C.A,{className:"w-3 h-3"})," Stop"]}),(0,t.jsx)(o.$,{size:"sm",variant:"ghost",onClick:()=>ef(e),className:"gap-1",children:(0,t.jsx)(ex.A,{className:"w-3 h-3"})}),(0,t.jsx)(o.$,{size:"sm",variant:"ghost",onClick:()=>{j(e),E(!0)},className:"gap-1 text-destructive hover:text-destructive",children:(0,t.jsx)(_.A,{className:"w-3 h-3"})})]})]})]})]},e.id))}),(0,t.jsx)(J.lG,{open:N,onOpenChange:v,children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-[700px] max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(er.A,{className:"w-5 h-5"}),"Create New Stack"]}),(0,t.jsx)(J.rr,{children:"Define a new stack using a Docker Compose file"})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"name",children:"Stack Name"}),(0,t.jsx)(d.p,{id:"name",value:I,onChange:e=>L(e.target.value),placeholder:"my-stack"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"description",children:"Description"}),(0,t.jsx)(d.p,{id:"description",value:$,onChange:e=>T(e.target.value),placeholder:"Optional description"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"compose",children:"Docker Compose (YAML)"}),(0,t.jsx)("textarea",{id:"compose",value:O,onChange:e=>B(e.target.value),className:"w-full h-64 px-3 py-2 font-mono text-sm bg-muted/50 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent resize-none",placeholder:"version: '3.8'..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"env",children:"Environment Variables (.env)"}),(0,t.jsx)("textarea",{id:"env",value:M,onChange:e=>Z(e.target.value),className:"w-full h-24 px-3 py-2 font-mono text-sm bg-muted/50 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent resize-none",placeholder:"KEY=value"})]})]}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),(0,t.jsx)(o.$,{onClick:et,disabled:!I||!O,children:"Create Stack"})]})]})}),(0,t.jsx)(J.lG,{open:b,onOpenChange:A,children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-[700px] max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(ex.A,{className:"w-5 h-5"}),"Edit Stack: ",null==p?void 0:p.name]}),(0,t.jsx)(J.rr,{children:"Modify the stack configuration. Changes require redeployment."})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-name",children:"Stack Name"}),(0,t.jsx)(d.p,{id:"edit-name",value:I,onChange:e=>L(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-description",children:"Description"}),(0,t.jsx)(d.p,{id:"edit-description",value:$,onChange:e=>T(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-compose",children:"Docker Compose (YAML)"}),(0,t.jsx)("textarea",{id:"edit-compose",value:O,onChange:e=>B(e.target.value),className:"w-full h-64 px-3 py-2 font-mono text-sm bg-muted/50 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent resize-none"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-env",children:"Environment Variables (.env)"}),(0,t.jsx)("textarea",{id:"edit-env",value:M,onChange:e=>Z(e.target.value),className:"w-full h-24 px-3 py-2 font-mono text-sm bg-muted/50 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent resize-none"})]})]}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),(0,t.jsx)(o.$,{onClick:en,children:"Save Changes"})]})]})}),(0,t.jsx)(J.lG,{open:z,onOpenChange:e=>!V&&R(e),children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(F.A,{className:"w-5 h-5"}),"Deploy Stack: ",null==p?void 0:p.name]}),(0,t.jsx)(J.rr,{children:"Deploy the stack to start all containers"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[V&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Deploying..."}),(0,t.jsxs)("span",{className:"text-accent",children:[K,"%"]})]}),(0,t.jsx)(el.k,{value:K,className:"h-2"})]}),(0,t.jsx)("div",{ref:Q,className:"bg-muted/50 border border-border rounded-lg p-4 h-64 overflow-y-auto font-mono text-xs",children:0===H.length?(0,t.jsx)("span",{className:"text-muted-foreground",children:V?"Starting deployment...":"Ready to deploy"}):H.map((e,s)=>(0,t.jsx)("div",{className:"text-foreground/80 whitespace-pre-wrap",children:e},s))})]}),(0,t.jsxs)(J.Es,{children:[!V&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),(0,t.jsxs)(o.$,{onClick:ep,className:"gap-2",children:[(0,t.jsx)(F.A,{className:"w-4 h-4"})," Deploy"]})]}),V&&100===K&&(0,t.jsx)(o.$,{onClick:()=>R(!1),children:"Close"})]})]})}),(0,t.jsx)(J.lG,{open:S,onOpenChange:E,children:(0,t.jsxs)(J.Cf,{children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2 text-destructive",children:[(0,t.jsx)(_.A,{className:"w-5 h-5"}),"Delete Stack"]}),(0,t.jsxs)(J.rr,{children:['Are you sure you want to delete "',null==p?void 0:p.name,'"? This will stop and remove all containers in the stack.']})]}),(0,t.jsxs)(J.Es,{className:"gap-2",children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),(0,t.jsx)(o.$,{variant:"destructive",onClick:()=>eu(!1),children:"Delete"}),(0,t.jsx)(o.$,{variant:"destructive",onClick:()=>eu(!0),children:"Delete + Volumes"})]})]})}),(0,t.jsx)(J.lG,{open:P,onOpenChange:U,children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-[600px]",children:[(0,t.jsx)(J.c7,{children:(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"w-5 h-5"}),"Stack Containers: ",null==p?void 0:p.name]})}),(0,t.jsx)("div",{className:"space-y-2 py-4",children:0===g.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No containers running in this stack"}):g.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:["running"===e.status?(0,t.jsx)(ei.A,{className:"w-4 h-4 text-accent"}):(0,t.jsx)(eo.A,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.service}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e.image})]})]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e.ports.map(e=>"".concat(e.host_port,":").concat(e.container_port)).join(", ")})]},e.name))}),(0,t.jsx)(J.Es,{children:(0,t.jsx)(o.$,{variant:"outline",onClick:()=>U(!1),children:"Close"})})]})})]}):(0,t.jsx)(i.Zp,{className:"bg-card/70 border-border/50",children:(0,t.jsxs)(i.Wu,{className:"py-12 text-center",children:[(0,t.jsx)(k.A,{className:"w-12 h-12 mx-auto mb-4 text-primary"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"podman-compose Not Available"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"podman-compose is required to manage stacks. Install it to enable this feature."})]})})}let ep=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:(0,p.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-y",a),ref:s,...r})});ep.displayName="Textarea";var ej=a(27346),eg=a(21786);let ef=(0,ea.A)("file-code-corner",[["path",{d:"M4 12.15V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-3.35",key:"1wthlu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 16-3 3 3 3",key:"331omg"}],["path",{d:"m9 22 3-3-3-3",key:"lsp7cz"}]]);var eN=a(20508),ev=a(20639),eb=a(14452);function ew(e){let{token:s,isAdmin:a}=e,[n,l]=(0,r.useState)([]),[c,m]=(0,r.useState)(!0),[x,h]=(0,r.useState)(""),[u,p]=(0,r.useState)(null),[j,g]=(0,r.useState)(!1),[f,N]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1),[A,S]=(0,r.useState)(!1),[E,F]=(0,r.useState)(!1),[z,P]=(0,r.useState)(""),[U,I]=(0,r.useState)(""),[L,$]=(0,r.useState)("1.0.0"),[T,O]=(0,r.useState)('version: "3.8"\nservices:\n  app:\n    image: nginx:alpine\n    ports:\n      - "8080:80"\n    restart: unless-stopped\n'),[B,M]=(0,r.useState)(""),[Z,V]=(0,r.useState)(""),[q,H]=(0,r.useState)(""),[K,Y]=(0,r.useState)({}),[Q,ee]=(0,r.useState)(!1),[ea,er]=(0,r.useState)(""),en=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/templates",{headers:{Authorization:"Bearer ".concat(s)}});if(e.ok){let s=await e.json();l(s||[])}}catch(e){console.error("Failed to fetch templates:",e)}finally{m(!1)}},[s]);(0,r.useEffect)(()=>{en()},[en]);let el=()=>{P(""),I(""),$("1.0.0"),O('version: "3.8"\nservices:\n  app:\n    image: nginx:alpine\n    ports:\n      - "8080:80"\n    restart: unless-stopped\n'),M(""),V("")},ec=e=>{let s={};return e.split("\n").forEach(e=>{let a=e.trim();if(a&&!a.startsWith("#")){let[e,...t]=a.split("=");e&&(s[e.trim()]=t.join("=").trim())}}),s},eo=e=>e.split(",").map(e=>e.trim()).filter(e=>e.length>0),em=async()=>{if(!z||!T)return void eh.oR.error("Validation Error",{description:"Name and compose content are required"});try{let e=await fetch("/api/templates",{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify({name:z,description:U,version:L,compose_content:T,env_defaults:ec(B),tags:eo(Z)})});if(e.ok)eh.oR.success("Template Created",{description:'Template "'.concat(z,'" created successfully')}),g(!1),el(),en();else{let s=await e.json();eh.oR.error("Failed to create template",{description:s.error||"Unknown error"})}}catch(e){eh.oR.error("Failed to create template",{description:e instanceof Error?e.message:"Unknown error"})}},eu=async()=>{if(u)try{let e=await fetch("/api/templates/".concat(u.id),{method:"PUT",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify({name:z||u.name,description:U,version:L,compose_content:T,env_defaults:ec(B),tags:eo(Z)})});if(e.ok)eh.oR.success("Template Updated",{description:'Template "'.concat(u.name,'" updated successfully')}),N(!1),en();else{let s=await e.json();eh.oR.error("Failed to update template",{description:s.error||"Unknown error"})}}catch(e){eh.oR.error("Failed to update template",{description:e instanceof Error?e.message:"Unknown error"})}},ew=async()=>{if(u)try{let e=await fetch("/api/templates/".concat(u.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}});if(e.ok)eh.oR.success("Template Deleted",{description:'Template "'.concat(u.name,'" deleted successfully')}),b(!1),p(null),en();else{let s=await e.json();eh.oR.error("Failed to delete template",{description:s.error||"Unknown error"})}}catch(e){eh.oR.error("Failed to delete template",{description:e instanceof Error?e.message:"Unknown error"})}},ey=async()=>{if(u){ee(!0);try{let e=await fetch("/api/templates/".concat(u.id,"/deploy"),{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify({project_name:q,environment:K})}),a=await e.json();e.ok?(eh.oR.success("Stack Created from Template",{description:'Stack "'.concat(q||u.name,'" created. Go to Stacks tab to deploy it.')}),C(!1),H(""),Y({})):eh.oR.error("Failed to deploy template",{description:a.error||"Unknown error"})}catch(e){eh.oR.error("Failed to deploy template",{description:e instanceof Error?e.message:"Unknown error"})}finally{ee(!1)}}},ek=async e=>{try{let a=await fetch("/api/templates/".concat(e.id,"/export"),{headers:{Authorization:"Bearer ".concat(s)}});if(a.ok){let s=await a.json(),t=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="".concat(e.name,".json"),n.click(),URL.revokeObjectURL(r),eh.oR.success("Template Exported",{description:'Template "'.concat(e.name,'" exported successfully')})}else eh.oR.error("Failed to export template")}catch(e){eh.oR.error("Failed to export template",{description:e instanceof Error?e.message:"Unknown error"})}},eC=async e=>{try{let a=await fetch("/api/templates/".concat(e.id,"/export"),{headers:{Authorization:"Bearer ".concat(s)}});if(a.ok){let e=await a.json();await navigator.clipboard.writeText(JSON.stringify(e,null,2)),eh.oR.success("Copied to Clipboard",{description:"Template JSON copied to clipboard"})}}catch(e){eh.oR.error("Failed to copy template",{description:e instanceof Error?e.message:"Unknown error"})}},eA=async()=>{let e;if(!ea.trim())return void eh.oR.error("Validation Error",{description:"Please paste template JSON"});try{e=JSON.parse(ea)}catch(e){eh.oR.error("Invalid JSON",{description:"Please check the JSON format"});return}try{let a=await fetch("/api/templates/import",{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:ea});if(a.ok)eh.oR.success("Template Imported",{description:'Template "'.concat(e.name,'" imported successfully')}),S(!1),er(""),en();else{let e=await a.json();eh.oR.error("Failed to import template",{description:e.error||"Unknown error"})}}catch(e){eh.oR.error("Failed to import template",{description:e instanceof Error?e.message:"Unknown error"})}},eS=e=>{if(p(e),P(e.name),I(e.description),$(e.version),O(e.compose_content),e.env_defaults)try{let s=JSON.parse(e.env_defaults);M(Object.entries(s).map(e=>{let[s,a]=e;return"".concat(s,"=").concat(a)}).join("\n"))}catch(e){M("")}else M("");if(e.tags)try{let s=JSON.parse(e.tags);V(s.join(", "))}catch(e){V("")}else V("");N(!0)},eE=e=>{if(p(e),H(""),e.env_defaults)try{let s=JSON.parse(e.env_defaults);Y(s)}catch(e){Y({})}else Y({});C(!0)},eF=n.filter(e=>{let s=x.toLowerCase();return e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.author.toLowerCase().includes(s)}),e_=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ez=e=>{if(!e)return[];try{return JSON.parse(e)}catch(e){return[]}};return c?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)(y.A,{className:"w-8 h-8 animate-spin text-accent"})}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(G.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(d.p,{placeholder:"Search templates...",value:x,onChange:e=>h(e.target.value),className:"pl-10 bg-card/70 border-border/50"})]}),a&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.$,{variant:"outline",onClick:()=>S(!0),className:"gap-2",children:[(0,t.jsx)(eg.A,{className:"w-4 h-4"})," Import"]}),(0,t.jsxs)(o.$,{onClick:()=>{el(),g(!0)},className:"gap-2",children:[(0,t.jsx)(ed.A,{className:"w-4 h-4"})," New Template"]})]})]}),0===eF.length?(0,t.jsx)(i.Zp,{className:"border-border/50 bg-card/70",children:(0,t.jsxs)(i.Wu,{className:"flex flex-col items-center justify-center py-16",children:[(0,t.jsx)(ef,{className:"w-16 h-16 text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Templates"}),(0,t.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:x?"No templates match your search":"Save your container configurations as reusable templates"}),a&&!x&&(0,t.jsxs)(o.$,{onClick:()=>{el(),g(!0)},className:"gap-2",children:[(0,t.jsx)(ed.A,{className:"w-4 h-4"})," Create First Template"]})]})}):(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:eF.map(e=>(0,t.jsxs)(i.Zp,{className:"border-border/50 bg-card/70 hover:bg-card/90 transition-colors cursor-pointer",onClick:()=>{p(e),F(!0)},children:[(0,t.jsx)(i.aR,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ef,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)(i.ZB,{className:"text-base font-medium",children:e.name})]}),(0,t.jsxs)(D.E,{variant:"outline",className:"text-xs",children:["v",e.version||"1.0"]})]})}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description||"No description"}),ez(e.tags).length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[ez(e.tags).slice(0,3).map(e=>(0,t.jsxs)(D.E,{variant:"secondary",className:"text-xs",children:[(0,t.jsx)(es.A,{className:"w-3 h-3 mr-1"}),e]},e)),ez(e.tags).length>3&&(0,t.jsxs)(D.E,{variant:"secondary",className:"text-xs",children:["+",ez(e.tags).length-3]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t border-border/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(eN.A,{className:"w-3 h-3"}),e.author]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(w.A,{className:"w-3 h-3"}),e.usage_count," deploys"]})]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(et,{className:"w-3 h-3"}),e_(e.created_at)]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",onClick:e=>e.stopPropagation(),children:[a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>eE(e),className:"flex-1 gap-1",children:[(0,t.jsx)(ev.A,{className:"w-3 h-3"})," Deploy"]}),(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>eS(e),children:(0,t.jsx)(ex.A,{className:"w-3 h-3"})}),(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>ek(e),children:(0,t.jsx)(X.A,{className:"w-3 h-3"})}),(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>eC(e),children:(0,t.jsx)(R.A,{className:"w-3 h-3"})}),(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>{p(e),b(!0)},className:"text-destructive hover:text-destructive",children:(0,t.jsx)(_.A,{className:"w-3 h-3"})})]}),!a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>ek(e),className:"gap-1",children:[(0,t.jsx)(X.A,{className:"w-3 h-3"})," Export"]}),(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>eC(e),children:(0,t.jsx)(R.A,{className:"w-3 h-3"})})]})]})]})]},e.id))}),(0,t.jsx)(J.lG,{open:j,onOpenChange:g,children:(0,t.jsxs)(J.Cf,{className:"max-w-2xl max-h-[90vh]",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(ef,{className:"w-5 h-5 text-cyan-400"}),"Create Template"]}),(0,t.jsx)(J.rr,{children:"Save a container configuration as a reusable template"})]}),(0,t.jsx)(ej.F,{className:"max-h-[60vh]",children:(0,t.jsxs)("div",{className:"space-y-4 p-1",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"name",children:"Name *"}),(0,t.jsx)(d.p,{id:"name",value:z,onChange:e=>P(e.target.value),placeholder:"my-app-template",className:"bg-background/50"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"version",children:"Version"}),(0,t.jsx)(d.p,{id:"version",value:L,onChange:e=>$(e.target.value),placeholder:"1.0.0",className:"bg-background/50"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"description",children:"Description"}),(0,t.jsx)(ep,{id:"description",value:U,onChange:e=>I(e.target.value),placeholder:"Describe what this template does...",rows:2,className:"bg-background/50"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"compose",children:"Docker Compose Content *"}),(0,t.jsx)(ep,{id:"compose",value:T,onChange:e=>O(e.target.value),placeholder:"version: '3.8'\\nservices:\\n  ...",rows:12,className:"font-mono text-sm bg-background/50"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"env",children:"Environment Variables (KEY=value, one per line)"}),(0,t.jsx)(ep,{id:"env",value:B,onChange:e=>M(e.target.value),placeholder:"DATABASE_URL=postgres://localhost/db API_KEY=",rows:4,className:"font-mono text-sm bg-background/50"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"tags",children:"Tags (comma-separated)"}),(0,t.jsx)(d.p,{id:"tags",value:Z,onChange:e=>V(e.target.value),placeholder:"web, database, monitoring",className:"bg-background/50"})]})]})}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),(0,t.jsxs)(o.$,{onClick:em,className:"gap-2",children:[(0,t.jsx)(ei.A,{className:"w-4 h-4"})," Create Template"]})]})]})}),(0,t.jsx)(J.lG,{open:f,onOpenChange:N,children:(0,t.jsxs)(J.Cf,{className:"max-w-2xl max-h-[90vh]",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(ex.A,{className:"w-5 h-5 text-cyan-400"}),"Edit Template"]}),(0,t.jsx)(J.rr,{children:"Update template configuration"})]}),(0,t.jsx)(ej.F,{className:"max-h-[60vh]",children:(0,t.jsxs)("div",{className:"space-y-4 p-1",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-name",children:"Name"}),(0,t.jsx)(d.p,{id:"edit-name",value:z,onChange:e=>P(e.target.value),className:"bg-background/50"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-version",children:"Version"}),(0,t.jsx)(d.p,{id:"edit-version",value:L,onChange:e=>$(e.target.value),className:"bg-background/50"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-description",children:"Description"}),(0,t.jsx)(ep,{id:"edit-description",value:U,onChange:e=>I(e.target.value),rows:2,className:"bg-background/50"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-compose",children:"Docker Compose Content"}),(0,t.jsx)(ep,{id:"edit-compose",value:T,onChange:e=>O(e.target.value),rows:12,className:"font-mono text-sm bg-background/50"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-env",children:"Environment Variables"}),(0,t.jsx)(ep,{id:"edit-env",value:B,onChange:e=>M(e.target.value),rows:4,className:"font-mono text-sm bg-background/50"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-tags",children:"Tags"}),(0,t.jsx)(d.p,{id:"edit-tags",value:Z,onChange:e=>V(e.target.value),className:"bg-background/50"})]})]})}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,t.jsxs)(o.$,{onClick:eu,className:"gap-2",children:[(0,t.jsx)(ei.A,{className:"w-4 h-4"})," Save Changes"]})]})]})}),(0,t.jsx)(J.lG,{open:v,onOpenChange:b,children:(0,t.jsxs)(J.Cf,{children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2 text-destructive",children:[(0,t.jsx)(_.A,{className:"w-5 h-5"}),"Delete Template"]}),(0,t.jsxs)(J.rr,{children:["Are you sure you want to delete ",(0,t.jsx)("strong",{children:null==u?void 0:u.name}),"? This action cannot be undone."]})]}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),(0,t.jsx)(o.$,{variant:"destructive",onClick:ew,children:"Delete Template"})]})]})}),(0,t.jsx)(J.lG,{open:k,onOpenChange:C,children:(0,t.jsxs)(J.Cf,{className:"max-w-lg",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(ev.A,{className:"w-5 h-5 text-cyan-400"}),"Deploy Template"]}),(0,t.jsxs)(J.rr,{children:["Create a new stack from ",(0,t.jsx)("strong",{children:null==u?void 0:u.name})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"project-name",children:"Project Name (optional)"}),(0,t.jsx)(d.p,{id:"project-name",value:q,onChange:e=>H(e.target.value),placeholder:"".concat((null==u?void 0:u.name)||"project","-").concat(new Date().toISOString().slice(0,10)),className:"bg-background/50"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Leave empty to auto-generate a unique name"})]}),Object.keys(K).length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{children:"Environment Variables"}),(0,t.jsx)(ej.F,{className:"max-h-48",children:(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(K).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(d.p,{value:s,disabled:!0,className:"w-1/3 bg-background/30 text-muted-foreground text-sm"}),(0,t.jsx)(d.p,{value:a,onChange:e=>Y(a=>({...a,[s]:e.target.value})),placeholder:"value",className:"bg-background/50 text-sm"})]},s)})})})]})]}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),(0,t.jsxs)(o.$,{onClick:ey,disabled:Q,className:"gap-2",children:[Q?(0,t.jsx)(y.A,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(ev.A,{className:"w-4 h-4"}),Q?"Creating...":"Create Stack"]})]})]})}),(0,t.jsx)(J.lG,{open:A,onOpenChange:S,children:(0,t.jsxs)(J.Cf,{className:"max-w-2xl",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(eg.A,{className:"w-5 h-5 text-cyan-400"}),"Import Template"]}),(0,t.jsx)(J.rr,{children:"Paste exported template JSON to import"})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)(ep,{value:ea,onChange:e=>er(e.target.value),placeholder:'{"name": "my-template", "compose_content": "...", ...}',rows:12,className:"font-mono text-sm bg-background/50"})}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),(0,t.jsxs)(o.$,{onClick:eA,className:"gap-2",children:[(0,t.jsx)(eg.A,{className:"w-4 h-4"})," Import"]})]})]})}),(0,t.jsx)(J.lG,{open:E,onOpenChange:F,children:(0,t.jsxs)(J.Cf,{className:"max-w-3xl max-h-[90vh]",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(eb.A,{className:"w-5 h-5 text-cyan-400"}),null==u?void 0:u.name,(0,t.jsxs)(D.E,{variant:"outline",className:"ml-2",children:["v",(null==u?void 0:u.version)||"1.0"]})]}),(0,t.jsx)(J.rr,{children:(null==u?void 0:u.description)||"No description"})]}),(0,t.jsx)(ej.F,{className:"max-h-[60vh]",children:(0,t.jsxs)("div",{className:"space-y-4 p-1",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground pb-4 border-b border-border/50",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(eN.A,{className:"w-4 h-4"}),"Author: ",null==u?void 0:u.author]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(et,{className:"w-4 h-4"}),"Created: ",u?e_(u.created_at):""]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(w.A,{className:"w-4 h-4"}),"Used ",null==u?void 0:u.usage_count," times"]})]}),u&&ez(u.tags).length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:ez(u.tags).map(e=>(0,t.jsxs)(D.E,{variant:"secondary",children:[(0,t.jsx)(es.A,{className:"w-3 h-3 mr-1"}),e]},e))}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{className:"text-sm font-medium",children:"Compose File"}),(0,t.jsx)("pre",{className:"p-4 rounded-lg bg-background/50 border border-border/50 overflow-x-auto text-sm font-mono whitespace-pre",children:null==u?void 0:u.compose_content})]}),(null==u?void 0:u.env_defaults)&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{className:"text-sm font-medium",children:"Default Environment Variables"}),(0,t.jsx)("pre",{className:"p-4 rounded-lg bg-background/50 border border-border/50 overflow-x-auto text-sm font-mono",children:(()=>{try{let e=JSON.parse(u.env_defaults);return Object.entries(e).map(e=>{let[s,a]=e;return"".concat(s,"=").concat(a)}).join("\n")}catch(e){return u.env_defaults}})()})]})]})}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>F(!1),children:"Close"}),a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.$,{variant:"outline",onClick:()=>{F(!1),u&&eS(u)},className:"gap-2",children:[(0,t.jsx)(ex.A,{className:"w-4 h-4"})," Edit"]}),(0,t.jsxs)(o.$,{onClick:()=>{F(!1),u&&eE(u)},className:"gap-2",children:[(0,t.jsx)(ev.A,{className:"w-4 h-4"})," Deploy"]})]})]})]})})]})}var ey=a(85710),ek=a(39068),eC=a(99708);function eA(e){let{token:s,isAdmin:a}=e,[n,l]=(0,r.useState)([]),[c,m]=(0,r.useState)(!0),[x,h]=(0,r.useState)(""),[u,p]=(0,r.useState)(null),[j,g]=(0,r.useState)(!1),[f,N]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[w,A]=(0,r.useState)(""),[S,E]=(0,r.useState)("postgresql"),[z,P]=(0,r.useState)(""),[U,I]=(0,r.useState)(""),[L,$]=(0,r.useState)(!1),T=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/databases",{headers:{Authorization:"Bearer ".concat(s)}});if(e.ok){let s=await e.json();l(s||[])}}catch(e){console.error("Failed to fetch databases:",e)}finally{m(!1)}},[s]);(0,r.useEffect)(()=>{T();let e=setInterval(T,5e3);return()=>clearInterval(e)},[T]);let O=async()=>{try{let e=await fetch("/api/databases",{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify({name:w,type:S,version:z||void 0,external_port:U?parseInt(U,10):void 0,is_shared:L})});if(e.ok)eh.oR.success("Database created",{description:'Database "'.concat(w,'" created successfully')}),g(!1),V(),T();else{let s=await e.json();eh.oR.error("Failed to create database",{description:s.error||"Unknown error"})}}catch(e){eh.oR.error("Failed to create database",{description:e instanceof Error?e.message:"Unknown error"})}},B=async()=>{if(u)try{let e=await fetch("/api/databases/".concat(u.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}});if(e.ok)eh.oR.success("Database deleted",{description:'Database "'.concat(u.name,'" deleted successfully')}),N(!1),p(null),T();else{let s=await e.json();eh.oR.error("Failed to delete database",{description:s.error||"Unknown error"})}}catch(e){eh.oR.error("Failed to delete database",{description:e instanceof Error?e.message:"Unknown error"})}},M=async(e,a)=>{try{let t=await fetch("/api/databases/".concat(e.id,"/").concat(a),{method:"POST",headers:{Authorization:"Bearer ".concat(s)}});if(t.ok)eh.oR.success("Database ".concat(a,"ed"),{description:'Database "'.concat(e.name,'" ').concat(a,"ed successfully")}),T();else{let e=await t.json();eh.oR.error("Failed to ".concat(a," database"),{description:e.error||"Unknown error"})}}catch(e){eh.oR.error("Failed to ".concat(a," database"),{description:e instanceof Error?e.message:"Unknown error"})}},V=()=>{A(""),E("postgresql"),P(""),I(""),$(!1)},q=(e,s)=>{navigator.clipboard.writeText(e),eh.oR.success("Copied to clipboard",{description:"".concat(s," copied")})},H=e=>{switch(e){case"running":return"text-accent";case"stopped":default:return"text-muted-foreground";case"starting":case"stopping":return"text-primary";case"error":return"text-destructive"}},X=e=>{switch(e){case"running":return(0,t.jsx)(ei.A,{className:"w-4 h-4 text-accent"});case"stopped":return(0,t.jsx)(eo.A,{className:"w-4 h-4 text-muted-foreground"});case"starting":case"stopping":return(0,t.jsx)(y.A,{className:"w-4 h-4 text-primary animate-spin"});case"error":return(0,t.jsx)(eo.A,{className:"w-4 h-4 text-destructive"});default:return(0,t.jsx)(k.A,{className:"w-4 h-4"})}},K=e=>({postgresql:"17",mariadb:"11",mysql:"9",redis:"7",mongodb:"8"})[e]||"",Y=n.filter(e=>e.name.toLowerCase().includes(x.toLowerCase())||e.type.toLowerCase().includes(x.toLowerCase()));return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(G.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(d.p,{placeholder:"Search databases...",value:x,onChange:e=>h(e.target.value),className:"pl-10 bg-card/70 border-border/50"})]}),a&&(0,t.jsxs)(o.$,{onClick:()=>g(!0),className:"gap-2",children:[(0,t.jsx)(ed.A,{className:"w-4 h-4"})," New Database"]})]}),c?(0,t.jsx)(i.Zp,{className:"bg-card/70 border-border/50",children:(0,t.jsxs)(i.Wu,{className:"py-12 text-center",children:[(0,t.jsx)(y.A,{className:"w-8 h-8 mx-auto mb-4 animate-spin text-accent"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading databases..."})]})}):0===Y.length?(0,t.jsx)(i.Zp,{className:"bg-card/70 border-border/50",children:(0,t.jsxs)(i.Wu,{className:"py-12 text-center",children:[(0,t.jsx)(ey.A,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Databases Found"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:x?"No databases match your search":"Create your first managed database to get started"}),a&&!x&&(0,t.jsxs)(o.$,{onClick:()=>g(!0),className:"gap-2",children:[(0,t.jsx)(ed.A,{className:"w-4 h-4"})," New Database"]})]})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map(e=>(0,t.jsxs)(i.Zp,{className:"bg-card/70 border-border/50 hover:border-accent/50 transition-colors",children:[(0,t.jsxs)(i.aR,{className:"pb-2",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(e.type,(0,t.jsx)(ey.A,{className:"w-5 h-5 text-accent"})),(0,t.jsx)(i.ZB,{className:"text-base",children:e.name})]}),X(e.status)]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.type.charAt(0).toUpperCase()+e.type.slice(1)," ",e.version]})]}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Status"}),(0,t.jsx)(D.E,{variant:"outline",className:"".concat(H(e.status)," border-current"),children:e.status.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Connections"}),(0,t.jsx)("span",{className:H(e.status),children:e.connection_count})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Access"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[e.is_shared?(0,t.jsx)(ek.A,{className:"w-3 h-3 text-primary"}):(0,t.jsx)(eC.A,{className:"w-3 h-3 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-xs",children:e.is_shared?"Shared":"Private"})]})]}),(0,t.jsx)(ec.w,{}),(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsxs)(o.$,{size:"sm",variant:"ghost",onClick:()=>{p(e),b(!0)},className:"gap-1 flex-1",children:[(0,t.jsx)(em.A,{className:"w-3 h-3"})," View"]}),a&&(0,t.jsxs)(t.Fragment,{children:["stopped"===e.status||"error"===e.status?(0,t.jsxs)(o.$,{size:"sm",variant:"ghost",onClick:()=>M(e,"start"),className:"gap-1 flex-1 text-accent hover:text-accent",children:[(0,t.jsx)(F.A,{className:"w-3 h-3"})," Start"]}):"running"===e.status?(0,t.jsxs)(o.$,{size:"sm",variant:"ghost",onClick:()=>M(e,"stop"),className:"gap-1 flex-1 text-destructive hover:text-destructive",children:[(0,t.jsx)(C.A,{className:"w-3 h-3"})," Stop"]}):(0,t.jsx)(o.$,{size:"sm",variant:"ghost",disabled:!0,className:"gap-1 flex-1",children:(0,t.jsx)(y.A,{className:"w-3 h-3 animate-spin"})}),(0,t.jsx)(o.$,{size:"sm",variant:"ghost",onClick:()=>{p(e),N(!0)},className:"gap-1 text-destructive hover:text-destructive",children:(0,t.jsx)(_.A,{className:"w-3 h-3"})})]})]})]})]},e.id))}),(0,t.jsx)(J.lG,{open:j,onOpenChange:g,children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(ey.A,{className:"w-5 h-5"}),"Create New Database"]}),(0,t.jsx)(J.rr,{children:"Create a new managed database instance"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"name",children:"Database Name"}),(0,t.jsx)(d.p,{id:"name",value:w,onChange:e=>A(e.target.value),placeholder:"my-database"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"type",children:"Database Type"}),(0,t.jsxs)(Z.l6,{value:S,onValueChange:e=>{E(e),P(K(e))},children:[(0,t.jsx)(Z.bq,{id:"type",children:(0,t.jsx)(Z.yv,{})}),(0,t.jsxs)(Z.gC,{children:[(0,t.jsx)(Z.eb,{value:"postgresql",children:"PostgreSQL"}),(0,t.jsx)(Z.eb,{value:"mariadb",children:"MariaDB"}),(0,t.jsx)(Z.eb,{value:"mysql",children:"MySQL"}),(0,t.jsx)(Z.eb,{value:"redis",children:"Redis"}),(0,t.jsx)(Z.eb,{value:"mongodb",children:"MongoDB"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"version",children:"Version (optional)"}),(0,t.jsx)(d.p,{id:"version",value:z,onChange:e=>P(e.target.value),placeholder:"Default: ".concat(K(S))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"external-port",children:"External Port (optional)"}),(0,t.jsx)(d.p,{id:"external-port",type:"number",value:U,onChange:e=>I(e.target.value),placeholder:"Auto-assign"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"is-shared",checked:L,onChange:e=>$(e.target.checked),className:"w-4 h-4 rounded border-border"}),(0,t.jsx)(W.J,{htmlFor:"is-shared",className:"cursor-pointer",children:"Shared database (accessible by all containers)"})]})]}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>{g(!1),V()},children:"Cancel"}),(0,t.jsx)(o.$,{onClick:O,disabled:!w||!S,children:"Create Database"})]})]})}),(0,t.jsx)(J.lG,{open:f,onOpenChange:N,children:(0,t.jsxs)(J.Cf,{children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2 text-destructive",children:[(0,t.jsx)(_.A,{className:"w-5 h-5"}),"Delete Database"]}),(0,t.jsxs)(J.rr,{children:['Are you sure you want to delete "',null==u?void 0:u.name,'"? This will permanently remove the database and all its data.']})]}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,t.jsx)(o.$,{variant:"destructive",onClick:B,children:"Delete Database"})]})]})}),(0,t.jsx)(J.lG,{open:v,onOpenChange:b,children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-[600px]",children:[(0,t.jsx)(J.c7,{children:(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(ey.A,{className:"w-5 h-5"}),"Database Details: ",null==u?void 0:u.name]})}),u&&(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"text-muted-foreground",children:"Type"}),(0,t.jsx)("p",{className:"font-medium",children:u.type.charAt(0).toUpperCase()+u.type.slice(1)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"text-muted-foreground",children:"Version"}),(0,t.jsx)("p",{className:"font-medium",children:u.version})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"text-muted-foreground",children:"Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[X(u.status),(0,t.jsx)("span",{className:"font-medium",children:u.status.toUpperCase()})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"text-muted-foreground",children:"Access"}),(0,t.jsx)("p",{className:"font-medium",children:u.is_shared?"Shared":"Private"})]})]}),(0,t.jsx)(ec.w,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"text-muted-foreground",children:"Internal Host"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("code",{className:"flex-1 px-3 py-2 bg-muted/50 rounded text-sm font-mono",children:u.internal_host}),(0,t.jsx)(o.$,{size:"sm",variant:"ghost",onClick:()=>q(u.internal_host,"Internal host"),children:(0,t.jsx)(R.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"text-muted-foreground",children:"Internal Port"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("code",{className:"flex-1 px-3 py-2 bg-muted/50 rounded text-sm font-mono",children:u.internal_port}),(0,t.jsx)(o.$,{size:"sm",variant:"ghost",onClick:()=>q(u.internal_port.toString(),"Internal port"),children:(0,t.jsx)(R.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"text-muted-foreground",children:"External Port"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("code",{className:"flex-1 px-3 py-2 bg-muted/50 rounded text-sm font-mono",children:u.external_port}),(0,t.jsx)(o.$,{size:"sm",variant:"ghost",onClick:()=>q(u.external_port.toString(),"External port"),children:(0,t.jsx)(R.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"text-muted-foreground",children:"Connection String"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("code",{className:"flex-1 px-3 py-2 bg-muted/50 rounded text-sm font-mono break-all",children:"redis"===u.type?"redis://".concat(u.internal_host,":").concat(u.internal_port):"mongodb"===u.type?"mongodb://".concat(u.internal_host,":").concat(u.internal_port):"".concat(u.type,"://user:password@").concat(u.internal_host,":").concat(u.internal_port,"/database")}),(0,t.jsx)(o.$,{size:"sm",variant:"ghost",onClick:()=>q("redis"===u.type?"redis://".concat(u.internal_host,":").concat(u.internal_port):"mongodb"===u.type?"mongodb://".concat(u.internal_host,":").concat(u.internal_port):"".concat(u.type,"://user:password@").concat(u.internal_host,":").concat(u.internal_port,"/database"),"Connection string"),children:(0,t.jsx)(R.A,{className:"w-4 h-4"})})]})]})]}),(0,t.jsx)(ec.w,{}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"text-muted-foreground",children:"Active Connections"}),(0,t.jsx)("p",{className:"font-medium",children:u.connection_count})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"text-muted-foreground",children:"Created"}),(0,t.jsx)("p",{className:"font-medium",children:new Date(u.created_at).toLocaleDateString()})]})]})]}),(0,t.jsx)(J.Es,{children:(0,t.jsx)(o.$,{variant:"outline",onClick:()=>b(!1),children:"Close"})})]})})]})}var eS=a(26983),eE=a(42196),eF=a(58734);let e_=(0,ea.A)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),ez=(0,ea.A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);function eR(){var e;let{isAuthenticated:s,isLoading:a,token:h,user:u}=(0,l.A)(),{settings:p,updateContainerSettings:j}=(0,c.t)(),g=(0,n.useRouter)(),[f,N]=(0,r.useState)(""),[v,b]=(0,r.useState)(!1),[A,S]=(0,r.useState)(null),z=(null==u?void 0:u.role)==="admin"||(null==u?void 0:u.role)==="operator"||(null==u?void 0:u.is_pam_admin),[R,I]=(0,r.useState)(""),[T,O]=(0,r.useState)(!1),[D,V]=(0,r.useState)(!1),[q,H]=(0,r.useState)(!1),[Y,Q]=(0,r.useState)(""),[es,ea]=(0,r.useState)(0),[et,ec]=(0,r.useState)([]),[em,ex]=(0,r.useState)(null),[eh,ep]=(0,r.useState)(!1),ej=(0,r.useRef)(null),[eg,eN]=(0,r.useState)([]),[ev,eb]=(0,r.useState)([]),[ek,eC]=(0,r.useState)([]),[eR,eP]=(0,r.useState)([]),[eU,eI]=(0,r.useState)([]),[eL,e$]=(0,r.useState)(""),[eJ,eT]=(0,r.useState)("all"),[eO,eD]=(0,r.useState)(null),[eB,eM]=(0,r.useState)(null),[eW,eZ]=(0,r.useState)("containers"),[eV,eG]=(0,r.useState)(!1),[eq,eH]=(0,r.useState)(null),[eX,eK]=(0,r.useState)(null),[eY,eQ]=(0,r.useState)(null),[e0,e1]=(0,r.useState)(null),[e2,e4]=(0,r.useState)(!1),[e5,e3]=(0,r.useState)(""),[e8,e7]=(0,r.useState)(!1),[e6,e9]=(0,r.useState)(null),[se,ss]=(0,r.useState)(""),[sa,st]=(0,r.useState)(!1),[sr,sn]=(0,r.useState)(null),[sl,sc]=(0,r.useState)(!1),[si,so]=(0,r.useState)(null),[sd,sm]=(0,r.useState)({hasWebUI:!1,webUIPort:"",webUIPath:"/",icon:"",autoStart:!1}),[sx,sh]=(0,r.useState)(!1),[su,sp]=(0,r.useState)(!1),[sj,sg]=(0,r.useState)(null),[sf,sN]=(0,r.useState)({hasWebUI:!1,webUIPort:"",webUIPath:"/",icon:"",iconLight:"",iconDark:"",autoStart:!1}),[sv,sb]=(0,r.useState)(!1),[sw,sy]=(0,r.useState)({name:"",image:"",ports:"",volumes:"",environment:"",restart_policy:"no"}),sk=(null==u?void 0:u.role)==="admin",sC=(0,r.useCallback)(async()=>{if(h)try{let e=await fetch("/api/containers/check",{headers:{Authorization:"Bearer ".concat(h)}}),s=await e.json();S(s.available),I(s.version||""),O(s.compose_available||!1)}catch(e){S(!1)}},[h]),sA=(0,r.useCallback)(async()=>{if(h&&sk)try{let e=await fetch("/api/storage-config",{headers:{Authorization:"Bearer ".concat(h)}});if(e.ok){let s=await e.json();e9(s),ss(s.graph_root)}}catch(e){}},[h,sk]),sS=async()=>{if(h&&se){st(!0),sn(null);try{let e=await fetch("/api/storage-config",{method:"PUT",headers:{Authorization:"Bearer ".concat(h),"Content-Type":"application/json"},body:JSON.stringify({graph_root:se})}),s=await e.json();if(!e.ok)return void sn(s.error||"Failed to update storage location");await sA(),await Promise.all([sE(),s_()])}catch(e){sn("Failed to update storage location")}finally{st(!1)}}},sE=(0,r.useCallback)(async()=>{if(h)try{let e=await fetch("/api/containers",{headers:{Authorization:"Bearer ".concat(h)}});if(!e.ok)throw Error("Failed to fetch containers");let s=await e.json();eN(s||[]),eD(null)}catch(e){eD(e instanceof Error?e.message:"Failed to load containers")}},[h]),sF=(0,r.useCallback)(async()=>{if(h)try{let e=await fetch("/api/images",{headers:{Authorization:"Bearer ".concat(h)}});if(!e.ok)throw Error("Failed to fetch images");let s=await e.json();eb(s||[])}catch(e){console.error("Failed to load images:",e)}},[h]),s_=(0,r.useCallback)(async()=>{if(h)try{let e=await fetch("/api/volumes",{headers:{Authorization:"Bearer ".concat(h)}});if(!e.ok)throw Error("Failed to fetch volumes");let s=await e.json();eC(s||[])}catch(e){console.error("Failed to load volumes:",e)}},[h]),sz=(0,r.useCallback)(async()=>{if(h)try{let e=await fetch("/api/bind-mounts",{headers:{Authorization:"Bearer ".concat(h)}});if(!e.ok)throw Error("Failed to fetch bind mounts");let s=await e.json();eP(s||[])}catch(e){console.error("Failed to load bind mounts:",e)}},[h]),sR=(0,r.useCallback)(async()=>{if(h)try{let e=await fetch("/api/podman-networks",{headers:{Authorization:"Bearer ".concat(h)}});if(!e.ok)throw Error("Failed to fetch networks");let s=await e.json();eI(s||[])}catch(e){console.error("Failed to load networks:",e)}},[h]);if((0,r.useEffect)(()=>{a||s?a||!s||z||g.push("/dashboard"):g.push("/login")},[s,a,z,g]),(0,r.useEffect)(()=>{let e=()=>{N(new Date().toLocaleTimeString("en-US",{hour12:!1}))};e();let s=setInterval(e,1e3);return()=>clearInterval(s)},[]),(0,r.useEffect)(()=>{if(s&&h){sC(),sE(),sF(),s_(),sz(),sR(),sA();let e=setInterval(()=>{sE()},5e3);return()=>clearInterval(e)}},[s,h,sC,sE,sF,s_,sz,sR,sA]),a||!s||!z)return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)(w.A,{className:"w-12 h-12 text-accent animate-pulse"})});let sP=eg.filter(e=>{let s=e.name.toLowerCase().includes(eL.toLowerCase())||e.image.toLowerCase().includes(eL.toLowerCase()),a="all"===eJ||e.status===eJ;return s&&a}),sU=eg.filter(e=>"running"===e.status).length,sI=eg.filter(e=>"exited"===e.status||"stopped"===e.status).length,sL=async(e,s)=>{if(h&&("remove"!==s||confirm("Are you sure you want to remove this container?"))){eM(e);try{let a="remove"===s?"/api/containers/".concat(e,"?force=true"):"/api/containers/".concat(e,"/").concat(s),t=await fetch(a,{method:"remove"===s?"DELETE":"POST",headers:{Authorization:"Bearer ".concat(h)}});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e.error||"Failed to ".concat(s," container"))}await sE()}catch(e){alert(e instanceof Error?e.message:"Failed to ".concat(s," container"))}finally{eM(null)}}},s$=async()=>{if(h&&si){sh(!0);try{let e=await fetch("/api/containers/adopt",{method:"POST",headers:{Authorization:"Bearer ".concat(h),"Content-Type":"application/json"},body:JSON.stringify({container_id:si.container_id,has_web_ui:sd.hasWebUI,web_ui_port:sd.hasWebUI&&parseInt(sd.webUIPort)||0,web_ui_path:sd.webUIPath||"/",icon:sd.icon,auto_start:sd.autoStart})});if(!e.ok){let s=await e.json().catch(()=>({}));throw Error(s.error||"Failed to adopt container")}sc(!1),so(null),await sE(),alert('Container "'.concat(si.name,'" adopted successfully!'))}catch(e){alert(e instanceof Error?e.message:"Failed to adopt container")}finally{sh(!1)}}},sJ=async()=>{if(h&&sj){sb(!0);try{let e=await fetch("/api/containers/".concat(sj.container_id),{method:"PUT",headers:{Authorization:"Bearer ".concat(h),"Content-Type":"application/json"},body:JSON.stringify({has_web_ui:sf.hasWebUI,web_ui_port:sf.hasWebUI&&parseInt(sf.webUIPort)||0,web_ui_path:sf.webUIPath||"/",icon:sf.icon,icon_light:sf.iconLight,icon_dark:sf.iconDark,auto_start:sf.autoStart})});if(!e.ok){let s=await e.json().catch(()=>({}));throw Error(s.error||"Failed to update container")}sp(!1),sg(null),await sE(),alert('Container "'.concat(sj.name,'" updated successfully!'))}catch(e){alert(e instanceof Error?e.message:"Failed to update container")}finally{sb(!1)}}},sT=async()=>{if(h&&sw.name&&sw.image){eM("create");try{let e=sw.ports?sw.ports.split(",").map(e=>{let[s,a]=e.trim().split(":");return{host_port:parseInt(s),container_port:parseInt(a),protocol:"tcp"}}):[],s=sw.volumes?sw.volumes.split(",").map(e=>{let[s,a]=e.trim().split(":");return{source:s,target:a,type:"bind"}}):[],a={};sw.environment&&sw.environment.split(",").forEach(e=>{let[s,...t]=e.trim().split("=");a[s]=t.join("=")});let t=await fetch("/api/containers",{method:"POST",headers:{Authorization:"Bearer ".concat(h),"Content-Type":"application/json"},body:JSON.stringify({name:sw.name,image:sw.image,ports:e,volumes:s,environment:a,restart_policy:sw.restart_policy,auto_start:!0})});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e.error||"Failed to create container")}eG(!1),sy({name:"",image:"",ports:"",volumes:"",environment:"",restart_policy:"no"}),await sE()}catch(e){alert(e instanceof Error?e.message:"Failed to create container")}finally{eM(null)}}},sO=async e=>{if(h&&confirm("Are you sure you want to remove this volume?"))try{let s=await fetch("/api/volumes/".concat(e,"?force=true"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(h)}});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error||"Failed to remove volume")}await s_()}catch(e){alert(e instanceof Error?e.message:"Failed to remove volume")}},sD=async()=>{if(h&&e5.trim()){e7(!0);try{let e=await fetch("/api/volumes",{method:"POST",headers:{Authorization:"Bearer ".concat(h),"Content-Type":"application/json"},body:JSON.stringify({name:e5.trim()})});if(!e.ok){let s=await e.json().catch(()=>({}));throw Error(s.error||"Failed to create volume")}e4(!1),e3(""),await s_()}catch(e){alert(e instanceof Error?e.message:"Failed to create volume")}finally{e7(!1)}}};return!1===A?(0,t.jsxs)(m.N,{title:"CONTAINER MANAGER",time:f,children:[(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)(i.Zp,{className:"border-amber-500/50 bg-card/70 max-w-2xl mx-auto",children:[(0,t.jsxs)(i.aR,{className:"text-center pb-2",children:[(0,t.jsx)("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-amber-500/20 border border-amber-500/40 flex items-center justify-center mb-4",children:(0,t.jsx)(ee.A,{className:"w-8 h-8 text-amber-500"})}),(0,t.jsx)(i.ZB,{className:"text-xl",children:"Podman Not Installed"})]}),(0,t.jsxs)(i.Wu,{className:"text-center space-y-6",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Podman is required for container management but is not currently installed on this system. Install Podman to create and manage containers, images, volumes, and networks."}),(0,t.jsxs)("div",{className:"bg-background/50 rounded-lg p-4 text-left",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-foreground mb-3",children:"What will be installed:"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(ei.A,{className:"w-4 h-4 text-accent"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"EPEL Release"})," - Required repository for Podman packages"]})]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(ei.A,{className:"w-4 h-4 text-accent"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Podman"})," - Container engine (Docker-compatible)"]})]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(ei.A,{className:"w-4 h-4 text-accent"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Podman Compose"})," - Docker Compose compatibility layer"]})]})]})]}),sk?(0,t.jsxs)(o.$,{size:"lg",onClick:()=>{V(!0),H(!0),Q(""),ea(0),ec([]),ex(null),ep(!1);let e="https:"===window.location.protocol?"wss:":"ws:",s=new WebSocket("".concat(e,"//").concat(window.location.host,"/api/containers/install?token=").concat(encodeURIComponent(h||"")));s.onmessage=e=>{try{let s=JSON.parse(e.data);if(s.complete){if(H(!1),s.success)ep(!0),I(s.version||""),ea(100),ec(e=>[...e,"Podman v".concat(s.version," installed successfully!")]);else{let e="string"==typeof s.error?s.error:"Installation failed";ex(e)}return}s.step&&(Q(s.step),ea({epel:25,podman:50,compose:75,verify:90}[s.step]||0)),s.message&&ec(e=>[...e,s.message]),s.output&&ec(e=>[...e,s.output]),ej.current&&(ej.current.scrollTop=ej.current.scrollHeight)}catch(e){}},s.onerror=()=>{H(!1),ex("WebSocket connection failed")},s.onclose=()=>{q&&H(!1)}},className:"gap-2 px-8",children:[(0,t.jsx)(X.A,{className:"w-5 h-5"}),"Install Podman"]}):(0,t.jsxs)("div",{className:"text-sm text-muted-foreground bg-muted/50 rounded-lg p-4",children:[(0,t.jsx)(k.A,{className:"w-4 h-4 inline mr-2"}),"Administrator privileges required to install Podman. Please contact your system administrator."]})]})]})}),(0,t.jsx)(J.lG,{open:D,onOpenChange:e=>!q&&V(e),children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsx)(J.L3,{className:"flex items-center gap-2",children:q?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.A,{className:"w-5 h-5 animate-spin text-accent"}),"Installing Podman..."]}):eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ei.A,{className:"w-5 h-5 text-green-500"}),"Installation Complete"]}):em?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eo.A,{className:"w-5 h-5 text-destructive"}),"Installation Failed"]}):"Podman Installation"}),(0,t.jsx)(J.rr,{children:q?"Please wait while Podman and related packages are being installed...":eh?"Podman v".concat(R," has been successfully installed."):em||"Ready to install Podman"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground capitalize",children:Y||"Preparing..."}),(0,t.jsxs)("span",{className:"text-accent",children:[es,"%"]})]}),(0,t.jsx)(el.k,{value:es,className:"h-2"})]}),(0,t.jsx)("div",{ref:ej,className:"bg-muted/50 border border-border rounded-lg p-4 h-64 overflow-y-auto font-mono text-xs",children:0===et.length?(0,t.jsx)("span",{className:"text-muted-foreground",children:"Waiting for installation output..."}):et.map((e,s)=>(0,t.jsx)("div",{className:"text-foreground/80 whitespace-pre-wrap",children:e},s))})]}),(0,t.jsx)(J.Es,{children:!q&&(0,t.jsx)(o.$,{onClick:()=>{V(!1),eh&&(S(!0),sC())},children:eh?"Continue to Container Manager":"Close"})})]})})]}):(0,t.jsxs)(m.N,{title:"CONTAINER MANAGER",time:f,children:[(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,t.jsxs)(i.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Containers"}),(0,t.jsx)(w.A,{className:"w-4 h-4 text-accent"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:eg.length}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[sU," running, ",sI," stopped"]})]})]}),(0,t.jsxs)(i.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Running"}),(0,t.jsx)(F.A,{className:"w-4 h-4 text-primary"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"text-2xl font-bold text-primary",children:sU})})]}),(0,t.jsxs)(i.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Images"}),(0,t.jsx)(eE.A,{className:"w-4 h-4 text-accent"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:ev.length})})]}),(0,t.jsxs)(i.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Volumes"}),(0,t.jsx)(U.A,{className:"w-4 h-4 text-accent"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:ek.length})})]}),(0,t.jsxs)(i.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Networks"}),(0,t.jsx)(P.A,{className:"w-4 h-4 text-accent"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:eU.length})})]})]}),R&&(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(ei.A,{className:"w-3 h-3 text-green-500"}),"Podman v",R]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[T?(0,t.jsx)(ei.A,{className:"w-3 h-3 text-green-500"}):(0,t.jsx)(eo.A,{className:"w-3 h-3 text-muted-foreground"}),"podman-compose ",T?"available":"not installed"]})]}),(0,t.jsxs)(x.tU,{value:eW,onValueChange:eZ,className:"space-y-4",children:[(0,t.jsxs)(x.j7,{className:"bg-card/70 border border-border/50",children:[(0,t.jsxs)(x.Xi,{value:"containers",className:"gap-2",children:[(0,t.jsx)(w.A,{className:"w-4 h-4"})," Containers"]}),(0,t.jsxs)(x.Xi,{value:"images",className:"gap-2",children:[(0,t.jsx)(eE.A,{className:"w-4 h-4"})," Images"]}),(0,t.jsxs)(x.Xi,{value:"volumes",className:"gap-2",children:[(0,t.jsx)(U.A,{className:"w-4 h-4"})," Volumes"]}),(0,t.jsxs)(x.Xi,{value:"networks",className:"gap-2",children:[(0,t.jsx)(P.A,{className:"w-4 h-4"})," Networks"]}),(0,t.jsxs)(x.Xi,{value:"stacks",className:"gap-2",children:[(0,t.jsx)(er.A,{className:"w-4 h-4"})," Stacks"]}),(0,t.jsxs)(x.Xi,{value:"templates",className:"gap-2",children:[(0,t.jsx)(ef,{className:"w-4 h-4"})," Templates"]}),(0,t.jsxs)(x.Xi,{value:"databases",className:"gap-2",children:[(0,t.jsx)(ey.A,{className:"w-4 h-4"})," Databases"]})]}),(0,t.jsxs)(x.av,{value:"containers",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[(0,t.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(G.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(d.p,{placeholder:"Search containers...",value:eL,onChange:e=>e$(e.target.value),className:"pl-10 bg-card/70 border-border/50"})]}),(0,t.jsxs)("select",{value:eJ,onChange:e=>eT(e.target.value),className:"px-3 py-2 rounded-md bg-card/70 border border-border/50 text-sm",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"running",children:"Running"}),(0,t.jsx)("option",{value:"exited",children:"Stopped"})]})]}),sk&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.$,{variant:"outline",onClick:()=>b(!0),className:"gap-2",children:[(0,t.jsx)(L.A,{className:"w-4 h-4"})," Settings"]}),(0,t.jsxs)(o.$,{onClick:()=>g.push("/container-create"),className:"gap-2",children:[(0,t.jsx)(ed.A,{className:"w-4 h-4"})," Create Container"]})]})]}),eO&&(0,t.jsx)(i.Zp,{className:"border-destructive/50 bg-destructive/10",children:(0,t.jsx)(i.Wu,{className:"py-3",children:(0,t.jsx)("p",{className:"text-sm text-destructive",children:eO})})}),(0,t.jsx)(i.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:(0,t.jsx)(i.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border/50",children:[(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Image"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Ports"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===sP.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:"No containers found"})}):sP.map(e=>(0,t.jsxs)("tr",{className:"border-b border-border/30 hover:bg-accent/5 transition-colors",children:[(0,t.jsxs)("td",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(e=>{switch(e){case"running":return(0,t.jsx)(ei.A,{className:"w-4 h-4 text-primary"});case"exited":case"stopped":return(0,t.jsx)(eo.A,{className:"w-4 h-4 text-muted-foreground"});case"dead":case"error":return(0,t.jsx)(k.A,{className:"w-4 h-4 text-destructive"});default:return(0,t.jsx)(eS.A,{className:"w-4 h-4 text-yellow-500"})}})(e.status),(0,t.jsx)("span",{className:"font-medium",children:e.name})]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground mt-1 font-mono",children:e.container_id.substring(0,12)})]}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:"text-sm",children:e.image})}),(0,t.jsxs)("td",{className:"p-4",children:[(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("running"===e.status?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:e.status}),e.uptime&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.uptime})]}),(0,t.jsx)("td",{className:"p-4",children:e.ports&&e.ports.length>0?(0,t.jsx)("div",{className:"space-y-1",children:e.ports.map((e,s)=>(0,t.jsxs)("div",{className:"text-xs font-mono",children:[e.host_port,":",e.container_port,"/",e.protocol]},s))}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"-"})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex gap-1",children:[sk&&("running"===e.status?(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>sL(e.container_id,"stop"),disabled:eB===e.container_id,title:"Stop",children:eB===e.container_id?(0,t.jsx)(y.A,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(C.A,{className:"w-4 h-4"})}):(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>sL(e.container_id,"start"),disabled:eB===e.container_id,title:"Start",children:eB===e.container_id?(0,t.jsx)(y.A,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(F.A,{className:"w-4 h-4"})})),(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>g.push("/container-details?id=".concat(e.id||e.container_id)),title:"View Details",className:"text-cyan-400 hover:text-cyan-400",children:(0,t.jsx)(E.A,{className:"w-4 h-4"})}),sk&&!(e.id&&""!==e.id&&e.id!==e.container_id)&&(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>(e=>{var s;so(e);let a=null==(s=e.ports)?void 0:s.find(e=>80===e.container_port||443===e.container_port||8080===e.container_port||3e3===e.container_port);sm({hasWebUI:!!a,webUIPort:a?String(a.host_port):"",webUIPath:"/",icon:e.name.split("-")[0].toLowerCase(),autoStart:!1}),sc(!0)})(e),title:"Adopt Container",className:"text-amber-400 hover:text-amber-400",children:(0,t.jsx)(ee.A,{className:"w-4 h-4"})}),sk&&(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>sL(e.container_id,"remove"),disabled:eB===e.container_id||"running"===e.status,className:"text-destructive hover:text-destructive",title:"running"===e.status?"Stop container first":"Remove",children:(0,t.jsx)(_.A,{className:"w-4 h-4"})})]})})]},e.container_id))})]})})})})]}),(0,t.jsx)(x.av,{value:"images",className:"space-y-4",children:(0,t.jsx)(en,{onRefresh:sF})}),(0,t.jsxs)(x.av,{value:"volumes",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(eF.A,{className:"w-5 h-5 text-accent"}),"Bind Mounts"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Host directories mounted into containers"}),(0,t.jsx)(i.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:(0,t.jsx)(i.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border/50",children:[(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Host Path"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Container Path"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Container"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Mode"})]})}),(0,t.jsx)("tbody",{children:0===eR.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"p-8 text-center text-muted-foreground",children:"No bind mounts found"})}):eR.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-border/30 hover:bg-accent/5 transition-colors",children:[(0,t.jsx)("td",{className:"p-4 text-sm font-mono text-muted-foreground",children:e.host_path}),(0,t.jsx)("td",{className:"p-4 text-sm font-mono text-muted-foreground",children:e.container_path}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-accent/10 text-accent",children:e.container_name})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.rw?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:e.rw?"RW":"RO"})})]},"".concat(e.container_id,"-").concat(e.host_path,"-").concat(s)))})]})})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"w-5 h-5 text-accent"}),"Podman Volumes"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Managed storage volumes created with Podman"})]}),sk&&(0,t.jsxs)(o.$,{size:"sm",onClick:()=>e4(!0),children:[(0,t.jsx)(ed.A,{className:"w-4 h-4 mr-2"}),"Create Volume"]})]}),(0,t.jsx)(i.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:(0,t.jsx)(i.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border/50",children:[(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Driver"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Mount Point"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===ek.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"p-8 text-center text-muted-foreground",children:"No Podman volumes found"})}):ek.map(e=>(0,t.jsxs)("tr",{className:"border-b border-border/30 hover:bg-accent/5 transition-colors",children:[(0,t.jsx)("td",{className:"p-4 font-medium",children:e.name}),(0,t.jsx)("td",{className:"p-4",children:e.driver}),(0,t.jsx)("td",{className:"p-4 text-sm font-mono text-muted-foreground",children:e.mount_point}),(0,t.jsx)("td",{className:"p-4",children:sk&&(0,t.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>sO(e.name),className:"text-destructive hover:text-destructive",title:"Remove",children:(0,t.jsx)(_.A,{className:"w-4 h-4"})})})]},e.name))})]})})})})]})]}),(0,t.jsxs)(x.av,{value:"networks",className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Podman Networks"}),(0,t.jsx)(i.Zp,{className:"border-border/60 bg-card/70 backdrop-blur-sm",children:(0,t.jsx)(i.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border/50",children:[(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Driver"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Subnet"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Gateway"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Internal"})]})}),(0,t.jsx)("tbody",{children:0===eU.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:"No networks found"})}):eU.map(e=>(0,t.jsxs)("tr",{className:"border-b border-border/30 hover:bg-accent/5 transition-colors",children:[(0,t.jsx)("td",{className:"p-4 font-medium",children:e.name}),(0,t.jsx)("td",{className:"p-4",children:e.driver}),(0,t.jsx)("td",{className:"p-4 text-sm font-mono",children:e.subnet||"-"}),(0,t.jsx)("td",{className:"p-4 text-sm font-mono",children:e.gateway||"-"}),(0,t.jsx)("td",{className:"p-4",children:e.internal?(0,t.jsx)(ei.A,{className:"w-4 h-4 text-primary"}):(0,t.jsx)(eo.A,{className:"w-4 h-4 text-muted-foreground"})})]},e.id))})]})})})})]}),(0,t.jsx)(x.av,{value:"stacks",className:"space-y-4",children:(0,t.jsx)(eu,{token:h||"",isAdmin:sk,composeAvailable:T})}),(0,t.jsx)(x.av,{value:"templates",className:"space-y-4",children:(0,t.jsx)(ew,{token:h||"",isAdmin:sk})}),(0,t.jsx)(x.av,{value:"databases",className:"space-y-4",children:(0,t.jsx)(eA,{token:h||"",isAdmin:sk})})]})]}),(0,t.jsx)(J.lG,{open:eV,onOpenChange:eG,children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsx)(J.L3,{children:"Create Container"}),(0,t.jsx)(J.rr,{children:"Create a new container from an image."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"name",children:"Container Name"}),(0,t.jsx)(d.p,{id:"name",placeholder:"my-container",value:sw.name,onChange:e=>sy({...sw,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"image",children:"Image"}),(0,t.jsx)(d.p,{id:"image",placeholder:"nginx:latest",value:sw.image,onChange:e=>sy({...sw,image:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"ports",children:"Ports (host:container, comma-separated)"}),(0,t.jsx)(d.p,{id:"ports",placeholder:"8080:80, 443:443",value:sw.ports,onChange:e=>sy({...sw,ports:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"volumes",children:"Volumes (host:container, comma-separated)"}),(0,t.jsx)(d.p,{id:"volumes",placeholder:"/data:/app/data",value:sw.volumes,onChange:e=>sy({...sw,volumes:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"env",children:"Environment Variables (KEY=value, comma-separated)"}),(0,t.jsx)(d.p,{id:"env",placeholder:"DEBUG=true, API_KEY=xxx",value:sw.environment,onChange:e=>sy({...sw,environment:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"restart",children:"Restart Policy"}),(0,t.jsxs)("select",{id:"restart",value:sw.restart_policy,onChange:e=>sy({...sw,restart_policy:e.target.value}),className:"w-full px-3 py-2 rounded-md bg-background border border-border text-sm",children:[(0,t.jsx)("option",{value:"no",children:"No"}),(0,t.jsx)("option",{value:"always",children:"Always"}),(0,t.jsx)("option",{value:"on-failure",children:"On Failure"}),(0,t.jsx)("option",{value:"unless-stopped",children:"Unless Stopped"})]})]})]}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>eG(!1),children:"Cancel"}),(0,t.jsx)(o.$,{onClick:sT,disabled:!sw.name||!sw.image||"create"===eB,children:"create"===eB?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2 animate-spin"})," Creating..."]}):"Create"})]})]})}),(0,t.jsx)($,{containerId:eq,onClose:()=>eH(null),onAction:sL,onOpenTerminal:e=>{let s=eg.find(s=>s.container_id===e);s&&(e1(s),eQ(s.container_id))},onOpenWebUI:e=>{window.open("/api/containers/".concat(e,"/proxy/"),"_blank")},isAdmin:sk}),(0,t.jsx)(K,{containerId:eX,containerName:null==e0?void 0:e0.name,onClose:()=>{eK(null),e1(null)}}),(0,t.jsx)(B,{containerId:eY,containerName:null==e0?void 0:e0.name,onClose:()=>{eQ(null),e1(null)}}),(0,t.jsx)(J.lG,{open:v,onOpenChange:b,children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-[550px]",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(L.A,{className:"w-5 h-5 text-accent"}),"Container Settings"]}),(0,t.jsx)(J.rr,{children:"Configure default settings for container creation"})]}),(0,t.jsxs)("div",{className:"space-y-6 py-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"w-4 h-4 text-accent"}),(0,t.jsx)(W.J,{className:"font-medium",children:"Podman Storage Location"})]}),e6?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Current location:"}),(0,t.jsx)("code",{className:"font-mono text-xs bg-background px-2 py-1 rounded",children:e6.graph_root})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Storage driver:"}),(0,t.jsx)("span",{className:"text-xs",children:e6.driver})]}),e6.is_default&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Using default Podman storage location"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{className:"text-sm",children:"Change storage location"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(d.p,{placeholder:"/mnt/containers/storage",value:se,onChange:e=>ss(e.target.value),className:"font-mono flex-1",disabled:sa}),(0,t.jsx)(o.$,{variant:"outline",onClick:sS,disabled:sa||se===e6.graph_root||!se,children:sa?(0,t.jsx)(y.A,{className:"w-4 h-4 animate-spin"}):"Apply"})]})]}),sr&&(0,t.jsx)("div",{className:"p-2 bg-destructive/10 border border-destructive/30 rounded text-xs text-destructive",children:sr}),(0,t.jsx)("div",{className:"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:(0,t.jsxs)("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:[(0,t.jsx)("strong",{children:"Warning:"})," Changing storage location will reset Podman storage. All existing containers, images, and volumes will be removed. Stop all containers before changing this setting."]})})]}):(0,t.jsx)("div",{className:"p-3 bg-muted/50 rounded-lg text-sm text-muted-foreground",children:"Storage configuration not available. Podman may not be installed."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{children:"Default Restart Policy"}),(0,t.jsxs)(Z.l6,{value:p.container.defaultRestartPolicy,onValueChange:e=>j({defaultRestartPolicy:e}),children:[(0,t.jsx)(Z.bq,{children:(0,t.jsx)(Z.yv,{})}),(0,t.jsxs)(Z.gC,{children:[(0,t.jsx)(Z.eb,{value:"no",children:"No (manual)"}),(0,t.jsx)(Z.eb,{value:"always",children:"Always"}),(0,t.jsx)(Z.eb,{value:"unless-stopped",children:"Unless Stopped"}),(0,t.jsx)(Z.eb,{value:"on-failure",children:"On Failure"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{children:"Default Network Mode"}),(0,t.jsxs)(Z.l6,{value:p.container.defaultNetworkMode,onValueChange:e=>j({defaultNetworkMode:e}),children:[(0,t.jsx)(Z.bq,{children:(0,t.jsx)(Z.yv,{})}),(0,t.jsxs)(Z.gC,{children:[(0,t.jsx)(Z.eb,{value:"bridge",children:"Bridge (isolated)"}),(0,t.jsx)(Z.eb,{value:"host",children:"Host (shared)"}),(0,t.jsx)(Z.eb,{value:"none",children:"None"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(F.A,{className:"w-4 h-4 text-green-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"font-medium",children:"Auto-start Containers"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Start containers after creation"})]})]}),(0,t.jsx)(M.d,{checked:p.container.autoStartContainers,onCheckedChange:e=>j({autoStartContainers:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(e_,{className:"w-4 h-4 text-destructive"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(W.J,{className:"font-medium",children:"Privileged Mode Default"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Not recommended"})]})]}),(0,t.jsx)(M.d,{checked:p.container.enablePrivilegedByDefault,onCheckedChange:e=>j({enablePrivilegedByDefault:e})})]}),p.container.enablePrivilegedByDefault&&(0,t.jsx)("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded-lg",children:(0,t.jsx)("p",{className:"text-xs text-destructive",children:"Privileged containers have full host access. Use with caution."})})]})]}),(0,t.jsx)(J.Es,{children:(0,t.jsx)(o.$,{variant:"outline",onClick:()=>b(!1),children:"Done"})})]})}),(0,t.jsx)(J.lG,{open:e2,onOpenChange:e4,children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-[450px]",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(U.A,{className:"w-5 h-5 text-accent"}),"Create Podman Volume"]}),(0,t.jsx)(J.rr,{children:"Create a managed volume for persistent container storage"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"volume-name",children:"Volume Name"}),(0,t.jsx)(d.p,{id:"volume-name",placeholder:"my-app-data",value:e5,onChange:e=>e3(e.target.value.replace(/[^a-zA-Z0-9_-]/g,"")),disabled:e8}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Only letters, numbers, underscores, and hyphens allowed"})]}),(0,t.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(ei.A,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("span",{children:"Managed by Podman"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(ei.A,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("span",{children:"Data persists across container restarts"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(ei.A,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("span",{children:"Easy backup and migration"})]})]})]}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>{e4(!1),e3("")},disabled:e8,children:"Cancel"}),(0,t.jsx)(o.$,{onClick:sD,disabled:!e5.trim()||e8,children:e8?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Volume"})]})]})}),(0,t.jsx)(J.lG,{open:sl,onOpenChange:sc,children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(ee.A,{className:"w-5 h-5 text-cyan-400"}),"Adopt Container"]}),(0,t.jsxs)(J.rr,{children:["Configure ",(0,t.jsx)("span",{className:"font-mono text-foreground",children:null==si?void 0:si.name})," for Stardeck management. This enables desktop icons and web UI proxy."]})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(W.J,{children:"Has Web UI"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enable to add desktop icon and proxy"})]}),(0,t.jsx)(M.d,{checked:sd.hasWebUI,onCheckedChange:e=>sm(s=>({...s,hasWebUI:e}))})]}),sd.hasWebUI&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"web-ui-port",children:"Web UI Host Port"}),(0,t.jsxs)(Z.l6,{value:sd.webUIPort,onValueChange:e=>sm(s=>({...s,webUIPort:e})),children:[(0,t.jsx)(Z.bq,{children:(0,t.jsx)(Z.yv,{placeholder:"Select port"})}),(0,t.jsx)(Z.gC,{children:null==si||null==(e=si.ports)?void 0:e.map(e=>(0,t.jsxs)(Z.eb,{value:String(e.host_port),children:[e.host_port," → ",e.container_port,"/",e.protocol]},e.host_port))})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Select the host port that serves the web interface"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"web-ui-path",children:"Web UI Path"}),(0,t.jsx)(d.p,{id:"web-ui-path",value:sd.webUIPath,onChange:e=>sm(s=>({...s,webUIPath:e.target.value})),placeholder:"/"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:'Path prefix for the web UI (usually "/")'})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"icon-name",children:"Icon Name"}),(0,t.jsx)(d.p,{id:"icon-name",value:sd.icon,onChange:e=>sm(s=>({...s,icon:e.target.value})),placeholder:"gitea, nextcloud, etc."}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Used for desktop icon display"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(W.J,{children:"Auto Start"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Start container on system boot"})]}),(0,t.jsx)(M.d,{checked:sd.autoStart,onCheckedChange:e=>sm(s=>({...s,autoStart:e}))})]})]}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>{sc(!1),so(null)},disabled:sx,children:"Cancel"}),(0,t.jsx)(o.$,{onClick:s$,disabled:sx||sd.hasWebUI&&!sd.webUIPort,className:"gap-2",children:sx?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.A,{className:"w-4 h-4 animate-spin"}),"Adopting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ee.A,{className:"w-4 h-4"}),"Adopt Container"]})})]})]})}),(0,t.jsx)(J.lG,{open:su,onOpenChange:sp,children:(0,t.jsxs)(J.Cf,{className:"sm:max-w-md",children:[(0,t.jsxs)(J.c7,{children:[(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(ez,{className:"w-5 h-5 text-amber-400"}),"Edit Container"]}),(0,t.jsxs)(J.rr,{children:["Update settings for ",null==sj?void 0:sj.name]})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-icon-light",children:"Icon URL (Light Theme)"}),(0,t.jsx)(d.p,{id:"edit-icon-light",placeholder:"https://cdn.jsdelivr.net/gh/selfhst/icons/svg/app-light.svg",value:sf.iconLight,onChange:e=>sN(s=>({...s,iconLight:e.target.value}))}),sf.iconLight&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-white border rounded",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Preview:"}),(0,t.jsx)("img",{src:sf.iconLight,alt:"Light icon preview",className:"w-8 h-8 object-contain",onError:e=>e.currentTarget.style.display="none"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-icon-dark",children:"Icon URL (Dark Theme)"}),(0,t.jsx)(d.p,{id:"edit-icon-dark",placeholder:"https://cdn.jsdelivr.net/gh/selfhst/icons/svg/app-dark.svg",value:sf.iconDark,onChange:e=>sN(s=>({...s,iconDark:e.target.value}))}),sf.iconDark&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-900 border border-gray-700 rounded",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Preview:"}),(0,t.jsx)("img",{src:sf.iconDark,alt:"Dark icon preview",className:"w-8 h-8 object-contain",onError:e=>e.currentTarget.style.display="none"})]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Icon URLs from selfh.st/icons or other sources. Light theme icons display on light backgrounds, dark theme icons on dark backgrounds."})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(W.J,{htmlFor:"edit-webui",children:"Has Web UI"}),(0,t.jsx)(M.d,{id:"edit-webui",checked:sf.hasWebUI,onCheckedChange:e=>sN(s=>({...s,hasWebUI:e}))})]}),sf.hasWebUI&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-port",children:"Web UI Port"}),(0,t.jsx)(d.p,{id:"edit-port",type:"number",placeholder:"8080",value:sf.webUIPort,onChange:e=>sN(s=>({...s,webUIPort:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(W.J,{htmlFor:"edit-path",children:"Web UI Path"}),(0,t.jsx)(d.p,{id:"edit-path",placeholder:"/",value:sf.webUIPath,onChange:e=>sN(s=>({...s,webUIPath:e.target.value}))})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(W.J,{htmlFor:"edit-autostart",children:"Auto Start"}),(0,t.jsx)(M.d,{id:"edit-autostart",checked:sf.autoStart,onCheckedChange:e=>sN(s=>({...s,autoStart:e}))})]})]}),(0,t.jsxs)(J.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>{sp(!1),sg(null)},disabled:sv,children:"Cancel"}),(0,t.jsx)(o.$,{onClick:sJ,disabled:sv||sf.hasWebUI&&!sf.webUIPort,className:"gap-2",children:sv?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.A,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ez,{className:"w-4 h-4"}),"Save Changes"]})})]})]})})]})}},11010:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},14452:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("file-braces",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]])},20508:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},20639:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]])},21786:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},37354:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]])},42196:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},45345:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},54664:(e,s,a)=>{"use strict";a.d(s,{w:()=>l});var t=a(95155);a(12115);var r=a(57268),n=a(25016);function l(e){let{className:s,orientation:a="horizontal",decorative:l=!0,...c}=e;return(0,t.jsx)(r.b,{"data-slot":"separator",decorative:l,orientation:a,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...c})}},57268:(e,s,a)=>{"use strict";a.d(s,{b:()=>o});var t=a(12115),r=a(97602),n=a(95155),l="horizontal",c=["horizontal","vertical"],i=t.forwardRef((e,s)=>{var a;let{decorative:t,orientation:i=l,...o}=e,d=(a=i,c.includes(a))?i:l;return(0,n.jsx)(r.sG.div,{"data-orientation":d,...t?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...o,ref:s})});i.displayName="Separator";var o=i},57828:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},79397:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]])},93499:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},94385:(e,s,a)=>{Promise.resolve().then(a.bind(a,9870))},96633:(e,s,a)=>{"use strict";a.d(s,{A0:()=>l,BF:()=>c,Hj:()=>i,XI:()=>n,nA:()=>d,nd:()=>o});var t=a(95155);a(12115);var r=a(25016);function n(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",s),...a})})}function l(e){let{className:s,...a}=e;return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",s),...a})}function i(e){let{className:s,...a}=e;return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...a})}function o(e){let{className:s,...a}=e;return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}},97624:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]])}},e=>{e.O(0,[110,6263,7924,4505,9213,5259,7014,8720,7052,2940,2312,2618,8441,1255,7358],()=>e(e.s=94385)),_N_E=e.O()}]);