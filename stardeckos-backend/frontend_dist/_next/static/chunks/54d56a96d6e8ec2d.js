(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27341,e=>{"use strict";e.s(["Tabs",()=>_,"TabsContent",()=>I,"TabsList",()=>B,"TabsTrigger",()=>L],27341);var t=e.i(43476),s=e.i(71645),a=e.i(81140),r=e.i(30030),n=e.i(42727),l=e.i(96626);e.i(74080);var i=e.i(20783),c=Symbol("radix.slottable");function o(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let r=function(e){let a=function(e){let t=s.forwardRef((e,t)=>{let{children:a,...r}=e;if(s.isValidElement(a)){var n,l,c;let e,o,d=(o=(e=null==(l=Object.getOwnPropertyDescriptor((n=a).props,"ref"))?void 0:l.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(o=(e=null==(c=Object.getOwnPropertyDescriptor(n,"ref"))?void 0:c.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref,m=function(e,t){let s={...t};for(let a in t){let r=e[a],n=t[a];/^on[A-Z]/.test(a)?r&&n?s[a]=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let a=n(...t);return r(...t),a}:r&&(s[a]=r):"style"===a?s[a]={...r,...n}:"className"===a&&(s[a]=[r,n].filter(Boolean).join(" "))}return{...e,...s}}(r,a.props);return a.type!==s.Fragment&&(m.ref=t?(0,i.composeRefs)(t,d):d),s.cloneElement(a,m)}return s.Children.count(a)>1?s.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),r=s.forwardRef((e,r)=>{let{children:n,...l}=e,i=s.Children.toArray(n),c=i.find(o);if(c){let e=c.props.children,n=i.map(t=>t!==c?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,t.jsx)(a,{...l,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,t.jsx)(a,{...l,ref:r,children:n})});return r.displayName="".concat(e,".Slot"),r}("Primitive.".concat(a)),n=s.forwardRef((e,s)=>{let{asChild:n,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?r:a,{...l,ref:s})});return n.displayName="Primitive.".concat(a),{...e,[a]:n}},{}),m=e.i(86318),u=e.i(69340),x=e.i(10772),h="Tabs",[p,f]=(0,r.createContextScope)(h,[n.createRovingFocusGroupScope]),j=(0,n.createRovingFocusGroupScope)(),[g,v]=p(h),N=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:r,onValueChange:n,defaultValue:l,orientation:i="horizontal",dir:c,activationMode:o="automatic",...p}=e,f=(0,m.useDirection)(c),[j,v]=(0,u.useControllableState)({prop:r,onChange:n,defaultProp:null!=l?l:"",caller:h});return(0,t.jsx)(g,{scope:a,baseId:(0,x.useId)(),value:j,onValueChange:v,orientation:i,dir:f,activationMode:o,children:(0,t.jsx)(d.div,{dir:f,"data-orientation":i,...p,ref:s})})});N.displayName=h;var b="TabsList",y=s.forwardRef((e,s)=>{let{__scopeTabs:a,loop:r=!0,...l}=e,i=v(b,a),c=j(a);return(0,t.jsx)(n.Root,{asChild:!0,...c,orientation:i.orientation,dir:i.dir,loop:r,children:(0,t.jsx)(d.div,{role:"tablist","aria-orientation":i.orientation,...l,ref:s})})});y.displayName=b;var w="TabsTrigger",C=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:l,disabled:i=!1,...c}=e,o=v(w,r),m=j(r),u=T(o.baseId,l),x=M(o.baseId,l),h=l===o.value;return(0,t.jsx)(n.Item,{asChild:!0,...m,focusable:!i,active:h,children:(0,t.jsx)(d.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...c,ref:s,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(l)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(l)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==o.activationMode;h||i||!e||o.onValueChange(l)})})})});C.displayName=w;var k="TabsContent",S=s.forwardRef((e,a)=>{let{__scopeTabs:r,value:n,forceMount:i,children:c,...o}=e,m=v(k,r),u=T(m.baseId,n),x=M(m.baseId,n),h=n===m.value,p=s.useRef(h);return s.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(l.Presence,{present:i||h,children:s=>{let{present:r}=s;return(0,t.jsx)(d.div,{"data-state":h?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:x,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:p.current?"0s":void 0},children:r&&c})}})});function T(e,t){return"".concat(e,"-trigger-").concat(t)}function M(e,t){return"".concat(e,"-content-").concat(t)}S.displayName=k;var R=e.i(47163);function _(e){let{className:s,...a}=e;return(0,t.jsx)(N,{"data-slot":"tabs",className:(0,R.cn)("flex flex-col gap-2",s),...a})}function B(e){let{className:s,...a}=e;return(0,t.jsx)(y,{"data-slot":"tabs-list",className:(0,R.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...a})}function L(e){let{className:s,...a}=e;return(0,t.jsx)(C,{"data-slot":"tabs-trigger",className:(0,R.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function I(e){let{className:s,...a}=e;return(0,t.jsx)(S,{"data-slot":"tabs-content",className:(0,R.cn)("flex-1 outline-none",s),...a})}},43531,e=>{"use strict";e.s(["Check",()=>t.default]);var t=e.i(78745)},14125,e=>{"use strict";e.s(["MemoryStick",()=>t],14125);let t=(0,e.i(75254).default)("memory-stick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]])},31278,e=>{"use strict";e.s(["Loader2",()=>t],31278);let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},40160,e=>{"use strict";e.s(["Download",()=>t],40160);let t=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},52571,e=>{"use strict";e.s(["Info",()=>t],52571);let t=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},71689,e=>{"use strict";e.s(["ArrowLeft",()=>t],71689);let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},74886,e=>{"use strict";e.s(["Copy",()=>t],74886);let t=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},87336,e=>{"use strict";e.s(["Progress",()=>g],87336);var t=e.i(43476),s=e.i(71645),a=e.i(48425),r="Progress",[n,l]=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],n=()=>{let t=r.map(e=>s.createContext(e));return function(a){let r=(null==a?void 0:a[e])||t;return s.useMemo(()=>({["__scope".concat(e)]:{...a,[e]:r}}),[a,r])}};return n.scopeName=e,[function(a,n){let l=s.createContext(n);l.displayName=a+"Context";let i=r.length;r=[...r,n];let c=a=>{var r;let{scope:n,children:c,...o}=a,d=(null==n||null==(r=n[e])?void 0:r[i])||l,m=s.useMemo(()=>o,Object.values(o));return(0,t.jsx)(d.Provider,{value:m,children:c})};return c.displayName=a+"Provider",[c,function(t,r){var c;let o=(null==r||null==(c=r[e])?void 0:c[i])||l,d=s.useContext(o);if(d)return d;if(void 0!==n)return n;throw Error("`".concat(t,"` must be used within `").concat(a,"`"))}]},function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let r=t[0];if(1===t.length)return r;let n=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let a=e.reduce((e,s)=>{let{useScope:a,scopeName:r}=s,n=a(t)["__scope".concat(r)];return{...e,...n}},{});return s.useMemo(()=>({["__scope".concat(r.scopeName)]:a}),[a])}};return n.scopeName=r.scopeName,n}(n,...a)]}(r),[i,c]=n(r),o=s.forwardRef((e,s)=>{var r,n,l,c;let{__scopeProgress:o,value:d=null,max:m,getValueLabel:j=u,...g}=e;(m||0===m)&&!p(m)&&console.error((r="".concat(m),n="Progress","Invalid prop `max` of value `".concat(r,"` supplied to `").concat(n,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let v=p(m)?m:100;null===d||f(d,v)||console.error((l="".concat(d),c="Progress","Invalid prop `value` of value `".concat(l,"` supplied to `").concat(c,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let N=f(d,v)?d:null,b=h(N)?j(N,v):void 0;return(0,t.jsx)(i,{scope:o,value:N,max:v,children:(0,t.jsx)(a.Primitive.div,{"aria-valuemax":v,"aria-valuemin":0,"aria-valuenow":h(N)?N:void 0,"aria-valuetext":b,role:"progressbar","data-state":x(N,v),"data-value":null!=N?N:void 0,"data-max":v,...g,ref:s})})});o.displayName=r;var d="ProgressIndicator",m=s.forwardRef((e,s)=>{var r;let{__scopeProgress:n,...l}=e,i=c(d,n);return(0,t.jsx)(a.Primitive.div,{"data-state":x(i.value,i.max),"data-value":null!=(r=i.value)?r:void 0,"data-max":i.max,...l,ref:s})});function u(e,t){return"".concat(Math.round(e/t*100),"%")}function x(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function h(e){return"number"==typeof e}function p(e){return h(e)&&!isNaN(e)&&e>0}function f(e,t){return h(e)&&!isNaN(e)&&e<=t&&e>=0}m.displayName=d;var j=e.i(47163);function g(e){let{className:s,value:a,...r}=e;return(0,t.jsx)(o,{"data-slot":"progress",className:(0,j.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...r,children:(0,t.jsx)(m,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})}},56909,e=>{"use strict";e.s(["Save",()=>t],56909);let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},52044,e=>{"use strict";e.s(["Square",()=>t],52044);let t=(0,e.i(75254).default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},98361,e=>{"use strict";e.s(["Maximize2",()=>t],98361);let t=(0,e.i(75254).default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]])},26336,e=>{"use strict";e.s(["Minimize2",()=>t],26336);let t=(0,e.i(75254).default)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]])},46236,e=>{"use strict";e.s(["ContainerLogs",()=>y],46236);var t=e.i(43476),s=e.i(71645),a=e.i(91432),r=e.i(30374),n=e.i(67881),l=e.i(23750),i=e.i(94179),c=e.i(19036),o=e.i(10708),d=e.i(62870),m=e.i(78583),u=e.i(37727),x=e.i(40160),h=e.i(55436),p=e.i(91810);let f=(0,e.i(75254).default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);var j=e.i(31343),g=e.i(98361),v=e.i(26336),N=e.i(74886),b=e.i(43531);function y(e){let{containerId:y,containerName:w,onClose:C}=e,{token:k}=(0,a.useAuth)(),[S,T]=(0,s.useState)([]),[M,R]=(0,s.useState)([]),[_,B]=(0,s.useState)(""),[L,I]=(0,s.useState)(!0),[P,A]=(0,s.useState)(!1),[z,D]=(0,s.useState)(!1),[F,E]=(0,s.useState)("100"),[H,O]=(0,s.useState)(!0),[U,V]=(0,s.useState)(!1),W=(0,s.useRef)(null),q=(0,s.useRef)(null),G=(0,s.useCallback)(async()=>{if(k&&y)try{let e=new URLSearchParams({tail:F,timestamps:H.toString()}),t=await fetch("/api/containers/".concat(y,"/logs?").concat(e),{headers:{Authorization:"Bearer ".concat(k)}});if(!t.ok)throw Error("Failed to fetch logs");let s=await t.json();T(s.logs||[])}catch(e){console.error("Failed to fetch logs:",e)}},[k,y,F,H]),K=(0,s.useCallback)(()=>{if(!y||!k)return;let e="https:"===window.location.protocol?"wss:":"ws:",t=new WebSocket("".concat(e,"//").concat(window.location.host,"/api/containers/").concat(y,"/logs/stream"));q.current=t,t.onopen=()=>{t.send(JSON.stringify({type:"auth",token:k})),A(!0)},t.onmessage=e=>{try{let t=JSON.parse(e.data);"log"===t.type&&T(e=>[...e,t.line])}catch(t){T(t=>[...t,e.data])}},t.onerror=()=>{A(!1)},t.onclose=()=>{A(!1)}},[y,k]),J=(0,s.useCallback)(()=>{q.current&&(q.current.close(),q.current=null),A(!1)},[]);(0,s.useEffect)(()=>(y&&G(),()=>{J()}),[y,G,J]),(0,s.useEffect)(()=>{_.trim()?R(S.filter(e=>e.toLowerCase().includes(_.toLowerCase()))):R(S)},[S,_]),(0,s.useEffect)(()=>{L&&W.current&&(W.current.scrollTop=W.current.scrollHeight)},[M,L]);let X=()=>{J(),G()};return(0,t.jsx)(r.Dialog,{open:!!y,onOpenChange:C,children:(0,t.jsxs)(r.DialogContent,{className:"".concat(z?"max-w-full h-screen":"max-w-5xl h-[700px]"," p-0 gap-0 flex flex-col"),children:[(0,t.jsxs)(r.DialogHeader,{className:"px-4 py-3 border-b border-border/50 flex-row items-center justify-between space-y-0",children:[(0,t.jsxs)(r.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500/20 to-indigo-500/20 border border-blue-500/30 flex items-center justify-center",children:(0,t.jsx)(m.FileText,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Container Logs"}),w&&(0,t.jsx)("span",{className:"text-sm text-muted-foreground font-normal",children:w}),(0,t.jsxs)(i.Badge,{variant:"outline",className:"font-mono",children:[M.length," lines"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>D(!z),className:"h-8 w-8",children:z?(0,t.jsx)(v.Minimize2,{className:"w-4 h-4"}):(0,t.jsx)(g.Maximize2,{className:"w-4 h-4"})}),(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:C,className:"h-8 w-8",children:(0,t.jsx)(u.X,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-border/50 bg-muted/30 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-[200px] relative",children:[(0,t.jsx)(h.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(l.Input,{placeholder:"Search logs...",value:_,onChange:e=>B(e.target.value),className:"pl-9"})]}),(0,t.jsxs)(d.Select,{value:F,onValueChange:E,children:[(0,t.jsx)(d.SelectTrigger,{className:"w-[140px]",children:(0,t.jsx)(d.SelectValue,{})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"50",children:"Last 50 lines"}),(0,t.jsx)(d.SelectItem,{value:"100",children:"Last 100 lines"}),(0,t.jsx)(d.SelectItem,{value:"500",children:"Last 500 lines"}),(0,t.jsx)(d.SelectItem,{value:"1000",children:"Last 1000 lines"}),(0,t.jsx)(d.SelectItem,{value:"all",children:"All lines"})]})]}),(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>{P?J():K()},className:P?"bg-green-500/20 border-green-500/30 text-green-500":"",children:[P?(0,t.jsx)(f,{className:"w-4 h-4 mr-2"}):(0,t.jsx)(j.Play,{className:"w-4 h-4 mr-2"}),P?"Following":"Follow"]}),(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:X,children:[(0,t.jsx)(p.RotateCw,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(M.join("\n")),V(!0),setTimeout(()=>V(!1),2e3)},children:[U?(0,t.jsx)(b.Check,{className:"w-4 h-4 mr-2"}):(0,t.jsx)(N.Copy,{className:"w-4 h-4 mr-2"}),U?"Copied!":"Copy"]}),(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([S.join("\n")],{type:"text/plain"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="".concat(w||y,"-logs.txt"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},children:[(0,t.jsx)(x.Download,{className:"w-4 h-4 mr-2"}),"Download"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Switch,{id:"auto-scroll",checked:L,onCheckedChange:I}),(0,t.jsx)(o.Label,{htmlFor:"auto-scroll",className:"text-sm cursor-pointer",children:"Auto-scroll"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Switch,{id:"timestamps",checked:H,onCheckedChange:e=>{O(e),X()}}),(0,t.jsx)(o.Label,{htmlFor:"timestamps",className:"text-sm cursor-pointer",children:"Show timestamps"})]})]})]}),(0,t.jsx)("div",{ref:W,className:"flex-1 overflow-y-auto p-4 bg-black/90 font-mono text-xs text-gray-300 space-y-1 min-h-0",children:0===M.length?(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:_?"No logs match your search":"No logs available"}):M.map((e,s)=>{let a=/error|failed|fatal/i.test(e),r=/warn|warning/i.test(e),n=/info/i.test(e),l=/debug/i.test(e),i="text-gray-300";a?i="text-red-400":r?i="text-yellow-400":n?i="text-blue-400":l&&(i="text-purple-400");let c=_?e.split(RegExp("(".concat(_,")"),"gi")):[e];return(0,t.jsxs)("div",{className:"".concat(i," whitespace-pre-wrap break-all hover:bg-white/5 px-2 py-0.5 rounded transition-colors"),children:[(0,t.jsx)("span",{className:"text-muted-foreground select-none mr-2",children:s+1}),_?c.map((e,s)=>e.toLowerCase()===_.toLowerCase()?(0,t.jsx)("span",{className:"bg-yellow-500/30 text-yellow-300",children:e},s):(0,t.jsx)("span",{children:e},s)):e]},s)})}),(0,t.jsx)("div",{className:"px-4 py-2 border-t border-border/50 bg-muted/30 text-xs text-muted-foreground",children:(0,t.jsx)("span",{children:"Tip: Use the Follow button to stream logs in real-time."})})]})})}},24390,e=>{"use strict";e.s(["ContainerTerminal",()=>u]);var t=e.i(43476),s=e.i(71645),a=e.i(91432),r=e.i(30374),n=e.i(67881),l=e.i(68054),i=e.i(37727),c=e.i(98361),o=e.i(26336),d=e.i(91810),m=e.i(94179);function u(e){let{containerId:u,containerName:x,onClose:h}=e,{token:p}=(0,a.useAuth)();(0,s.useRef)(null);let f=(0,s.useRef)(null),[j,g]=(0,s.useState)(!1),[v,N]=(0,s.useState)(null),[b,y]=(0,s.useState)(!1),[w,C]=(0,s.useState)([]),[k,S]=(0,s.useState)(""),T=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!u||!p)return;let e="https:"===window.location.protocol?"wss:":"ws:",t=new WebSocket("".concat(e,"//").concat(window.location.host,"/api/containers/").concat(u,"/exec"));return f.current=t,t.onopen=()=>{g(!0),N(null),t.send(JSON.stringify({type:"auth",token:p}))},t.onmessage=e=>{try{let t=JSON.parse(e.data);"output"===t.type?C(e=>[...e,t.data]):"error"===t.type&&N(t.message)}catch(t){C(t=>[...t,e.data])}},t.onerror=()=>{N("WebSocket connection error"),g(!1)},t.onclose=()=>{g(!1)},()=>{t.readyState===WebSocket.OPEN&&t.close()}},[u,p]),(0,s.useEffect)(()=>{T.current&&(T.current.scrollTop=T.current.scrollHeight)},[w]),(0,t.jsx)(r.Dialog,{open:!!u,onOpenChange:h,children:(0,t.jsxs)(r.DialogContent,{className:"".concat(b?"max-w-full h-screen":"max-w-4xl h-[600px]"," p-0 gap-0 flex flex-col"),children:[(0,t.jsxs)(r.DialogHeader,{className:"px-4 py-3 border-b border-border/50 flex-row items-center justify-between space-y-0",children:[(0,t.jsxs)(r.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-500/20 to-emerald-500/20 border border-green-500/30 flex items-center justify-center",children:(0,t.jsx)(l.Terminal,{className:"w-4 h-4 text-green-400"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Container Shell"}),x&&(0,t.jsx)("span",{className:"text-sm text-muted-foreground font-normal",children:x}),j?(0,t.jsx)(m.Badge,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/30",children:"Connected"}):(0,t.jsx)(m.Badge,{variant:"outline",className:"bg-red-500/10 text-red-500 border-red-500/30",children:"Disconnected"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>{C([])},className:"h-8 w-8",children:(0,t.jsx)(d.RotateCw,{className:"w-4 h-4"})}),(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>y(!b),className:"h-8 w-8",children:b?(0,t.jsx)(o.Minimize2,{className:"w-4 h-4"}):(0,t.jsx)(c.Maximize2,{className:"w-4 h-4"})}),(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:h,className:"h-8 w-8",children:(0,t.jsx)(i.X,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col bg-black/90 min-h-0",children:[(0,t.jsxs)("div",{ref:T,className:"flex-1 overflow-y-auto p-4 font-mono text-sm text-green-400 space-y-1",children:[v&&(0,t.jsx)("div",{className:"text-red-500 mb-4 p-2 bg-red-500/10 rounded border border-red-500/30",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:v}),(0,t.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{N(null),C([]),f.current&&f.current.close()},className:"h-6 text-xs",children:"Reconnect"})]})}),0===w.length&&!v&&(0,t.jsx)("div",{className:"text-muted-foreground",children:j?"Connected. Type a command...":"Connecting..."}),w.map((e,s)=>(0,t.jsx)("div",{className:"whitespace-pre-wrap break-all",children:e},s))]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),k.trim()&&f.current&&f.current.readyState===WebSocket.OPEN&&(f.current.send(JSON.stringify({type:"input",data:k+"\n"})),C(e=>[...e,"$ ".concat(k)]),S(""))},className:"border-t border-border/30 p-3 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-green-400 font-mono",children:"$"}),(0,t.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),placeholder:"Enter command...",disabled:!j,className:"flex-1 bg-transparent border-none outline-none text-green-400 font-mono placeholder:text-green-400/30 disabled:opacity-50",autoFocus:!0}),(0,t.jsx)(n.Button,{type:"submit",size:"sm",disabled:!j||!k.trim(),className:"bg-green-500/20 hover:bg-green-500/30 text-green-400 border border-green-500/30",children:"Send"})]})]}),(0,t.jsx)("div",{className:"px-4 py-2 border-t border-border/50 bg-muted/30 text-xs text-muted-foreground",children:(0,t.jsx)("span",{children:"Tip: This terminal connects to the container's shell. Type 'exit' to disconnect."})})]})})}},22260,e=>{"use strict";e.s(["default",()=>O],22260);var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(91432),n=e.i(48654),l=e.i(67881),i=e.i(70065),c=e.i(27341),o=e.i(23750),d=e.i(10708),m=e.i(19036),u=e.i(94179),x=e.i(71689),h=e.i(31343),p=e.i(52044),f=e.i(91810),j=e.i(68054),g=e.i(78583),v=e.i(21218),N=e.i(39616),b=e.i(48256),y=e.i(78094),w=e.i(52786),C=e.i(66992),k=e.i(31278),S=e.i(63209),T=e.i(56909),M=e.i(27612),R=e.i(72664),_=e.i(52571),B=e.i(46236),L=e.i(24390),I=e.i(87336),P=e.i(14125),A=e.i(75254);let z=(0,A.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),D=(0,A.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),F=(0,A.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function E(e){let{containerId:a,isRunning:n}=e,{token:l}=(0,r.useAuth)(),[c,o]=(0,s.useState)({cpu:[],memory:[]}),[d,m]=(0,s.useState)(null),[x,h]=(0,s.useState)(null),[p,f]=(0,s.useState)(!0),[j,g]=(0,s.useState)(null),N=(0,s.useCallback)(async()=>{if(l&&a&&n)try{let e=await fetch("/api/containers/".concat(a,"/stats"),{headers:{Authorization:"Bearer ".concat(l)}});if(!e.ok)throw Error("Failed to fetch stats");let t=await e.json();h(d),m(t),g(null),o(e=>({cpu:[...e.cpu,t.cpu_percent].slice(-30),memory:[...e.memory,t.memory_percent].slice(-30)})),f(!1)}catch(e){g(e instanceof Error?e.message:"Failed to fetch stats"),f(!1)}},[l,a,n,d]);(0,s.useEffect)(()=>{if(!n){o({cpu:[],memory:[]}),m(null),h(null),f(!1);return}N();let e=setInterval(N,3e3);return()=>clearInterval(e)},[n,N]);let b=e=>{if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]},T=(e,t)=>{if(void 0===t)return"stable";let s=e-t;return .5>Math.abs(s)?"stable":s>0?"up":"down"},M=e=>{let{trend:s}=e;switch(s){case"up":return(0,t.jsx)(z,{className:"w-3 h-3 text-red-500"});case"down":return(0,t.jsx)(D,{className:"w-3 h-3 text-green-500"});default:return(0,t.jsx)(F,{className:"w-3 h-3 text-muted-foreground"})}},R=e=>{let{data:s,color:a="#06b6d4"}=e;if(s.length<2)return null;let r=Math.max(...s,1),n=Math.min(...s,0),l=r-n||1,i=s.map((e,t)=>{let a=t/(s.length-1)*120;return"".concat(a,",").concat(24-(e-n)/l*24)}).join(" ");return(0,t.jsx)("svg",{width:120,height:24,className:"opacity-60",children:(0,t.jsx)("polyline",{fill:"none",stroke:a,strokeWidth:"1.5",points:i})})};if(!n)return(0,t.jsx)(i.Card,{className:"bg-card/50 border-border/50",children:(0,t.jsxs)(i.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(v.Activity,{className:"w-12 h-12 text-muted-foreground/50 mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Container is not running"})]})});if(p&&!d)return(0,t.jsx)(i.Card,{className:"bg-card/50 border-border/50",children:(0,t.jsx)(i.CardContent,{className:"flex items-center justify-center py-12",children:(0,t.jsx)(k.Loader2,{className:"w-8 h-8 animate-spin text-accent"})})});if(j)return(0,t.jsx)(i.Card,{className:"bg-card/50 border-border/50",children:(0,t.jsxs)(i.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(S.AlertCircle,{className:"w-12 h-12 text-destructive mb-4"}),(0,t.jsx)("p",{className:"text-destructive",children:j})]})});if(!d)return null;let _=T(d.cpu_percent,null==x?void 0:x.cpu_percent),B=T(d.memory_percent,null==x?void 0:x.memory_percent);return(0,t.jsxs)(i.Card,{className:"bg-card/50 border-border/50",children:[(0,t.jsxs)(i.CardHeader,{className:"pb-3",children:[(0,t.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(v.Activity,{className:"w-5 h-5 text-accent"}),"Real-time Performance"]}),(0,t.jsx)(i.CardDescription,{children:"Live container resource usage"})]}),(0,t.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 flex items-center justify-center",children:(0,t.jsx)(C.Cpu,{className:"w-4 h-4 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"CPU Usage"}),(0,t.jsx)(M,{trend:_})]}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-cyan-400",children:[d.cpu_percent.toFixed(1),"%"]})]})]}),c.cpu.length>1&&(0,t.jsx)(R,{data:c.cpu,color:"#06b6d4"})]}),(0,t.jsx)(I.Progress,{value:Math.min(d.cpu_percent,100),className:"h-2"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-500/30 flex items-center justify-center",children:(0,t.jsx)(P.MemoryStick,{className:"w-4 h-4 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Memory Usage"}),(0,t.jsx)(M,{trend:B})]}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-purple-400",children:[d.memory_percent.toFixed(1),"%"]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[b(d.memory_used)," / ",b(d.memory_limit)]})]})]}),c.memory.length>1&&(0,t.jsx)(R,{data:c.memory,color:"#a855f7"})]}),(0,t.jsx)(I.Progress,{value:Math.min(d.memory_percent,100),className:"h-2"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-border/50",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-500/20 to-emerald-500/20 border border-green-500/30 flex items-center justify-center",children:(0,t.jsx)(y.Network,{className:"w-4 h-4 text-green-400"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Network I/O"})]}),(0,t.jsxs)("div",{className:"space-y-2 pl-10",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)("span",{className:"text-green-500",children:"↓"}),(0,t.jsx)("span",{children:"Received"})]}),(0,t.jsx)("span",{className:"font-mono text-green-400",children:b(d.network_rx)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)("span",{className:"text-blue-500",children:"↑"}),(0,t.jsx)("span",{children:"Transmitted"})]}),(0,t.jsx)("span",{className:"font-mono text-blue-400",children:b(d.network_tx)})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/20 border border-amber-500/30 flex items-center justify-center",children:(0,t.jsx)(w.HardDrive,{className:"w-4 h-4 text-amber-400"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Disk I/O"})]}),(0,t.jsxs)("div",{className:"space-y-2 pl-10",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)("span",{className:"text-amber-500",children:"R"}),(0,t.jsx)("span",{children:"Read"})]}),(0,t.jsx)("span",{className:"font-mono text-amber-400",children:b(d.block_read)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)("span",{className:"text-orange-500",children:"W"}),(0,t.jsx)("span",{children:"Write"})]}),(0,t.jsx)("span",{className:"font-mono text-orange-400",children:b(d.block_write)})]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-border/50",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Active Processes"}),(0,t.jsxs)(u.Badge,{variant:"outline",className:"font-mono",children:[d.pids," PIDs"]})]})]})]})}function H(){var e;let{isAuthenticated:I,isLoading:P,token:A,user:z}=(0,r.useAuth)(),D=(0,a.useRouter)(),F=(0,a.useSearchParams)().get("id"),[H,O]=(0,s.useState)(""),[U,V]=(0,s.useState)(null),[W,q]=(0,s.useState)(null),[G,K]=(0,s.useState)(!0),[J,X]=(0,s.useState)(null),[Z,$]=(0,s.useState)("overview"),[Y,Q]=(0,s.useState)(!1),[ee,et]=(0,s.useState)(!1),[es,ea]=(0,s.useState)(!1),[er,en]=(0,s.useState)(""),[el,ei]=(0,s.useState)("/"),[ec,eo]=(0,s.useState)(""),[ed,em]=(0,s.useState)(!1),eu=(null==z?void 0:z.role)==="admin"||(null==z?void 0:z.is_pam_admin),ex=(0,s.useCallback)(async()=>{if(A&&F)try{var e;let[t,s]=await Promise.all([fetch("/api/containers/".concat(F),{headers:{Authorization:"Bearer ".concat(A)}}),fetch("/api/containers/".concat(F,"/inspect"),{headers:{Authorization:"Bearer ".concat(A)}})]);if(!t.ok)throw Error("Container not found");let a=await t.json();if(V(a),ea(a.has_web_ui||!1),en((null==(e=a.web_ui_port)?void 0:e.toString())||""),ei(a.web_ui_path||"/"),eo(a.icon||""),em(a.auto_start||!1),s.ok){let e=await s.json();q(e)}X(null)}catch(e){X(e instanceof Error?e.message:"Failed to load container")}finally{K(!1)}},[A,F]);(0,s.useEffect)(()=>{P||I||D.push("/login")},[I,P,D]),(0,s.useEffect)(()=>{let e=()=>{O(new Date().toLocaleTimeString("en-US",{hour12:!1}))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[]),(0,s.useEffect)(()=>{if(I&&A&&F){ex();let e=setInterval(ex,1e4);return()=>clearInterval(e)}},[I,A,F,ex]);let eh=async e=>{if(A&&F&&("remove"!==e||confirm("Are you sure you want to remove this container? This cannot be undone."))){Q(!0);try{if(!(await fetch("/api/containers/".concat(F,"/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(A)}})).ok)throw Error("Failed to ".concat(e," container"));"remove"===e?D.push("/container-manager"):await ex()}catch(t){alert(t instanceof Error?t.message:"Failed to ".concat(e," container"))}finally{Q(!1)}}},ep=async()=>{if(A&&F&&U){et(!0);try{if(!(await fetch("/api/containers/".concat(U.id,"/settings"),{method:"PUT",headers:{Authorization:"Bearer ".concat(A),"Content-Type":"application/json"},body:JSON.stringify({has_web_ui:es,web_ui_port:es&&er?parseInt(er):null,web_ui_path:es?el||"/":null,icon:ec||null,auto_start:ed})})).ok)throw Error("Failed to save settings");await ex(),alert("Settings saved successfully")}catch(e){alert(e instanceof Error?e.message:"Failed to save settings")}finally{et(!1)}}},ef=e=>e&&"0001-01-01T00:00:00Z"!==e?new Date(e).toLocaleString():"-";if(P||!I)return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)(k.Loader2,{className:"w-12 h-12 text-accent animate-spin"})});if(!F)return(0,t.jsx)(n.DashboardLayout,{title:"ERROR",time:H,children:(0,t.jsx)("div",{className:"h-[calc(100vh-3.5rem)] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(S.AlertCircle,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"No Container Specified"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"Please select a container from the manager."}),(0,t.jsx)(l.Button,{onClick:()=>D.push("/container-manager"),children:"Return to Container Manager"})]})})});if(G)return(0,t.jsx)(n.DashboardLayout,{title:"LOADING...",time:H,children:(0,t.jsx)("div",{className:"h-[calc(100vh-3.5rem)] flex items-center justify-center",children:(0,t.jsx)(k.Loader2,{className:"w-12 h-12 text-accent animate-spin"})})});if(J||!U)return(0,t.jsx)(n.DashboardLayout,{title:"ERROR",time:H,children:(0,t.jsx)("div",{className:"h-[calc(100vh-3.5rem)] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(S.AlertCircle,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Container Not Found"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:J||"The container could not be found."}),(0,t.jsx)(l.Button,{onClick:()=>D.push("/container-manager"),children:"Return to Container Manager"})]})})});let ej="running"===U.status;return(0,t.jsx)(n.DashboardLayout,{title:U.name.toUpperCase(),time:H,children:(0,t.jsxs)("div",{className:"h-[calc(100vh-3.5rem)] flex flex-col",children:[(0,t.jsx)("div",{className:"shrink-0 border-b border-border/50 bg-card/50 backdrop-blur-sm",children:(0,t.jsx)("div",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(l.Button,{variant:"ghost",size:"sm",onClick:()=>D.push("/container-manager"),children:[(0,t.jsx)(x.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[U.icon?(0,t.jsx)("img",{src:U.icon,alt:"",className:"w-10 h-10 rounded-lg"}):(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/20 border border-cyan-500/40 flex items-center justify-center",children:(0,t.jsx)(R.Box,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold",children:U.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground font-mono",children:U.image})]})]}),(0,t.jsx)(u.Badge,{variant:ej?"default":"secondary",className:ej?"bg-green-500/20 text-green-500 border-green-500/40":"",children:U.status}),U.uptime&&(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:U.uptime})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[ej?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>eh("stop"),disabled:Y||!eu,title:eu?"Stop container":"Admin required",children:[Y?(0,t.jsx)(k.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(p.Square,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"ml-2",children:"Stop"})]}),(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>eh("restart"),disabled:Y||!eu,title:eu?"Restart container":"Admin required",children:[(0,t.jsx)(f.RotateCw,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"ml-2",children:"Restart"})]})]}):(0,t.jsxs)(l.Button,{variant:"default",size:"sm",onClick:()=>eh("start"),disabled:Y||!eu,title:eu?"Start container":"Admin required",children:[Y?(0,t.jsx)(k.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(h.Play,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"ml-2",children:"Start"})]}),U.has_web_ui&&ej&&(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>D.push("/container-app?id=".concat(U.id)),children:[(0,t.jsx)(b.Globe,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"ml-2",children:"Open App"})]}),eu&&(0,t.jsx)(l.Button,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>eh("remove"),disabled:Y||ej,title:ej?"Stop container first":"Remove container",children:(0,t.jsx)(M.Trash2,{className:"w-4 h-4"})})]})]})})}),(0,t.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,t.jsxs)(c.Tabs,{value:Z,onValueChange:$,className:"h-full flex flex-col",children:[(0,t.jsx)("div",{className:"shrink-0 px-6 pt-4 border-b border-border/30",children:(0,t.jsxs)(c.TabsList,{className:"bg-background/50",children:[(0,t.jsxs)(c.TabsTrigger,{value:"overview",className:"gap-2",children:[(0,t.jsx)(_.Info,{className:"w-4 h-4"}),"Overview"]}),ej&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.TabsTrigger,{value:"stats",className:"gap-2",children:[(0,t.jsx)(v.Activity,{className:"w-4 h-4"}),"Stats"]}),(0,t.jsxs)(c.TabsTrigger,{value:"terminal",className:"gap-2",children:[(0,t.jsx)(j.Terminal,{className:"w-4 h-4"}),"Terminal"]})]}),(0,t.jsxs)(c.TabsTrigger,{value:"logs",className:"gap-2",children:[(0,t.jsx)(g.FileText,{className:"w-4 h-4"}),"Logs"]}),(0,t.jsxs)(c.TabsTrigger,{value:"settings",className:"gap-2",children:[(0,t.jsx)(N.Settings,{className:"w-4 h-4"}),"Settings"]})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,t.jsx)(c.TabsContent,{value:"overview",className:"h-full m-0 p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(R.Box,{className:"w-4 h-4 text-cyan-400"}),"Container Information"]})}),(0,t.jsx)(i.CardContent,{className:"space-y-3",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"ID"}),(0,t.jsx)("span",{className:"font-mono",children:U.container_id.substring(0,12)}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Name"}),(0,t.jsx)("span",{children:U.name}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Image"}),(0,t.jsx)("span",{className:"font-mono text-xs",children:U.image}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Status"}),(0,t.jsx)("span",{className:ej?"text-green-500":"text-muted-foreground",children:U.status}),W&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Created"}),(0,t.jsx)("span",{children:ef(W.Created)}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Started"}),(0,t.jsx)("span",{children:ef(W.State.StartedAt)}),W.State.Pid>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"PID"}),(0,t.jsx)("span",{children:W.State.Pid})]})]})]})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(y.Network,{className:"w-4 h-4 text-blue-400"}),"Network"]})}),(0,t.jsxs)(i.CardContent,{className:"space-y-3",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:(null==W?void 0:W.NetworkSettings)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"IP Address"}),(0,t.jsx)("span",{className:"font-mono",children:W.NetworkSettings.IPAddress||"-"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Gateway"}),(0,t.jsx)("span",{className:"font-mono",children:W.NetworkSettings.Gateway||"-"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"MAC Address"}),(0,t.jsx)("span",{className:"font-mono text-xs",children:W.NetworkSettings.MacAddress||"-"})]})}),U.ports&&U.ports.length>0&&(0,t.jsxs)("div",{className:"pt-3 border-t border-border/50",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Port Mappings"}),(0,t.jsx)("div",{className:"mt-2 space-y-1",children:U.ports.map((e,s)=>(0,t.jsxs)("div",{className:"text-sm font-mono bg-muted/30 px-2 py-1 rounded",children:[e.host_port," → ",e.container_port,"/",e.protocol]},s))})]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(C.Cpu,{className:"w-4 h-4 text-purple-400"}),"Resources"]})}),(0,t.jsx)(i.CardContent,{className:"space-y-3",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:(null==W?void 0:W.HostConfig)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Memory Limit"}),(0,t.jsx)("span",{children:W.HostConfig.Memory>0?(e=>{if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]})(W.HostConfig.Memory):"Unlimited"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"CPU Limit"}),(0,t.jsx)("span",{children:W.HostConfig.NanoCpus>0?"".concat((W.HostConfig.NanoCpus/1e9).toFixed(2)," cores"):"Unlimited"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Restart Policy"}),(0,t.jsx)("span",{children:(null==(e=W.HostConfig.RestartPolicy)?void 0:e.Name)||"no"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Privileged"}),(0,t.jsx)("span",{children:W.HostConfig.Privileged?"Yes":"No"})]})})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(w.HardDrive,{className:"w-4 h-4 text-amber-400"}),"Volumes & Mounts"]})}),(0,t.jsx)(i.CardContent,{children:(null==W?void 0:W.Mounts)&&W.Mounts.length>0?(0,t.jsx)("div",{className:"space-y-2",children:W.Mounts.map((e,s)=>(0,t.jsxs)("div",{className:"text-sm bg-muted/30 p-2 rounded",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(u.Badge,{variant:"outline",className:"text-xs",children:e.Type}),!e.RW&&(0,t.jsx)(u.Badge,{variant:"secondary",className:"text-xs",children:"Read-only"})]}),(0,t.jsx)("div",{className:"font-mono text-xs text-muted-foreground truncate",title:e.Source,children:e.Source}),(0,t.jsxs)("div",{className:"font-mono text-xs",children:["→ ",e.Destination]})]},s))}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No volumes mounted"})})]})]})}),ej&&(0,t.jsx)(c.TabsContent,{value:"stats",className:"h-full m-0 p-6",children:(0,t.jsx)(E,{containerId:U.container_id,isRunning:ej})}),ej&&(0,t.jsx)(c.TabsContent,{value:"terminal",className:"h-full m-0",children:(0,t.jsx)("div",{className:"h-full p-4",children:(0,t.jsx)(L.ContainerTerminal,{containerId:U.container_id,onClose:()=>$("overview")})})}),(0,t.jsx)(c.TabsContent,{value:"logs",className:"h-full m-0",children:(0,t.jsx)("div",{className:"h-full",children:(0,t.jsx)(B.ContainerLogs,{containerId:U.container_id,onClose:()=>$("overview")})})}),(0,t.jsx)(c.TabsContent,{value:"settings",className:"h-full m-0 p-6",children:(0,t.jsxs)("div",{className:"max-w-2xl space-y-6",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(b.Globe,{className:"w-4 h-4 text-cyan-400"}),"Desktop App Settings"]})}),(0,t.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Has Web UI"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Show as desktop app with icon"})]}),(0,t.jsx)(m.Switch,{checked:es,onCheckedChange:ea,disabled:!eu})]}),es&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{children:"Web UI Port"}),(0,t.jsx)(o.Input,{type:"number",placeholder:"8080",value:er,onChange:e=>en(e.target.value),disabled:!eu}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Host port for web interface"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{children:"Web UI Path"}),(0,t.jsx)(o.Input,{placeholder:"/",value:el,onChange:e=>ei(e.target.value),disabled:!eu}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:'URL path (usually "/")'})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{children:"Icon URL"}),(0,t.jsx)(o.Input,{placeholder:"https://example.com/icon.svg",value:ec,onChange:e=>eo(e.target.value),disabled:!eu}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"URL to icon image for desktop shortcut"})]})]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(N.Settings,{className:"w-4 h-4 text-amber-400"}),"Container Options"]})}),(0,t.jsx)(i.CardContent,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Auto Start"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Start container when Stardeck starts"})]}),(0,t.jsx)(m.Switch,{checked:ed,onCheckedChange:em,disabled:!eu})]})})]}),eu&&(0,t.jsxs)(l.Button,{onClick:ep,disabled:ee,children:[ee?(0,t.jsx)(k.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):(0,t.jsx)(T.Save,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]})})]})]})})]})})}function O(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)(k.Loader2,{className:"w-12 h-12 text-accent animate-spin"})}),children:(0,t.jsx)(H,{})})}}]);