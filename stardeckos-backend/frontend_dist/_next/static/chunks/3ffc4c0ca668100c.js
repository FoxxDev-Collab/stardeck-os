(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89554,e=>{"use strict";e.s(["ThemeProvider",()=>a,"useTheme",()=>s]);var t=e.i(43476),r=e.i(71645);let o=(0,r.createContext)({theme:"system",setTheme:()=>null});function a(e){let{children:a,defaultTheme:s="dark",storageKey:n="stardeck-ui-theme",...l}=e,[c,i]=(0,r.useState)(s),[u,d]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{d(!0);let e=localStorage.getItem(n);e&&i(e)},[n]),(0,r.useEffect)(()=>{if(!u)return;let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===c){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t);return}e.classList.add(c)},[c,u]),u)?(0,t.jsx)(o.Provider,{...l,value:{theme:c,setTheme:e=>{localStorage.setItem(n,e),i(e)}},children:a}):(0,t.jsx)(t.Fragment,{children:a})}let s=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},18566,(e,t,r)=>{t.exports=e.r(76562)},91432,e=>{"use strict";e.s(["AuthProvider",()=>n,"useAuth",()=>l]);var t=e.i(43476),r=e.i(71645),o=e.i(18566);let a=(0,r.createContext)(void 0),s="/api";function n(e){let{children:n}=e,[l,c]=(0,r.useState)(null),[i,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!0),g=(0,o.useRouter)(),k=(0,r.useCallback)(()=>{c(null),u(null),localStorage.removeItem("stardeck-token"),localStorage.removeItem("stardeck-user")},[]),m=(0,r.useCallback)(async e=>{try{let t=await fetch("".concat(s,"/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)return void k();let r=await t.json();c(r.user)}catch(e){console.warn("Could not validate session with server")}},[k]);(0,r.useEffect)(()=>{let e=localStorage.getItem("stardeck-token"),t=localStorage.getItem("stardeck-user");e&&t&&(u(e),c(JSON.parse(t)),m(e)),h(!1)},[m]);let f=async(e,t,r)=>{try{let o=await fetch("".concat(s,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,auth_type:r||""})});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.error||"Login failed")}let a=await o.json();return c(a.user),u(a.token),localStorage.setItem("stardeck-token",a.token),localStorage.setItem("stardeck-user",JSON.stringify(a.user)),!0}catch(e){throw console.error("Login error:",e),e}},y=async()=>{try{i&&await fetch("".concat(s,"/auth/logout"),{method:"POST",headers:{Authorization:"Bearer ".concat(i)}})}catch(e){}finally{k(),g.push("/login")}};return(0,t.jsx)(a.Provider,{value:{user:l,token:i,login:f,logout:y,isAuthenticated:!!l&&!!i,isLoading:d},children:n})}function l(){let e=(0,r.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},17995,e=>{"use strict";e.s(["SettingsProvider",()=>l,"useSettings",()=>c]);var t=e.i(43476),r=e.i(71645);let o={cyan:{light:"oklch(0.7889 0.1105 196.6173)",dark:"oklch(0.7000 0.1190 200.4390)",lightForeground:"oklch(0.1496 0 0)",darkForeground:"oklch(0.1290 0.0714 263.7567)"},amber:{light:"oklch(0.7500 0.1500 65.0000)",dark:"oklch(0.7500 0.1500 65.0000)",lightForeground:"oklch(0.1496 0 0)",darkForeground:"oklch(0.1290 0.0714 263.7567)"},green:{light:"oklch(0.7200 0.1500 145.0000)",dark:"oklch(0.6800 0.1500 145.0000)",lightForeground:"oklch(0.1496 0 0)",darkForeground:"oklch(0.1290 0.0714 263.7567)"},purple:{light:"oklch(0.6500 0.1500 300.0000)",dark:"oklch(0.6800 0.1500 300.0000)",lightForeground:"oklch(0.9791 0 0)",darkForeground:"oklch(0.9791 0 0)"},red:{light:"oklch(0.6500 0.2000 25.0000)",dark:"oklch(0.6500 0.2000 25.0000)",lightForeground:"oklch(0.9791 0 0)",darkForeground:"oklch(0.9791 0 0)"}},a={taskbarPosition:"top",tray:{showCpu:!0,showMemory:!0,showDisk:!0,showNetwork:!0,refreshInterval:3},theme:{accentColor:"cyan",enableScanlines:!1,enableGlow:!0,enableAnimations:!0},desktop:{iconSize:"medium",showLabels:!0,gridSpacing:"normal",coloredIcons:!0}},s=(0,r.createContext)(void 0),n="stardeck-settings";function l(e){let{children:l}=e,[c,i]=(0,r.useState)(a),[u,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{try{let e=localStorage.getItem(n);if(e){let t=JSON.parse(e);i({...a,...t})}}catch(e){console.error("Failed to load settings:",e)}d(!0)},[]),(0,r.useEffect)(()=>{if(u)try{localStorage.setItem(n,JSON.stringify(c))}catch(e){console.error("Failed to save settings:",e)}},[c,u]),(0,r.useEffect)(()=>{if(!u)return;let e=document.documentElement,t=o[c.theme.accentColor],r=e.classList.contains("dark");e.style.setProperty("--accent",r?t.dark:t.light),e.style.setProperty("--accent-foreground",r?t.darkForeground:t.lightForeground),e.style.setProperty("--ring",r?t.dark:t.light)},[c.theme.accentColor,u]),(0,r.useEffect)(()=>{if(!u)return;let e=new MutationObserver(e=>{e.forEach(e=>{if("attributes"===e.type&&"class"===e.attributeName){let e=document.documentElement,t=o[c.theme.accentColor],r=e.classList.contains("dark");e.style.setProperty("--accent",r?t.dark:t.light),e.style.setProperty("--accent-foreground",r?t.darkForeground:t.lightForeground),e.style.setProperty("--ring",r?t.dark:t.light)}})});return e.observe(document.documentElement,{attributes:!0}),()=>e.disconnect()},[c.theme.accentColor,u]),(0,t.jsx)(s.Provider,{value:{settings:c,updateSettings:e=>{i(t=>({...t,...e}))},updateTraySettings:e=>{i(t=>({...t,tray:{...t.tray,...e}}))},updateThemeSettings:e=>{i(t=>({...t,theme:{...t.theme,...e}}))},updateDesktopSettings:e=>{i(t=>({...t,desktop:{...t.desktop,...e}}))},resetSettings:()=>{i(a)}},children:l})}function c(){let e=(0,r.useContext)(s);if(void 0===e)throw Error("useSettings must be used within a SettingsProvider");return e}}]);