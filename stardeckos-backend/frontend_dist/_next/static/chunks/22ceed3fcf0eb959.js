(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89554,e=>{"use strict";e.s(["ThemeProvider",()=>a,"useTheme",()=>n]);var t=e.i(43476),r=e.i(71645);let o=(0,r.createContext)({theme:"system",setTheme:()=>null});function a(e){let{children:a,defaultTheme:n="dark",storageKey:s="stardeck-ui-theme",...i}=e,[l,c]=(0,r.useState)(n),[d,u]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{u(!0);let e=localStorage.getItem(s);e&&c(e)},[s]),(0,r.useEffect)(()=>{if(!d)return;let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===l){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t);return}e.classList.add(l)},[l,d]),d)?(0,t.jsx)(o.Provider,{...i,value:{theme:l,setTheme:e=>{localStorage.setItem(s,e),c(e)}},children:a}):(0,t.jsx)(t.Fragment,{children:a})}let n=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},18566,(e,t,r)=>{t.exports=e.r(76562)},91432,e=>{"use strict";e.s(["AuthProvider",()=>s,"useAuth",()=>i]);var t=e.i(43476),r=e.i(71645),o=e.i(18566);let a=(0,r.createContext)(void 0),n="/api";function s(e){let{children:s}=e,[i,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(!0),m=(0,o.useRouter)(),g=(0,r.useCallback)(()=>{l(null),d(null),localStorage.removeItem("stardeck-token"),localStorage.removeItem("stardeck-user")},[]),f=(0,r.useCallback)(async e=>{try{let t=await fetch("".concat(n,"/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)return void g();let r=await t.json();l(r.user)}catch(e){console.warn("Could not validate session with server")}},[g]);(0,r.useEffect)(()=>{let e=localStorage.getItem("stardeck-token"),t=localStorage.getItem("stardeck-user");e&&t&&(d(e),l(JSON.parse(t)),f(e)),h(!1)},[f]);let k=async(e,t,r)=>{try{let o=await fetch("".concat(n,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,auth_type:r||""})});if(!o.ok){let e=await o.json().catch(()=>({}));throw Error(e.error||"Login failed")}let a=await o.json();return l(a.user),d(a.token),localStorage.setItem("stardeck-token",a.token),localStorage.setItem("stardeck-user",JSON.stringify(a.user)),!0}catch(e){throw console.error("Login error:",e),e}},b=async()=>{try{c&&await fetch("".concat(n,"/auth/logout"),{method:"POST",headers:{Authorization:"Bearer ".concat(c)}})}catch(e){}finally{g(),m.push("/login")}};return(0,t.jsx)(a.Provider,{value:{user:i,token:c,login:k,logout:b,isAuthenticated:!!i&&!!c,isLoading:u},children:s})}function i(){let e=(0,r.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},17995,1013,e=>{"use strict";e.s(["SettingsProvider",()=>k,"useSettings",()=>b],17995);var t=e.i(43476),r=e.i(71645);function o(e){let t,r={},o=/--([a-zA-Z0-9-]+):\s*([^;]+);/g;for(;null!==(t=o.exec(e));){let e=t[1],o=t[2].trim();r[e]=o}return r}function a(e){let t=function(e){let t=e.match(/:root\s*\{([^}]*(?:\{[^}]*\}[^}]*)*)\}/);return t?t[1]:null}(e),r=function(e){let t=e.match(/\.dark\s*\{([^}]*(?:\{[^}]*\}[^}]*)*)\}/);return t?t[1]:null}(e);return{light:t?o(t):{},dark:r?o(r):{}}}function n(e){let t=[];for(let r of["background","foreground","primary","accent"])e.light[r]||t.push("Missing light theme variable: --".concat(r));return Object.keys(e.dark).length>0||t.push("Warning: No dark theme variables found. Light theme will be used for both modes."),{isValid:0===t.filter(e=>!e.startsWith("Warning")).length,errors:t}}function s(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let t=document.documentElement;for(let[r,o]of Object.entries(e))void 0!==o&&t.style.setProperty("--".concat(r),o)}function i(e){let t=document.documentElement;for(let r of e)t.style.removeProperty("--".concat(r))}function l(){return["background","foreground","card","card-foreground","popover","popover-foreground","primary","primary-foreground","secondary","secondary-foreground","muted","muted-foreground","accent","accent-foreground","destructive","destructive-foreground","border","input","ring","chart-1","chart-2","chart-3","chart-4","chart-5","sidebar","sidebar-foreground","sidebar-primary","sidebar-primary-foreground","sidebar-accent","sidebar-accent-foreground","sidebar-border","sidebar-ring","font-sans","font-serif","font-mono","radius","spacing","tracking-normal","shadow-2xs","shadow-xs","shadow-sm","shadow","shadow-md","shadow-lg","shadow-xl","shadow-2xl"]}function c(e,t,r){return{id:"theme_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),name:e,createdAt:new Date().toISOString(),lightVariables:r.light,darkVariables:r.dark,rawCss:t}}function d(e){let t=":root {\n";for(let[r,o]of Object.entries(e.lightVariables))void 0!==o&&(t+="  --".concat(r,": ").concat(o,";\n"));for(let[r,o]of(t+="}\n\n.dark {\n",Object.entries(e.darkVariables)))void 0!==o&&(t+="  --".concat(r,": ").concat(o,";\n"));return t+"}\n"}e.s(["applyThemeVariables",()=>s,"clearThemeVariables",()=>i,"createCustomTheme",()=>c,"exportThemeToCSS",()=>d,"getThemeableVariables",()=>l,"parseThemeCSS",()=>a,"validateTheme",()=>n],1013);let u={cyan:{light:"oklch(0.7889 0.1105 196.6173)",dark:"oklch(0.7000 0.1190 200.4390)",lightForeground:"oklch(0.1496 0 0)",darkForeground:"oklch(0.1290 0.0714 263.7567)"},amber:{light:"oklch(0.7500 0.1500 65.0000)",dark:"oklch(0.7500 0.1500 65.0000)",lightForeground:"oklch(0.1496 0 0)",darkForeground:"oklch(0.1290 0.0714 263.7567)"},green:{light:"oklch(0.7200 0.1500 145.0000)",dark:"oklch(0.6800 0.1500 145.0000)",lightForeground:"oklch(0.1496 0 0)",darkForeground:"oklch(0.1290 0.0714 263.7567)"},purple:{light:"oklch(0.6500 0.1500 300.0000)",dark:"oklch(0.6800 0.1500 300.0000)",lightForeground:"oklch(0.9791 0 0)",darkForeground:"oklch(0.9791 0 0)"},red:{light:"oklch(0.6500 0.2000 25.0000)",dark:"oklch(0.6500 0.2000 25.0000)",lightForeground:"oklch(0.9791 0 0)",darkForeground:"oklch(0.9791 0 0)"}},h={taskbarPosition:"top",tray:{showCpu:!0,showMemory:!0,showDisk:!0,showNetwork:!0,refreshInterval:3},theme:{accentColor:"cyan",enableScanlines:!1,enableGlow:!0,enableAnimations:!0,activeCustomThemeId:null},desktop:{iconSize:"medium",showLabels:!0,gridSpacing:"normal",coloredIcons:!0,backgroundType:"default",backgroundColor:"#1a1a2e",backgroundGradient:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",backgroundImage:""}},m=(0,r.createContext)(void 0),g="stardeck-settings",f="stardeck-custom-themes";function k(e){let{children:o}=e,[a,n]=(0,r.useState)(h),[c,d]=(0,r.useState)([]),[k,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{try{let e=localStorage.getItem(g);if(e){let t=JSON.parse(e);t.theme&&void 0===t.theme.activeCustomThemeId&&(t.theme.activeCustomThemeId=null),n({...h,...t})}let t=localStorage.getItem(f);if(t){let e=JSON.parse(t);d(e)}}catch(e){console.error("Failed to load settings:",e)}b(!0)},[]),(0,r.useEffect)(()=>{if(k)try{localStorage.setItem(g,JSON.stringify(a))}catch(e){console.error("Failed to save settings:",e)}},[a,k]),(0,r.useEffect)(()=>{if(k)try{localStorage.setItem(f,JSON.stringify(c))}catch(e){console.error("Failed to save custom themes:",e)}},[c,k]),(0,r.useEffect)(()=>{if(!k)return;let e=document.documentElement,t=e.classList.contains("dark"),r=a.theme.activeCustomThemeId?c.find(e=>e.id===a.theme.activeCustomThemeId):null;if(r){let e=t?r.darkVariables:r.lightVariables;s(Object.keys(e).length>0?e:r.lightVariables,t)}else{i(l());let r=u[a.theme.accentColor];e.style.setProperty("--accent",t?r.dark:r.light),e.style.setProperty("--accent-foreground",t?r.darkForeground:r.lightForeground),e.style.setProperty("--ring",t?r.dark:r.light)}},[a.theme.accentColor,a.theme.activeCustomThemeId,c,k]),(0,r.useEffect)(()=>{if(!k)return;let e=new MutationObserver(e=>{e.forEach(e=>{if("attributes"===e.type&&"class"===e.attributeName){let e=document.documentElement,t=e.classList.contains("dark"),r=a.theme.activeCustomThemeId?c.find(e=>e.id===a.theme.activeCustomThemeId):null;if(r){let e=t?r.darkVariables:r.lightVariables;s(Object.keys(e).length>0?e:r.lightVariables,t)}else{let r=u[a.theme.accentColor];e.style.setProperty("--accent",t?r.dark:r.light),e.style.setProperty("--accent-foreground",t?r.darkForeground:r.lightForeground),e.style.setProperty("--ring",t?r.dark:r.light)}}})});return e.observe(document.documentElement,{attributes:!0}),()=>e.disconnect()},[a.theme.accentColor,a.theme.activeCustomThemeId,c,k]);let v=e=>{n(t=>({...t,theme:{...t.theme,...e}}))};return(0,t.jsx)(m.Provider,{value:{settings:a,updateSettings:e=>{n(t=>({...t,...e}))},updateTraySettings:e=>{n(t=>({...t,tray:{...t.tray,...e}}))},updateThemeSettings:v,updateDesktopSettings:e=>{n(t=>({...t,desktop:{...t.desktop,...e}}))},resetSettings:()=>{n(h)},customThemes:c,addCustomTheme:e=>{d(t=>[...t,e])},removeCustomTheme:e=>{a.theme.activeCustomThemeId===e&&v({activeCustomThemeId:null}),d(t=>t.filter(t=>t.id!==e))},applyCustomTheme:e=>{v({activeCustomThemeId:e})},getActiveCustomTheme:()=>a.theme.activeCustomThemeId&&c.find(e=>e.id===a.theme.activeCustomThemeId)||null},children:o})}function b(){let e=(0,r.useContext)(m);if(void 0===e)throw Error("useSettings must be used within a SettingsProvider");return e}}]);