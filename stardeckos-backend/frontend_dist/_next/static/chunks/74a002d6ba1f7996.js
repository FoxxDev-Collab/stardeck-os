(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";e.s(["Card",()=>r,"CardContent",()=>o,"CardDescription",()=>a,"CardHeader",()=>l,"CardTitle",()=>s]);var t=e.i(43476),n=e.i(47163);function r(e){let{className:r,...l}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...l})}function l(e){let{className:r,...l}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...l})}function s(e){let{className:r,...l}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",r),...l})}function a(e){let{className:r,...l}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",r),...l})}function o(e){let{className:r,...l}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",r),...l})}},98361,e=>{"use strict";e.s(["Maximize2",()=>t],98361);let t=(0,e.i(75254).default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]])},2961,e=>{"use strict";e.s(["default",()=>u],2961);var t=e.i(43476),n=e.i(71645),r=e.i(18566),l=e.i(91432),s=e.i(48654),a=e.i(70065),o=e.i(67881),i=e.i(68054),c=e.i(98361);let d=(0,e.i(75254).default)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);function u(){let{user:u,isLoading:m}=(0,l.useAuth)(),h=(0,r.useRouter)(),f=(0,n.useRef)(null),x=(0,n.useRef)(null),p=(0,n.useRef)(null),g=(0,n.useRef)(null),[b,j]=(0,n.useState)(!1),[w,v]=(0,n.useState)(!1),[y,k]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{m||u||h.push("/login")},[u,m,h]),(0,n.useEffect)(()=>{if(!f.current||!u)return;let t=null,n=null,r=null;(async()=>{let[{Terminal:l},{FitAddon:s},{WebLinksAddon:a}]=await Promise.all([e.A(42728),e.A(85905),e.A(15716)]);t=new l({cursorBlink:!0,fontSize:14,fontFamily:'Menlo, Monaco, "Courier New", monospace',theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#ffffff"},allowProposedApi:!0}),r=new s;let o=new a;t.loadAddon(r),t.loadAddon(o),g.current=r,x.current=t,f.current&&t.open(f.current),k(!0),setTimeout(()=>{try{null==r||r.fit()}catch(e){console.error("Error fitting terminal:",e)}},10);let i=localStorage.getItem("stardeck-token");if(!i)return t.writeln("\r\n\x1b[1;31mNo authentication token found\x1b[0m\r\n");let c="3000"===window.location.port,d=c||"https:"===window.location.protocol?"wss:":"ws:",u=c?"".concat(window.location.hostname,":443"):window.location.host,m="".concat(d,"//").concat(u,"/api/terminal/ws?token=").concat(encodeURIComponent(i));console.log("Connecting to WebSocket:",m.replace(i,"***")),p.current=n=new WebSocket(m),n.onopen=()=>{j(!0),t&&(null==n||n.send(JSON.stringify({type:"resize",rows:t.rows,cols:t.cols})))},n.onmessage=e=>{null==t||t.write(e.data)},n.onerror=e=>{console.error("WebSocket error:",e),null==t||t.writeln("\r\n\x1b[1;31mWebSocket connection error\x1b[0m\r\n"),j(!1)},n.onclose=e=>{console.log("WebSocket closed:",e.code,e.reason),null==t||t.writeln("\r\n\x1b[1;33mConnection closed\x1b[0m\r\n"),j(!1)},t.onData(e=>{(null==n?void 0:n.readyState)===WebSocket.OPEN&&n.send(JSON.stringify({type:"input",data:e}))}),t.onResize(e=>{let{rows:t,cols:r}=e;(null==n?void 0:n.readyState)===WebSocket.OPEN&&n.send(JSON.stringify({type:"resize",rows:t,cols:r}))})})();let l=()=>{try{var e;null==(e=g.current)||e.fit()}catch(e){console.error("Error fitting terminal on resize:",e)}};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l),null==n||n.close(),null==t||t.dispose()}},[u]),m)?(0,t.jsx)(s.DashboardLayout,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsx)("p",{children:"Loading..."})})}):u?(0,t.jsx)(s.DashboardLayout,{children:(0,t.jsxs)("div",{className:"flex flex-col ".concat(w?"h-screen":"h-full"," p-4 gap-4"),children:[(0,t.jsxs)(a.Card,{className:w?"flex-1 flex flex-col":"",children:[(0,t.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Terminal,{className:"w-5 h-5"}),"Terminal"]}),(0,t.jsxs)(a.CardDescription,{children:["Interactive shell terminal",b&&(0,t.jsx)("span",{className:"ml-2 text-green-600",children:"● Connected"}),!b&&(0,t.jsx)("span",{className:"ml-2 text-red-600",children:"● Disconnected"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[!b&&y&&(0,t.jsx)(o.Button,{onClick:()=>{p.current&&p.current.close(),window.location.reload()},variant:"outline",size:"sm",children:"Reconnect"}),(0,t.jsx)(o.Button,{onClick:()=>{v(!w),setTimeout(()=>{try{var e;null==(e=g.current)||e.fit()}catch(e){console.error("Error fitting terminal in fullscreen:",e)}},100)},variant:"outline",size:"sm",className:"flex items-center gap-2",children:w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{className:"w-4 h-4"}),"Exit Fullscreen"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Maximize2,{className:"w-4 h-4"}),"Fullscreen"]})})]})]}),(0,t.jsx)(a.CardContent,{className:w?"flex-1 p-0":"p-0",children:(0,t.jsx)("div",{ref:f,className:"w-full ".concat(w?"h-full":"h-[600px]"," bg-[#1e1e1e] rounded-b-lg overflow-hidden"),style:{padding:"8px"}})})]}),!w&&(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:"Terminal Tips"})}),(0,t.jsxs)(a.CardContent,{className:"space-y-2 text-sm text-muted-foreground",children:[(0,t.jsx)("p",{children:"• This is a fully interactive shell terminal running on the server"}),(0,t.jsx)("p",{children:"• Supports colors, cursor movement, and all standard terminal features"}),(0,t.jsx)("p",{children:"• Use Ctrl+C to interrupt running processes"}),(0,t.jsx)("p",{children:"• Your default shell environment is loaded automatically"}),(0,t.jsx)("p",{children:"• Terminal sessions are isolated per connection"})]})]})]})}):null}},42728,e=>{e.v(t=>Promise.all(["static/chunks/ba93d29692d771d9.js"].map(t=>e.l(t))).then(()=>t(6868)))},85905,e=>{e.v(t=>Promise.all(["static/chunks/7c6b47bbb0b14e52.js"].map(t=>e.l(t))).then(()=>t(69382)))},15716,e=>{e.v(t=>Promise.all(["static/chunks/82073e4583483390.js"].map(t=>e.l(t))).then(()=>t(68596)))}]);